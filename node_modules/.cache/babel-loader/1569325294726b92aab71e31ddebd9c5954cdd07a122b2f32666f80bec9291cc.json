{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/RailwayPlatform.js\",\n  _s = $RefreshSig$();\n// RailwayPlatform.js - Railway UI with proper 2-panel layout and full drag/resize\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useProject } from '../contexts/ProjectContext';\nimport ContentGeneratorModule from './ContentGeneratorModule';\nimport API_BASE_URL from '../config/api';\nimport { Bot, Brain, FileText, Users, TrendingUp, AlertTriangle, BarChart3, Archive, Send, ChevronLeft, ChevronRight, X, Sparkles, MessageSquare, Shield, Target, Menu, GripVertical, Maximize2, Minimize2, Move } from 'lucide-react';\nimport { Panel, PanelGroup, PanelResizeHandle } from 'react-resizable-panels';\nimport './RailwayPlatform.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RailwayPlatform = () => {\n  _s();\n  const {\n    projectId\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    activeProject\n  } = useProject();\n  const messagesEndRef = useRef(null);\n\n  // Panel states\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const [isFeatureExpanded, setIsFeatureExpanded] = useState(false);\n\n  // AI Assistant state\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [isEditingMode, setIsEditingMode] = useState(false);\n\n  // Content Generator state\n  const [generatedContent, setGeneratedContent] = useState('');\n  const [currentContentType, setCurrentContentType] = useState(null);\n\n  // Layout preferences\n  const [layoutMode, setLayoutMode] = useState('default'); // default, focus, compact\n  const [aiPanelSize, setAiPanelSize] = useState(30); // percentage\n\n  // Feature definitions - all SignalDesk components\n  const features = [{\n    id: 'content-generator',\n    name: 'Content Generator',\n    icon: FileText,\n    color: '#8b5cf6',\n    description: 'AI-powered content creation',\n    status: 'active',\n    component: ContentGeneratorModule\n  }, {\n    id: 'media-intelligence',\n    name: 'Media Intelligence',\n    icon: Users,\n    color: '#10b981',\n    description: 'Journalist discovery & outreach',\n    status: 'pending',\n    path: `/projects/${projectId}/media-list`\n  }, {\n    id: 'campaign-intelligence',\n    name: 'Campaign Intelligence',\n    icon: Brain,\n    color: '#f59e0b',\n    description: 'Strategic campaign planning',\n    status: 'pending',\n    path: `/projects/${projectId}/campaign-intelligence-enhanced`\n  }, {\n    id: 'memory-vault',\n    name: 'Memory Vault',\n    icon: Archive,\n    color: '#6366f1',\n    description: 'Project knowledge base',\n    status: 'pending',\n    path: `/projects/${projectId}`\n  }, {\n    id: 'stakeholder-intelligence',\n    name: 'Stakeholder Intelligence',\n    icon: TrendingUp,\n    color: '#ec4899',\n    description: 'Stakeholder monitoring',\n    status: 'pending',\n    path: `/projects/${projectId}/stakeholder-intelligence`\n  }, {\n    id: 'crisis-command',\n    name: 'Crisis Command',\n    icon: AlertTriangle,\n    color: '#ef4444',\n    description: 'Crisis management',\n    status: 'pending',\n    path: `/projects/${projectId}/crisis-command`\n  }, {\n    id: 'reports',\n    name: 'Reports & Analytics',\n    icon: BarChart3,\n    color: '#14b8a6',\n    description: 'Performance metrics',\n    status: 'pending',\n    path: `/projects/${projectId}/reports`\n  }];\n\n  // Initialize AI Assistant\n  useEffect(() => {\n    setMessages([{\n      id: Date.now(),\n      type: 'assistant',\n      content: 'Welcome to SignalDesk Railway UI! Select a feature to get started. You can drag and resize panels to customize your workspace.',\n      timestamp: new Date()\n    }]);\n\n    // Load saved layout preferences\n    const savedLayout = localStorage.getItem('railwayLayoutPrefs');\n    if (savedLayout) {\n      const prefs = JSON.parse(savedLayout);\n      setLayoutMode(prefs.layoutMode || 'default');\n      setAiPanelSize(prefs.aiPanelSize || 30);\n    }\n  }, []);\n\n  // Save layout preferences\n  const saveLayoutPreferences = size => {\n    const prefs = {\n      layoutMode,\n      aiPanelSize: size\n    };\n    localStorage.setItem('railwayLayoutPrefs', JSON.stringify(prefs));\n  };\n\n  // Handle feature selection\n  const handleFeatureSelect = feature => {\n    if (feature.status === 'pending' && feature.path) {\n      navigate(feature.path);\n      return;\n    }\n\n    // Expand feature panel and set selected feature\n    setSelectedFeature(feature);\n    setIsFeatureExpanded(true);\n\n    // Inform AI Assistant\n    const contextMsg = {\n      id: Date.now(),\n      type: 'system',\n      content: `Activated ${feature.name}. ${feature.description}`,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, contextMsg]);\n  };\n\n  // Handle messages from Content Generator\n  const handleContentGeneratorMessage = msg => {\n    if (msg.type === 'edit_request') {\n      setIsEditingMode(true);\n      handleEditRequest(msg);\n    } else if (msg.type === 'user' && msg.content) {\n      const userMsg = {\n        id: Date.now(),\n        type: 'user',\n        content: msg.content,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, userMsg]);\n      sendMessage(msg.content);\n    }\n  };\n\n  // Handle edit requests\n  const handleEditRequest = async request => {\n    const {\n      content: editPrompt,\n      currentContent,\n      metadata\n    } = request;\n    const userMsg = {\n      id: Date.now(),\n      type: 'user',\n      content: `Please edit this content: \"${editPrompt}\"`,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/ai/unified-chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          message: `Edit the following content based on this request: \"${editPrompt}\"\\n\\nCurrent content:\\n${currentContent}`,\n          mode: 'content',\n          context: {\n            folder: 'content-generator',\n            editing: true,\n            contentType: metadata === null || metadata === void 0 ? void 0 : metadata.contentType,\n            tone: metadata === null || metadata === void 0 ? void 0 : metadata.tone\n          }\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        const aiMsg = {\n          id: Date.now(),\n          type: 'assistant',\n          content: data.response,\n          timestamp: new Date()\n        };\n        setMessages(prev => [...prev, aiMsg]);\n        setGeneratedContent(data.response);\n      }\n    } catch (error) {\n      console.error('Error processing edit:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Send message to AI\n  const sendMessage = async text => {\n    if (!(text !== null && text !== void 0 && text.trim())) return;\n    setLoading(true);\n    try {\n      const isEditing = isEditingMode && generatedContent;\n      const response = await fetch(`${API_BASE_URL}/ai/unified-chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          message: isEditing ? `Continue editing this content based on: \"${text}\"\\n\\nCurrent content:\\n${generatedContent}` : text,\n          mode: (selectedFeature === null || selectedFeature === void 0 ? void 0 : selectedFeature.id) === 'content-generator' ? 'content' : 'general',\n          context: {\n            folder: selectedFeature === null || selectedFeature === void 0 ? void 0 : selectedFeature.id,\n            editing: isEditing\n          }\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        const aiMsg = {\n          id: Date.now(),\n          type: 'assistant',\n          content: data.response,\n          timestamp: new Date()\n        };\n        setMessages(prev => [...prev, aiMsg]);\n        if (isActualGeneratedContent(data.response)) {\n          setGeneratedContent(data.response);\n          detectContentType(data.response);\n        }\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle form submission\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!message.trim() || loading) return;\n    const userMsg = {\n      id: Date.now(),\n      type: 'user',\n      content: message,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMsg]);\n    sendMessage(message);\n    setMessage('');\n  };\n\n  // Check if response is actual generated content\n  const isActualGeneratedContent = text => {\n    if (!text || text.length < 100) return false;\n    const indicators = ['FOR IMMEDIATE RELEASE', 'Dear ', 'Subject:', 'Q:', 'Question:', '#', 'We are pleased'];\n    return indicators.some(indicator => text.includes(indicator));\n  };\n\n  // Detect content type\n  const detectContentType = text => {\n    if (text.includes('FOR IMMEDIATE RELEASE')) {\n      setCurrentContentType('press-release');\n    } else if (text.includes('Q:') || text.includes('Question:')) {\n      setCurrentContentType('qa-doc');\n    } else if (text.includes('#')) {\n      setCurrentContentType('social-post');\n    }\n  };\n\n  // Update content from Content Generator\n  const handleContentUpdate = newContent => {\n    setGeneratedContent(newContent);\n    if (newContent && !isEditingMode) {\n      setIsEditingMode(false);\n    }\n  };\n\n  // Auto-scroll messages\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n\n  // Layout presets\n  const applyLayoutPreset = preset => {\n    setLayoutMode(preset);\n    switch (preset) {\n      case 'focus':\n        setAiPanelSize(20);\n        break;\n      case 'compact':\n        setAiPanelSize(25);\n        break;\n      case 'balanced':\n        setAiPanelSize(35);\n        break;\n      default:\n        setAiPanelSize(30);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"railway-platform\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout-controls\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"preset-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => applyLayoutPreset('default'),\n          className: layoutMode === 'default' ? 'active' : '',\n          title: \"Default Layout\",\n          children: /*#__PURE__*/_jsxDEV(Maximize2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => applyLayoutPreset('focus'),\n          className: layoutMode === 'focus' ? 'active' : '',\n          title: \"Focus Mode\",\n          children: /*#__PURE__*/_jsxDEV(Target, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => applyLayoutPreset('compact'),\n          className: layoutMode === 'compact' ? 'active' : '',\n          title: \"Compact Mode\",\n          children: /*#__PURE__*/_jsxDEV(Minimize2, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => applyLayoutPreset('balanced'),\n          className: layoutMode === 'balanced' ? 'active' : '',\n          title: \"Balanced Mode\",\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PanelGroup, {\n      direction: \"horizontal\",\n      className: \"railway-panel-group\",\n      onLayout: sizes => {\n        if (sizes[0]) {\n          setAiPanelSize(sizes[0]);\n          saveLayoutPreferences(sizes[0]);\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(Panel, {\n        defaultSize: aiPanelSize,\n        minSize: 15,\n        maxSize: 50,\n        className: \"ai-assistant-panel\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"railway-terminal\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"terminal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"terminal-title\",\n              children: [/*#__PURE__*/_jsxDEV(Bot, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Adaptive AI Assistant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mode-badge\",\n                children: selectedFeature ? `${selectedFeature.name} Mode` : 'General Mode'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"terminal-controls\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"control-dot close\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"control-dot minimize\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"control-dot maximize\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"terminal-messages\",\n            children: [messages.map(msg => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `message ${msg.type}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-content\",\n                children: [msg.type === 'assistant' && /*#__PURE__*/_jsxDEV(Bot, {\n                  size: 16,\n                  className: \"message-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 50\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"message-text\",\n                  children: msg.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"message-time\",\n                children: new Date(msg.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this)]\n            }, msg.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"typing-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"typing-text\",\n                children: \"AI is thinking...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              ref: messagesEndRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"terminal-input-form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-wrapper\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"prompt-symbol\",\n                children: \"\\u276F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: message,\n                onChange: e => setMessage(e.target.value),\n                placeholder: isEditingMode ? \"Continue editing...\" : \"Ask me anything...\",\n                disabled: loading,\n                className: \"terminal-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                disabled: loading || !message.trim(),\n                className: \"send-button\",\n                children: /*#__PURE__*/_jsxDEV(Send, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PanelResizeHandle, {\n        className: \"railway-resize-handle\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"resize-handle-inner\",\n          children: /*#__PURE__*/_jsxDEV(GripVertical, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Panel, {\n        className: \"feature-workspace-panel\",\n        children: isFeatureExpanded && selectedFeature ?\n        /*#__PURE__*/\n        // Expanded Feature View\n        _jsxDEV(\"div\", {\n          className: \"feature-expanded\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feature-expanded-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setIsFeatureExpanded(false);\n                setSelectedFeature(null);\n                setIsEditingMode(false);\n                setGeneratedContent('');\n              },\n              className: \"back-button\",\n              children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Back to Features\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"feature-title\",\n              children: [/*#__PURE__*/React.createElement(selectedFeature.icon, {\n                size: 20,\n                color: selectedFeature.color\n              }), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: selectedFeature.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feature-expanded-content\",\n            children: selectedFeature.id === 'content-generator' && /*#__PURE__*/_jsxDEV(ContentGeneratorModule, {\n              onAIMessage: handleContentGeneratorMessage,\n              generatedContent: generatedContent,\n              onContentUpdate: handleContentUpdate,\n              currentContentType: currentContentType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 13\n        }, this) :\n        /*#__PURE__*/\n        // Feature List View\n        _jsxDEV(\"div\", {\n          className: \"feature-list-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feature-list-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Features & Tools\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: (activeProject === null || activeProject === void 0 ? void 0 : activeProject.name) || 'Select a feature to begin'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"feature-list\",\n            children: features.map(feature => {\n              const Icon = feature.icon;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleFeatureSelect(feature),\n                className: \"feature-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"feature-icon\",\n                  style: {\n                    backgroundColor: `${feature.color}20`\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Icon, {\n                    size: 20,\n                    style: {\n                      color: feature.color\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"feature-details\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"feature-name\",\n                    children: [feature.name, feature.status === 'active' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"status-badge\",\n                      children: \"READY\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 541,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 538,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"feature-description\",\n                    children: feature.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n                  size: 16,\n                  className: \"feature-arrow\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 546,\n                  columnNumber: 23\n                }, this)]\n              }, feature.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n};\n_s(RailwayPlatform, \"3140a1LAbDt0OPWGtEJwhWrBRfw=\", false, function () {\n  return [useParams, useNavigate, useProject];\n});\n_c = RailwayPlatform;\nexport default RailwayPlatform;\nvar _c;\n$RefreshReg$(_c, \"RailwayPlatform\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","useProject","ContentGeneratorModule","API_BASE_URL","Bot","Brain","FileText","Users","TrendingUp","AlertTriangle","BarChart3","Archive","Send","ChevronLeft","ChevronRight","X","Sparkles","MessageSquare","Shield","Target","Menu","GripVertical","Maximize2","Minimize2","Move","Panel","PanelGroup","PanelResizeHandle","jsxDEV","_jsxDEV","RailwayPlatform","_s","projectId","navigate","activeProject","messagesEndRef","selectedFeature","setSelectedFeature","isFeatureExpanded","setIsFeatureExpanded","message","setMessage","messages","setMessages","loading","setLoading","isEditingMode","setIsEditingMode","generatedContent","setGeneratedContent","currentContentType","setCurrentContentType","layoutMode","setLayoutMode","aiPanelSize","setAiPanelSize","features","id","name","icon","color","description","status","component","path","Date","now","type","content","timestamp","savedLayout","localStorage","getItem","prefs","JSON","parse","saveLayoutPreferences","size","setItem","stringify","handleFeatureSelect","feature","contextMsg","prev","handleContentGeneratorMessage","msg","handleEditRequest","userMsg","sendMessage","request","editPrompt","currentContent","metadata","response","fetch","method","headers","body","mode","context","folder","editing","contentType","tone","data","json","success","aiMsg","error","console","text","trim","isEditing","isActualGeneratedContent","detectContentType","handleSubmit","e","preventDefault","length","indicators","some","indicator","includes","handleContentUpdate","newContent","_messagesEndRef$curre","current","scrollIntoView","behavior","applyLayoutPreset","preset","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","direction","onLayout","sizes","defaultSize","minSize","maxSize","map","toLocaleTimeString","ref","onSubmit","value","onChange","target","placeholder","disabled","createElement","onAIMessage","onContentUpdate","Icon","style","backgroundColor","_c","$RefreshReg$"],"sources":["/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/RailwayPlatform.js"],"sourcesContent":["// RailwayPlatform.js - Railway UI with proper 2-panel layout and full drag/resize\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useProject } from '../contexts/ProjectContext';\nimport ContentGeneratorModule from './ContentGeneratorModule';\nimport API_BASE_URL from '../config/api';\nimport {\n  Bot, Brain, FileText, Users, TrendingUp, AlertTriangle, \n  BarChart3, Archive, Send, ChevronLeft, ChevronRight, X,\n  Sparkles, MessageSquare, Shield, Target, Menu, GripVertical,\n  Maximize2, Minimize2, Move\n} from 'lucide-react';\nimport { Panel, PanelGroup, PanelResizeHandle } from 'react-resizable-panels';\nimport './RailwayPlatform.css';\n\nconst RailwayPlatform = () => {\n  const { projectId } = useParams();\n  const navigate = useNavigate();\n  const { activeProject } = useProject();\n  const messagesEndRef = useRef(null);\n  \n  // Panel states\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const [isFeatureExpanded, setIsFeatureExpanded] = useState(false);\n  \n  // AI Assistant state\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [isEditingMode, setIsEditingMode] = useState(false);\n  \n  // Content Generator state\n  const [generatedContent, setGeneratedContent] = useState('');\n  const [currentContentType, setCurrentContentType] = useState(null);\n\n  // Layout preferences\n  const [layoutMode, setLayoutMode] = useState('default'); // default, focus, compact\n  const [aiPanelSize, setAiPanelSize] = useState(30); // percentage\n\n  // Feature definitions - all SignalDesk components\n  const features = [\n    {\n      id: 'content-generator',\n      name: 'Content Generator',\n      icon: FileText,\n      color: '#8b5cf6',\n      description: 'AI-powered content creation',\n      status: 'active',\n      component: ContentGeneratorModule\n    },\n    {\n      id: 'media-intelligence',\n      name: 'Media Intelligence',\n      icon: Users,\n      color: '#10b981',\n      description: 'Journalist discovery & outreach',\n      status: 'pending',\n      path: `/projects/${projectId}/media-list`\n    },\n    {\n      id: 'campaign-intelligence',\n      name: 'Campaign Intelligence',\n      icon: Brain,\n      color: '#f59e0b',\n      description: 'Strategic campaign planning',\n      status: 'pending',\n      path: `/projects/${projectId}/campaign-intelligence-enhanced`\n    },\n    {\n      id: 'memory-vault',\n      name: 'Memory Vault',\n      icon: Archive,\n      color: '#6366f1',\n      description: 'Project knowledge base',\n      status: 'pending',\n      path: `/projects/${projectId}`\n    },\n    {\n      id: 'stakeholder-intelligence',\n      name: 'Stakeholder Intelligence',\n      icon: TrendingUp,\n      color: '#ec4899',\n      description: 'Stakeholder monitoring',\n      status: 'pending',\n      path: `/projects/${projectId}/stakeholder-intelligence`\n    },\n    {\n      id: 'crisis-command',\n      name: 'Crisis Command',\n      icon: AlertTriangle,\n      color: '#ef4444',\n      description: 'Crisis management',\n      status: 'pending',\n      path: `/projects/${projectId}/crisis-command`\n    },\n    {\n      id: 'reports',\n      name: 'Reports & Analytics',\n      icon: BarChart3,\n      color: '#14b8a6',\n      description: 'Performance metrics',\n      status: 'pending',\n      path: `/projects/${projectId}/reports`\n    }\n  ];\n\n  // Initialize AI Assistant\n  useEffect(() => {\n    setMessages([{\n      id: Date.now(),\n      type: 'assistant',\n      content: 'Welcome to SignalDesk Railway UI! Select a feature to get started. You can drag and resize panels to customize your workspace.',\n      timestamp: new Date()\n    }]);\n\n    // Load saved layout preferences\n    const savedLayout = localStorage.getItem('railwayLayoutPrefs');\n    if (savedLayout) {\n      const prefs = JSON.parse(savedLayout);\n      setLayoutMode(prefs.layoutMode || 'default');\n      setAiPanelSize(prefs.aiPanelSize || 30);\n    }\n  }, []);\n\n  // Save layout preferences\n  const saveLayoutPreferences = (size) => {\n    const prefs = {\n      layoutMode,\n      aiPanelSize: size\n    };\n    localStorage.setItem('railwayLayoutPrefs', JSON.stringify(prefs));\n  };\n\n  // Handle feature selection\n  const handleFeatureSelect = (feature) => {\n    if (feature.status === 'pending' && feature.path) {\n      navigate(feature.path);\n      return;\n    }\n\n    // Expand feature panel and set selected feature\n    setSelectedFeature(feature);\n    setIsFeatureExpanded(true);\n    \n    // Inform AI Assistant\n    const contextMsg = {\n      id: Date.now(),\n      type: 'system',\n      content: `Activated ${feature.name}. ${feature.description}`,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, contextMsg]);\n  };\n\n  // Handle messages from Content Generator\n  const handleContentGeneratorMessage = (msg) => {\n    if (msg.type === 'edit_request') {\n      setIsEditingMode(true);\n      handleEditRequest(msg);\n    } else if (msg.type === 'user' && msg.content) {\n      const userMsg = {\n        id: Date.now(),\n        type: 'user',\n        content: msg.content,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, userMsg]);\n      sendMessage(msg.content);\n    }\n  };\n\n  // Handle edit requests\n  const handleEditRequest = async (request) => {\n    const { content: editPrompt, currentContent, metadata } = request;\n    \n    const userMsg = {\n      id: Date.now(),\n      type: 'user',\n      content: `Please edit this content: \"${editPrompt}\"`,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMsg]);\n    \n    setLoading(true);\n    try {\n      const response = await fetch(`${API_BASE_URL}/ai/unified-chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          message: `Edit the following content based on this request: \"${editPrompt}\"\\n\\nCurrent content:\\n${currentContent}`,\n          mode: 'content',\n          context: {\n            folder: 'content-generator',\n            editing: true,\n            contentType: metadata?.contentType,\n            tone: metadata?.tone\n          }\n        })\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        const aiMsg = {\n          id: Date.now(),\n          type: 'assistant',\n          content: data.response,\n          timestamp: new Date()\n        };\n        setMessages(prev => [...prev, aiMsg]);\n        setGeneratedContent(data.response);\n      }\n    } catch (error) {\n      console.error('Error processing edit:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Send message to AI\n  const sendMessage = async (text) => {\n    if (!text?.trim()) return;\n\n    setLoading(true);\n    \n    try {\n      const isEditing = isEditingMode && generatedContent;\n      \n      const response = await fetch(`${API_BASE_URL}/ai/unified-chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\n        },\n        body: JSON.stringify({\n          message: isEditing ? \n            `Continue editing this content based on: \"${text}\"\\n\\nCurrent content:\\n${generatedContent}` : \n            text,\n          mode: selectedFeature?.id === 'content-generator' ? 'content' : 'general',\n          context: {\n            folder: selectedFeature?.id,\n            editing: isEditing\n          }\n        })\n      });\n\n      const data = await response.json();\n      \n      if (data.success) {\n        const aiMsg = {\n          id: Date.now(),\n          type: 'assistant',\n          content: data.response,\n          timestamp: new Date()\n        };\n        setMessages(prev => [...prev, aiMsg]);\n        \n        if (isActualGeneratedContent(data.response)) {\n          setGeneratedContent(data.response);\n          detectContentType(data.response);\n        }\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Handle form submission\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!message.trim() || loading) return;\n\n    const userMsg = {\n      id: Date.now(),\n      type: 'user',\n      content: message,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMsg]);\n    \n    sendMessage(message);\n    setMessage('');\n  };\n\n  // Check if response is actual generated content\n  const isActualGeneratedContent = (text) => {\n    if (!text || text.length < 100) return false;\n    \n    const indicators = [\n      'FOR IMMEDIATE RELEASE',\n      'Dear ',\n      'Subject:',\n      'Q:',\n      'Question:',\n      '#',\n      'We are pleased'\n    ];\n    \n    return indicators.some(indicator => text.includes(indicator));\n  };\n\n  // Detect content type\n  const detectContentType = (text) => {\n    if (text.includes('FOR IMMEDIATE RELEASE')) {\n      setCurrentContentType('press-release');\n    } else if (text.includes('Q:') || text.includes('Question:')) {\n      setCurrentContentType('qa-doc');\n    } else if (text.includes('#')) {\n      setCurrentContentType('social-post');\n    }\n  };\n\n  // Update content from Content Generator\n  const handleContentUpdate = (newContent) => {\n    setGeneratedContent(newContent);\n    if (newContent && !isEditingMode) {\n      setIsEditingMode(false);\n    }\n  };\n\n  // Auto-scroll messages\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  // Layout presets\n  const applyLayoutPreset = (preset) => {\n    setLayoutMode(preset);\n    switch(preset) {\n      case 'focus':\n        setAiPanelSize(20);\n        break;\n      case 'compact':\n        setAiPanelSize(25);\n        break;\n      case 'balanced':\n        setAiPanelSize(35);\n        break;\n      default:\n        setAiPanelSize(30);\n    }\n  };\n\n  return (\n    <div className=\"railway-platform\">\n      {/* Layout Controls */}\n      <div className=\"layout-controls\">\n        <div className=\"preset-buttons\">\n          <button \n            onClick={() => applyLayoutPreset('default')}\n            className={layoutMode === 'default' ? 'active' : ''}\n            title=\"Default Layout\"\n          >\n            <Maximize2 size={16} />\n          </button>\n          <button \n            onClick={() => applyLayoutPreset('focus')}\n            className={layoutMode === 'focus' ? 'active' : ''}\n            title=\"Focus Mode\"\n          >\n            <Target size={16} />\n          </button>\n          <button \n            onClick={() => applyLayoutPreset('compact')}\n            className={layoutMode === 'compact' ? 'active' : ''}\n            title=\"Compact Mode\"\n          >\n            <Minimize2 size={16} />\n          </button>\n          <button \n            onClick={() => applyLayoutPreset('balanced')}\n            className={layoutMode === 'balanced' ? 'active' : ''}\n            title=\"Balanced Mode\"\n          >\n            <Menu size={16} />\n          </button>\n        </div>\n      </div>\n\n      {/* Main Layout with Resizable Panels */}\n      <PanelGroup \n        direction=\"horizontal\" \n        className=\"railway-panel-group\"\n        onLayout={(sizes) => {\n          if (sizes[0]) {\n            setAiPanelSize(sizes[0]);\n            saveLayoutPreferences(sizes[0]);\n          }\n        }}\n      >\n        {/* AI Assistant Panel */}\n        <Panel \n          defaultSize={aiPanelSize}\n          minSize={15}\n          maxSize={50}\n          className=\"ai-assistant-panel\"\n        >\n          <div className=\"railway-terminal\">\n            {/* Terminal Header */}\n            <div className=\"terminal-header\">\n              <div className=\"terminal-title\">\n                <Bot size={20} />\n                <span>Adaptive AI Assistant</span>\n                <span className=\"mode-badge\">\n                  {selectedFeature ? `${selectedFeature.name} Mode` : 'General Mode'}\n                </span>\n              </div>\n              <div className=\"terminal-controls\">\n                <span className=\"control-dot close\"></span>\n                <span className=\"control-dot minimize\"></span>\n                <span className=\"control-dot maximize\"></span>\n              </div>\n            </div>\n\n            {/* Messages */}\n            <div className=\"terminal-messages\">\n              {messages.map(msg => (\n                <div\n                  key={msg.id}\n                  className={`message ${msg.type}`}\n                >\n                  <div className=\"message-content\">\n                    {msg.type === 'assistant' && <Bot size={16} className=\"message-icon\" />}\n                    <div className=\"message-text\">{msg.content}</div>\n                  </div>\n                  <span className=\"message-time\">\n                    {new Date(msg.timestamp).toLocaleTimeString()}\n                  </span>\n                </div>\n              ))}\n              {loading && (\n                <div className=\"typing-indicator\">\n                  <span></span>\n                  <span></span>\n                  <span></span>\n                  <span className=\"typing-text\">AI is thinking...</span>\n                </div>\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input Form */}\n            <form onSubmit={handleSubmit} className=\"terminal-input-form\">\n              <div className=\"input-wrapper\">\n                <span className=\"prompt-symbol\">❯</span>\n                <input\n                  type=\"text\"\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  placeholder={isEditingMode ? \"Continue editing...\" : \"Ask me anything...\"}\n                  disabled={loading}\n                  className=\"terminal-input\"\n                />\n                <button\n                  type=\"submit\"\n                  disabled={loading || !message.trim()}\n                  className=\"send-button\"\n                >\n                  <Send size={16} />\n                </button>\n              </div>\n            </form>\n          </div>\n        </Panel>\n\n        {/* Resize Handle */}\n        <PanelResizeHandle className=\"railway-resize-handle\">\n          <div className=\"resize-handle-inner\">\n            <GripVertical size={16} />\n          </div>\n        </PanelResizeHandle>\n\n        {/* Feature Panel / Workspace */}\n        <Panel className=\"feature-workspace-panel\">\n          {isFeatureExpanded && selectedFeature ? (\n            // Expanded Feature View\n            <div className=\"feature-expanded\">\n              <div className=\"feature-expanded-header\">\n                <button\n                  onClick={() => {\n                    setIsFeatureExpanded(false);\n                    setSelectedFeature(null);\n                    setIsEditingMode(false);\n                    setGeneratedContent('');\n                  }}\n                  className=\"back-button\"\n                >\n                  <ChevronLeft size={20} />\n                  <span>Back to Features</span>\n                </button>\n                <div className=\"feature-title\">\n                  {React.createElement(selectedFeature.icon, { size: 20, color: selectedFeature.color })}\n                  <span>{selectedFeature.name}</span>\n                </div>\n              </div>\n              \n              <div className=\"feature-expanded-content\">\n                {selectedFeature.id === 'content-generator' && (\n                  <ContentGeneratorModule\n                    onAIMessage={handleContentGeneratorMessage}\n                    generatedContent={generatedContent}\n                    onContentUpdate={handleContentUpdate}\n                    currentContentType={currentContentType}\n                  />\n                )}\n              </div>\n            </div>\n          ) : (\n            // Feature List View\n            <div className=\"feature-list-container\">\n              <div className=\"feature-list-header\">\n                <h3>Features & Tools</h3>\n                <p>{activeProject?.name || 'Select a feature to begin'}</p>\n              </div>\n              \n              <div className=\"feature-list\">\n                {features.map(feature => {\n                  const Icon = feature.icon;\n                  \n                  return (\n                    <button\n                      key={feature.id}\n                      onClick={() => handleFeatureSelect(feature)}\n                      className=\"feature-item\"\n                    >\n                      <div \n                        className=\"feature-icon\"\n                        style={{ backgroundColor: `${feature.color}20` }}\n                      >\n                        <Icon size={20} style={{ color: feature.color }} />\n                      </div>\n                      <div className=\"feature-details\">\n                        <div className=\"feature-name\">\n                          {feature.name}\n                          {feature.status === 'active' && (\n                            <span className=\"status-badge\">READY</span>\n                          )}\n                        </div>\n                        <p className=\"feature-description\">{feature.description}</p>\n                      </div>\n                      <ChevronRight size={16} className=\"feature-arrow\" />\n                    </button>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n        </Panel>\n      </PanelGroup>\n    </div>\n  );\n};\n\nexport default RailwayPlatform;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}