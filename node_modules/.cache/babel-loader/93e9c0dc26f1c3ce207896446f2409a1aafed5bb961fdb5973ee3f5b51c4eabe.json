{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./IntelligenceDisplay.css';import claudeIntelligenceServiceV2 from'../services/claudeIntelligenceServiceV2';import{CompetitorIcon,StakeholderIcon,MediaIcon,PredictiveIcon,RocketIcon,ScanIcon,AnalyzeIcon,SynthesizeIcon,AlertIcon,InsightIcon,ActionIcon,ChartIcon,BuildingIcon,TargetIcon,TrendingUpIcon}from'./Icons/NeonIcons';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const IntelligenceDisplayV2=_ref=>{var _intelligenceData$exe,_intelligenceData$exe2;let{organizationId,timeframe='24h',refreshTrigger=0}=_ref;const[loading,setLoading]=useState(false);const[intelligenceData,setIntelligenceData]=useState(null);const[activeTab,setActiveTab]=useState('overview');const[loadingStage,setLoadingStage]=useState('');useEffect(()=>{fetchIntelligence();},[timeframe,refreshTrigger]);const fetchIntelligence=async()=>{setLoading(true);setLoadingStage('initializing');try{const config=JSON.parse(localStorage.getItem('signaldesk_onboarding')||'{}');console.log('ðŸŽ¯ Fetching PR intelligence...');// Simulate loading stages for better UX\nsetTimeout(()=>setLoadingStage('scanning'),1000);setTimeout(()=>setLoadingStage('analyzing'),3000);setTimeout(()=>setLoadingStage('synthesizing'),5000);const intelligence=await claudeIntelligenceServiceV2.gatherAndAnalyze(config,timeframe,{forceRefresh:true});console.log('âœ… Intelligence received:',intelligence);setIntelligenceData(intelligence);}catch(err){console.error('âŒ Intelligence fetch failed:',err);}finally{setLoading(false);setLoadingStage('');}};const tabs=[{id:'overview',name:'Executive Overview',Icon:RocketIcon,color:'#ff00ff'},{id:'competition',name:'Competition',Icon:CompetitorIcon,color:'#00ffcc'},{id:'stakeholders',name:'Stakeholders',Icon:StakeholderIcon,color:'#00ff88'},{id:'topics',name:'Topics & Trends',Icon:MediaIcon,color:'#ffcc00'},{id:'predictions',name:'Predictions',Icon:PredictiveIcon,color:'#8800ff'}];const renderTabContent=(tabData,tabType)=>{console.log(\"\\uD83D\\uDCC2 Rendering \".concat(tabType,\" tab with data:\"),{tabType,dataKeys:Object.keys(tabData||{}),hasExecutiveSummary:!!(tabData!==null&&tabData!==void 0&&tabData.executive_summary),executiveSummaryType:typeof(tabData===null||tabData===void 0?void 0:tabData.executive_summary)});if(!tabData){return/*#__PURE__*/_jsx(\"div\",{className:\"intelligence-section\",children:/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No \",tabType,\" intelligence available yet\"]})})});}// Handle tab-specific rendering\nswitch(tabType){case'overview':return renderOverviewTab(tabData);case'competition':return renderCompetitionTab(tabData);case'stakeholders':return renderStakeholdersTab(tabData);case'topics':return renderTopicsTab(tabData);case'predictions':return renderPredictionsTab(tabData);default:return renderLegacyAnalysis(tabData,tabType);}};const renderOverviewTab=data=>{var _data$executive_summa,_data$executive_summa2,_data$executive_summa3,_data$executive_summa4,_data$executive_summa5,_data$executive_summa6,_data$executive_summa7,_data$executive_summa8,_data$executive_summa9;// Extract the actual summary text from the nested structure\nconst summaryText=typeof data.executive_summary==='string'?data.executive_summary:((_data$executive_summa=data.executive_summary)===null||_data$executive_summa===void 0?void 0:(_data$executive_summa2=_data$executive_summa.primary_analysis)===null||_data$executive_summa2===void 0?void 0:_data$executive_summa2.analysis)||((_data$executive_summa3=data.executive_summary)===null||_data$executive_summa3===void 0?void 0:_data$executive_summa3.analysis)||'No executive summary available';// Extract insights and recommendations from the nested structure\nconst insights=data.key_insights||((_data$executive_summa4=data.executive_summary)===null||_data$executive_summa4===void 0?void 0:(_data$executive_summa5=_data$executive_summa4.primary_analysis)===null||_data$executive_summa5===void 0?void 0:_data$executive_summa5.key_insights)||((_data$executive_summa6=data.executive_summary)===null||_data$executive_summa6===void 0?void 0:_data$executive_summa6.key_insights)||[];const recommendations=data.recommended_actions||((_data$executive_summa7=data.executive_summary)===null||_data$executive_summa7===void 0?void 0:(_data$executive_summa8=_data$executive_summa7.primary_analysis)===null||_data$executive_summa8===void 0?void 0:_data$executive_summa8.recommendations)||((_data$executive_summa9=data.executive_summary)===null||_data$executive_summa9===void 0?void 0:_data$executive_summa9.recommendations)||[];const alerts=data.critical_alerts||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-section overview-tab\",children:[summaryText&&/*#__PURE__*/_jsxs(\"div\",{className:\"executive-summary-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(ChartIcon,{size:20,color:\"#00ffcc\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Executive Summary\"})]}),/*#__PURE__*/_jsx(\"p\",{children:summaryText})]}),alerts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(AlertIcon,{size:20,color:\"#ff0064\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Critical Alerts\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"alerts-grid\",children:alerts.map((alert,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"alert-card severity-\".concat(alert.severity||'medium'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"alert-type\",children:alert.type||'Alert'}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-message\",children:typeof alert==='string'?alert:alert.message}),alert.action_required&&/*#__PURE__*/_jsx(\"div\",{className:\"action-required\",children:\"Action Required\"})]},idx))})]}),insights.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"insights-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(InsightIcon,{size:20,color:\"#00ffcc\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Key Insights\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"insights-grid\",children:insights.map((insight,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card impact-\".concat(insight.impact||'medium'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"insight-type\",children:insight.type||'Insight'}),/*#__PURE__*/_jsx(\"div\",{className:\"insight-content\",children:typeof insight==='string'?insight:insight.insight||insight.content})]},idx))})]}),recommendations.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"actions-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(ActionIcon,{size:20,color:\"#00ff88\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Recommended Actions\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"actions-list\",children:recommendations.map((action,idx)=>{const actionText=typeof action==='string'?action:action.action||action.recommendation;const priority=action.priority||'medium';const rationale=action.rationale||'';const owner=action.owner||'PR Team';return/*#__PURE__*/_jsxs(\"div\",{className:\"action-item priority-\".concat(priority),children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-priority\",children:priority}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-text\",children:actionText}),rationale&&/*#__PURE__*/_jsx(\"div\",{className:\"action-rationale\",children:rationale}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-owner\",children:[\"Owner: \",owner]})]})]},idx);})})]})]});};const renderCompetitionTab=data=>{var _data$competitive_lan,_data$competitive_lan2,_data$competitive_lan3,_data$competitive_lan4,_data$competitive_lan5,_data$competitive_lan6,_data$competitive_lan7,_data$competitive_lan8;// Handle both nested and flat data structures\nconst landscapeSummary=((_data$competitive_lan=data.competitive_landscape)===null||_data$competitive_lan===void 0?void 0:_data$competitive_lan.summary)||((_data$competitive_lan2=data.competitive_landscape)===null||_data$competitive_lan2===void 0?void 0:(_data$competitive_lan3=_data$competitive_lan2.primary_analysis)===null||_data$competitive_lan3===void 0?void 0:_data$competitive_lan3.analysis)||((_data$competitive_lan4=data.competitive_landscape)===null||_data$competitive_lan4===void 0?void 0:_data$competitive_lan4.analysis)||(typeof data.competitive_landscape==='string'?data.competitive_landscape:null);const profiles=data.competitor_profiles||((_data$competitive_lan5=data.competitive_landscape)===null||_data$competitive_lan5===void 0?void 0:_data$competitive_lan5.competitor_profiles)||{};// Also check for competitive_opportunities or other competitive data\nconst opportunities=data.competitive_opportunities||((_data$competitive_lan6=data.competitive_landscape)===null||_data$competitive_lan6===void 0?void 0:_data$competitive_lan6.opportunities)||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-section competition-tab\",children:[landscapeSummary&&/*#__PURE__*/_jsxs(\"div\",{className:\"landscape-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(TargetIcon,{size:20,color:\"#ff00ff\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Competitive Landscape\"})]}),/*#__PURE__*/_jsx(\"p\",{children:landscapeSummary})]}),Object.keys(profiles).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"competitors-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(BuildingIcon,{size:20,color:\"#ff00ff\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Competitor Analysis\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"competitor-cards\",children:Object.entries(profiles).map(_ref2=>{var _profile$threat_asses,_profile$market_posit;let[name,profile]=_ref2;const threatLevel=((_profile$threat_asses=profile.threat_assessment)===null||_profile$threat_asses===void 0?void 0:_profile$threat_asses.level)||profile.threat_level||((_profile$market_posit=profile.market_position)===null||_profile$market_posit===void 0?void 0:_profile$market_posit.position)||'medium';const developments=profile.latest_developments||profile.recent_news||profile.developments||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"competitor-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:name}),/*#__PURE__*/_jsxs(\"div\",{className:\"threat-level\",children:[\"Threat: \",threatLevel]}),profile.market_position&&/*#__PURE__*/_jsxs(\"div\",{className:\"market-position\",children:[\"Position: \",profile.market_position.position||'competitive',profile.market_position.trend&&\" (\".concat(profile.market_position.trend,\")\")]}),developments.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"developments\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Latest Developments\"}),/*#__PURE__*/_jsx(\"ul\",{children:developments.slice(0,3).map((dev,idx)=>/*#__PURE__*/_jsx(\"li\",{children:dev.title||dev.headline||dev},idx))})]}),profile.opportunities&&profile.opportunities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"opportunities\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Opportunities\"}),/*#__PURE__*/_jsx(\"ul\",{children:profile.opportunities.slice(0,2).map((opp,idx)=>/*#__PURE__*/_jsx(\"li\",{children:opp},idx))})]})]},name);})})]}),opportunities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"opportunities-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(TrendingUpIcon,{size:20,color:\"#00ff88\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Competitive Opportunities\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"opportunities-list\",children:opportunities.map((opp,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof opp==='string'?opp:opp.opportunity||opp.description},idx))})]}),((_data$competitive_lan7=data.competitive_landscape)===null||_data$competitive_lan7===void 0?void 0:_data$competitive_lan7.threats)&&data.competitive_landscape.threats.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"threats-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(AlertIcon,{size:20,color:\"#ff0064\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Reputation Threats\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"threats-list\",children:data.competitive_landscape.threats.map((threat,idx)=>/*#__PURE__*/_jsx(\"li\",{children:threat},idx))})]}),((_data$competitive_lan8=data.competitive_landscape)===null||_data$competitive_lan8===void 0?void 0:_data$competitive_lan8.second_opinion)&&/*#__PURE__*/_jsxs(\"div\",{className:\"second-opinion-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panel-header\",children:[/*#__PURE__*/_jsx(InsightIcon,{size:20,color:\"#8800ff\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Alternative Competitive Analysis\"})]}),/*#__PURE__*/_jsx(\"p\",{children:data.competitive_landscape.second_opinion.assessment||data.competitive_landscape.second_opinion}),data.competitive_landscape.second_opinion.confidence_level&&/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-note\",children:[\"Confidence: \",data.competitive_landscape.second_opinion.confidence_level,\"%\"]})]})]});};const renderStakeholdersTab=data=>{// Extract rich stakeholder analysis\nconst sentimentOverview=data.sentiment_overview;const groupPriorities=data.group_priorities||{};const engagementStrategy=data.engagement_strategy||[];const messagingFrameworks=data.messaging_frameworks||{};const secondOpinion=data.second_opinion;// Legacy fallbacks\nconst groupAnalysis=groupPriorities||data.group_analysis||{};const sentimentData=data.sentiment||{};return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-section stakeholders-tab\",children:[sentimentOverview&&/*#__PURE__*/_jsxs(\"div\",{className:\"landscape-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDC65 Stakeholder Sentiment Overview\"}),/*#__PURE__*/_jsx(\"p\",{children:sentimentOverview})]}),engagementStrategy.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"engagement-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB Engagement Strategy\"}),/*#__PURE__*/_jsx(\"ul\",{children:engagementStrategy.map((strategy,idx)=>/*#__PURE__*/_jsx(\"li\",{children:strategy},idx))})]}),secondOpinion&&/*#__PURE__*/_jsxs(\"div\",{className:\"second-opinion-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD04 Alternative Perspective\"}),/*#__PURE__*/_jsx(\"p\",{children:secondOpinion.assessment||secondOpinion})]}),Object.keys(groupAnalysis).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"groups-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Stakeholder Groups\"}),/*#__PURE__*/_jsx(\"div\",{className:\"stakeholder-groups\",children:Object.entries(groupAnalysis).map(_ref3=>{var _analysis$sentiment,_sentimentData$group;let[group,analysis]=_ref3;const sentiment=((_analysis$sentiment=analysis.sentiment)===null||_analysis$sentiment===void 0?void 0:_analysis$sentiment.sentiment)||analysis.sentiment||((_sentimentData$group=sentimentData[group])===null||_sentimentData$group===void 0?void 0:_sentimentData$group.sentiment)||'neutral';const concerns=analysis.key_concerns||analysis.concerns||analysis.topics||[];const opportunities=analysis.opportunities||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"stakeholder-group\",children:[/*#__PURE__*/_jsx(\"h4\",{children:group.charAt(0).toUpperCase()+group.slice(1)}),/*#__PURE__*/_jsxs(\"div\",{className:\"sentiment\",children:[\"Sentiment: \",sentiment]}),concerns.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"concerns\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Key Concerns\"}),/*#__PURE__*/_jsx(\"ul\",{children:concerns.map((concern,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof concern==='string'?concern:concern.topic||concern.concern},idx))})]}),opportunities.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"opportunities\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Engagement Opportunities\"}),/*#__PURE__*/_jsx(\"ul\",{children:opportunities.map((opp,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof opp==='string'?opp:opp.opportunity},idx))})]})]},group);})})]}),Object.keys(sentimentData).length>0&&Object.keys(groupAnalysis).length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sentiment-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Sentiment Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sentiment-breakdown\",children:Object.entries(sentimentData).map(_ref4=>{let[source,data]=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"sentiment-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:source}),/*#__PURE__*/_jsx(\"div\",{className:\"sentiment-value\",children:data.sentiment||data})]},source);})})]})]});};const renderTopicsTab=data=>{// Extract rich narrative analysis\nconst trendingOverview=data.trending_overview;const narrativeOpportunities=data.narrative_opportunities||[];const contentAngles=data.content_angles||[];const mediaRisks=data.media_risks||[];const secondOpinion=data.second_opinion;// Legacy support\nconst trendingTopics=data.trending_topics||[];const mediaCoverage=data.media_coverage||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-section topics-tab\",children:[(trendingUp.length>0||trendingDown.length>0||stable.length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCC8 Topic Trends\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"trends-grid\",children:[trendingUp.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"trend-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD3C Trending Up\"}),/*#__PURE__*/_jsx(\"ul\",{children:trendingUp.map((topic,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof topic==='string'?topic:topic.name||topic.topic},idx))})]}),trendingDown.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"trend-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD3D Trending Down\"}),/*#__PURE__*/_jsx(\"ul\",{children:trendingDown.map((topic,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof topic==='string'?topic:topic.name||topic.topic},idx))})]}),stable.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"trend-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u27A1\\uFE0F Stable Topics\"}),/*#__PURE__*/_jsx(\"ul\",{children:stable.map((topic,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof topic==='string'?topic:topic.name||topic.topic},idx))})]})]})]}),Object.keys(deepDives).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"topics-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAF Topic Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"topic-cards\",children:Object.entries(deepDives).map(_ref5=>{var _analysis$impact_asse;let[topic,analysis]=_ref5;const status=analysis.status||analysis.trend||'active';const impact=((_analysis$impact_asse=analysis.impact_assessment)===null||_analysis$impact_asse===void 0?void 0:_analysis$impact_asse.level)||analysis.impact||'medium';const sentiment=analysis.sentiment||'neutral';const volume=analysis.volume||analysis.mentions||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"topic-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:topic}),/*#__PURE__*/_jsxs(\"div\",{className:\"topic-status\",children:[\"Status: \",status]}),/*#__PURE__*/_jsxs(\"div\",{className:\"impact\",children:[\"Impact: \",impact]}),sentiment!=='neutral'&&/*#__PURE__*/_jsxs(\"div\",{className:\"sentiment\",children:[\"Sentiment: \",sentiment]}),volume>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"volume\",children:[\"Mentions: \",volume]}),analysis.key_points&&analysis.key_points.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"key-points\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Key Points\"}),/*#__PURE__*/_jsx(\"ul\",{children:analysis.key_points.slice(0,3).map((point,idx)=>/*#__PURE__*/_jsx(\"li\",{children:point},idx))})]})]},topic);})})]}),emergingTopics.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"emerging-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDF1F Emerging Topics\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"emerging-list\",children:emergingTopics.map((topic,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof topic==='string'?topic:topic.name||topic.topic},idx))})]})]});};const renderPredictionsTab=data=>{// Extract rich predictive analysis\nconst scenarioOverview=data.scenario_overview;const likelyScenarios=data.likely_scenarios||data.scenarios||[];const cascadeEffects=data.cascade_effects||[];const proactiveStrategies=data.proactive_strategies||[];const secondOpinion=data.second_opinion;// Legacy support\nconst warnings=data.early_warnings||data.warnings||{};const signals=warnings.signals_detected||warnings.signals||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-section predictions-tab\",children:[scenarioOverview&&/*#__PURE__*/_jsxs(\"div\",{className:\"overview-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD2E Predictive Intelligence Overview\"}),/*#__PURE__*/_jsx(\"p\",{children:scenarioOverview})]}),cascadeEffects.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"cascade-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F Cascade Effects\"}),/*#__PURE__*/_jsx(\"ul\",{children:cascadeEffects.map((effect,idx)=>/*#__PURE__*/_jsx(\"li\",{children:effect},idx))})]}),proactiveStrategies.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"strategies-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAF Proactive PR Strategies\"}),/*#__PURE__*/_jsx(\"ul\",{children:proactiveStrategies.map((strategy,idx)=>/*#__PURE__*/_jsx(\"li\",{children:strategy},idx))})]}),secondOpinion&&/*#__PURE__*/_jsxs(\"div\",{className:\"second-opinion-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD04 Alternative Future Scenario\"}),/*#__PURE__*/_jsx(\"p\",{children:secondOpinion.assessment||secondOpinion})]}),likelyScenarios.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"scenarios-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD2E Predictive Scenarios\"}),/*#__PURE__*/_jsx(\"div\",{className:\"scenarios-grid\",children:scenarios.map((scenario,idx)=>{const scenarioName=scenario.scenario||scenario.name||\"Scenario \".concat(idx+1);const probability=scenario.probability||scenario.likelihood||50;const description=scenario.description||scenario.analysis||'';const triggers=scenario.triggers||scenario.indicators||[];const effects=scenario.cascade_effects||scenario.impacts||scenario.effects||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"scenario-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:scenarioName}),/*#__PURE__*/_jsxs(\"div\",{className:\"probability\",children:[\"Probability: \",probability,\"%\"]}),description&&/*#__PURE__*/_jsx(\"p\",{children:description}),triggers.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"triggers\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Triggers\"}),/*#__PURE__*/_jsx(\"ul\",{children:triggers.slice(0,3).map((trigger,tidx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof trigger==='string'?trigger:trigger.indicator},tidx))})]}),effects.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"effects\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Cascade Effects\"}),/*#__PURE__*/_jsx(\"ul\",{children:effects.slice(0,3).map((effect,eidx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof effect==='string'?effect:effect.impact},eidx))})]})]},idx);})})]}),predictions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"predictions-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Market Predictions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"predictions-list\",children:predictions.map((prediction,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:prediction.title||prediction.prediction}),prediction.timeframe&&/*#__PURE__*/_jsxs(\"div\",{className:\"timeframe\",children:[\"Timeframe: \",prediction.timeframe]}),prediction.confidence&&/*#__PURE__*/_jsxs(\"div\",{className:\"confidence\",children:[\"Confidence: \",prediction.confidence,\"%\"]}),prediction.rationale&&/*#__PURE__*/_jsx(\"p\",{children:prediction.rationale})]},idx))})]}),signals.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"warnings-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F Early Warning Signals\"}),/*#__PURE__*/_jsx(\"ul\",{children:signals.map((signal,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof signal==='string'?signal:signal.signal||signal.warning},idx))})]}),warnings.risk_factors&&warnings.risk_factors.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"risks-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDEA8 Risk Factors\"}),/*#__PURE__*/_jsx(\"ul\",{children:warnings.risk_factors.map((risk,idx)=>/*#__PURE__*/_jsx(\"li\",{children:typeof risk==='string'?risk:risk.factor},idx))})]})]});};const renderLegacyAnalysis=(analysisData,type)=>{// Handle legacy format for backward compatibility\nconst analysis=analysisData.primary_analysis||analysisData;const secondOpinion=analysisData.second_opinion;return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-section\",children:[analysis.key_insights&&/*#__PURE__*/_jsxs(\"div\",{className:\"insights-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAF Key PR Insights\"}),/*#__PURE__*/_jsx(\"div\",{className:\"insights-grid\",children:analysis.key_insights.map((insight,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"insight-icon\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"insight-content\",children:/*#__PURE__*/_jsx(\"p\",{children:insight})})]},idx))})]}),analysis.recommendations&&/*#__PURE__*/_jsxs(\"div\",{className:\"recommendations-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB PR Action Items\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recommendations-list\",children:analysis.recommendations.map((rec,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rec-number\",children:idx+1}),/*#__PURE__*/_jsx(\"div\",{className:\"rec-content\",children:/*#__PURE__*/_jsx(\"p\",{children:rec})})]},idx))})]}),analysis.analysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Strategic Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"analysis-content\",children:/*#__PURE__*/_jsx(\"p\",{children:analysis.analysis})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"risk-opp-grid\",children:[analysis.risks&&/*#__PURE__*/_jsxs(\"div\",{className:\"risks-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A0\\uFE0F PR Risks\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"risk-list\",children:analysis.risks.map((risk,idx)=>/*#__PURE__*/_jsx(\"li\",{className:\"risk-item\",children:risk},idx))})]}),analysis.opportunities&&/*#__PURE__*/_jsxs(\"div\",{className:\"opportunities-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2728 PR Opportunities\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"opportunity-list\",children:analysis.opportunities.map((opp,idx)=>/*#__PURE__*/_jsx(\"li\",{className:\"opportunity-item\",children:opp},idx))})]})]}),(analysis.confidence_level||analysisData.consensus_level)&&/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-panel\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Confidence Level\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-bar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"confidence-fill\",style:{width:\"\".concat(analysis.confidence_level||analysisData.consensus_level,\"%\"),backgroundColor:getConfidenceColor(analysis.confidence_level||analysisData.consensus_level)}}),/*#__PURE__*/_jsxs(\"span\",{className:\"confidence-value\",children:[analysis.confidence_level||analysisData.consensus_level,\"%\"]})]})]}),secondOpinion&&/*#__PURE__*/_jsxs(\"div\",{className:\"second-opinion-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD0D Alternative Perspective\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"second-opinion-content\",children:[secondOpinion.assessment&&/*#__PURE__*/_jsx(\"p\",{children:secondOpinion.assessment}),secondOpinion.confidence_level&&/*#__PURE__*/_jsxs(\"div\",{className:\"confidence-note\",children:[\"Confidence in primary analysis: \",secondOpinion.confidence_level,\"%\"]})]})]})]});};const getConfidenceColor=level=>{if(level>=80)return'#00ff88';if(level>=60)return'#ffcc00';if(level>=40)return'#ff8800';return'#ff4444';};const renderContent=()=>{if(!intelligenceData)return null;// Check if we have the new tab format\nif(intelligenceData.tabs){const tabData=intelligenceData.tabs[activeTab];return renderTabContent(tabData,activeTab);}// Fall back to legacy format\nconst data=intelligenceData[activeTab];return renderTabContent(data,activeTab);};return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-display intelligence-v2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"intel-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"intel-tabs\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{className:\"intel-tab \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),style:{'--tab-color':tab.color},children:[/*#__PURE__*/_jsx(\"span\",{className:\"tab-icon\",children:/*#__PURE__*/_jsx(tab.Icon,{size:18,color:activeTab===tab.id?tab.color:'rgba(255,255,255,0.6)'})}),/*#__PURE__*/_jsx(\"span\",{className:\"tab-name\",children:tab.name})]},tab.id))})}),/*#__PURE__*/_jsx(\"div\",{className:\"intel-content\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state enhanced\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loading-stages\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"loading-stage \".concat(loadingStage==='initializing'?'active':loadingStage&&loadingStage!=='initializing'?'completed':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"stage-icon\",children:/*#__PURE__*/_jsx(RocketIcon,{size:32,color:loadingStage==='initializing'?'#00ff88':'rgba(255,255,255,0.4)'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stage-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Initializing Intelligence Engine\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Connecting to data sources...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stage-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill \".concat(loadingStage==='initializing'?'animating':loadingStage&&loadingStage!=='initializing'?'complete':'')})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-stage \".concat(loadingStage==='scanning'?'active':['analyzing','synthesizing'].includes(loadingStage)?'completed':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"stage-icon\",children:/*#__PURE__*/_jsx(ScanIcon,{size:32,color:loadingStage==='scanning'?'#00ffcc':['analyzing','synthesizing'].includes(loadingStage)?'#00ff88':'rgba(255,255,255,0.4)'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stage-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Scanning Media Landscape\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Analyzing competitors, news, and social signals...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stage-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill \".concat(loadingStage==='scanning'?'animating':['analyzing','synthesizing'].includes(loadingStage)?'complete':'')})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-stage \".concat(loadingStage==='analyzing'?'active':loadingStage==='synthesizing'?'completed':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"stage-icon\",children:/*#__PURE__*/_jsx(AnalyzeIcon,{size:32,color:loadingStage==='analyzing'?'#00ff88':loadingStage==='synthesizing'?'#00ff88':'rgba(255,255,255,0.4)'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stage-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Analyzing PR Opportunities\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Identifying trends and strategic insights...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stage-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill \".concat(loadingStage==='analyzing'?'animating':loadingStage==='synthesizing'?'complete':'')})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-stage \".concat(loadingStage==='synthesizing'?'active':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"stage-icon\",children:/*#__PURE__*/_jsx(SynthesizeIcon,{size:32,color:loadingStage==='synthesizing'?'#8800ff':'rgba(255,255,255,0.4)'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stage-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Synthesizing Intelligence Report\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Generating actionable recommendations...\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stage-progress\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill \".concat(loadingStage==='synthesizing'?'animating':'')})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"loading-footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pulse-animation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-message\",children:\"Building comprehensive PR intelligence report\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-sub\",children:\"Analysis typically completes in 30-60 seconds\"})]})]}):intelligenceData?renderContent():/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Click refresh to gather PR intelligence\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchIntelligence,className:\"refresh-btn primary\",children:\"Start Intelligence Gathering\"})]})}),(intelligenceData===null||intelligenceData===void 0?void 0:intelligenceData.executive_summary)&&/*#__PURE__*/_jsxs(\"div\",{className:\"executive-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAF Executive PR Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-grid\",children:[((_intelligenceData$exe=intelligenceData.executive_summary.primary_analysis)===null||_intelligenceData$exe===void 0?void 0:_intelligenceData$exe.key_insights)&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Top PR Priorities\"}),/*#__PURE__*/_jsx(\"ul\",{children:intelligenceData.executive_summary.primary_analysis.key_insights.slice(0,3).map((insight,idx)=>/*#__PURE__*/_jsx(\"li\",{children:insight},idx))})]}),((_intelligenceData$exe2=intelligenceData.executive_summary.primary_analysis)===null||_intelligenceData$exe2===void 0?void 0:_intelligenceData$exe2.recommendations)&&/*#__PURE__*/_jsxs(\"div\",{className:\"summary-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Immediate PR Actions\"}),/*#__PURE__*/_jsx(\"ul\",{children:intelligenceData.executive_summary.primary_analysis.recommendations.slice(0,2).map((rec,idx)=>/*#__PURE__*/_jsx(\"li\",{children:rec},idx))})]})]})]})]});};export default IntelligenceDisplayV2;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}