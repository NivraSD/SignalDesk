{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FileText,Users,TrendingUp,MessageSquare,Hash,HelpCircle,ExternalLink}from'lucide-react';import nivStateManager from'./NivStateManager';// PROOF OF CONCEPT: Clean Work Items Panel\n// This component ONLY displays work items - completely separate from chat\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WorkItemsPanelPOC=_ref=>{let{onOpenWorkspace}=_ref;const[workItems,setWorkItems]=useState([]);const[selectedItem,setSelectedItem]=useState(null);useEffect(()=>{// Subscribe to work item updates\nconst unsubscribe=nivStateManager.subscribe('workItems',event=>{if(event.type==='item_added'||event.type==='reset'){setWorkItems(nivStateManager.getWorkItems());}});// Load initial work items\nsetWorkItems(nivStateManager.getWorkItems());return()=>unsubscribe();},[]);const getIcon=type=>{const icons={'media-list':Users,'content-draft':FileText,'strategy-plan':TrendingUp,'key-messaging':MessageSquare,'social-content':Hash,'faq-document':HelpCircle};return icons[type]||FileText;};const getTypeColor=type=>{const colors={'media-list':'#3b82f6','content-draft':'#8b5cf6','strategy-plan':'#10b981','key-messaging':'#f59e0b','social-content':'#ec4899','faq-document':'#14b8a6'};return colors[type]||'#6b7280';};const handleItemClick=item=>{setSelectedItem(item.id);// Open in workspace through state manager\nnivStateManager.openWorkspace(item.id);// Notify parent if callback provided\nif(onOpenWorkspace){onOpenWorkspace(item);}};return/*#__PURE__*/_jsxs(\"div\",{style:{width:'320px',height:'100%',background:'rgba(30, 30, 45, 0.4)',borderLeft:'1px solid rgba(139, 92, 246, 0.2)',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',borderBottom:'1px solid rgba(139, 92, 246, 0.2)',background:'rgba(30, 30, 45, 0.6)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0,fontSize:'16px',fontWeight:'600',color:'#fff'},children:\"Generated by Niv\"}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'4px 0 0 0',fontSize:'12px',color:'#9ca3af'},children:[workItems.length,\" \",workItems.length===1?'item':'items',\" ready to work on\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,overflowY:'auto',padding:'12px'},children:workItems.length===0?/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',color:'#6b7280',fontSize:'14px',marginTop:'40px',padding:'0 20px'},children:\"Ask Niv to create materials and they'll appear here\"}):workItems.map(item=>{const Icon=getIcon(item.type);const isSelected=selectedItem===item.id;return/*#__PURE__*/_jsxs(\"div\",{onClick:()=>handleItemClick(item),style:{background:isSelected?'linear-gradient(135deg, rgba(99, 102, 241, 0.2), rgba(139, 92, 246, 0.2))':'rgba(30, 30, 45, 0.4)',border:\"1px solid \".concat(isSelected?'rgba(139, 92, 246, 0.4)':'rgba(139, 92, 246, 0.2)'),borderRadius:'10px',padding:'14px',marginBottom:'10px',cursor:'pointer',transition:'all 0.2s',transform:isSelected?'scale(1.02)':'scale(1)'},onMouseEnter:e=>{if(!isSelected){e.currentTarget.style.background='rgba(139, 92, 246, 0.1)';e.currentTarget.style.transform='translateX(-4px)';}},onMouseLeave:e=>{if(!isSelected){e.currentTarget.style.background='rgba(30, 30, 45, 0.4)';e.currentTarget.style.transform='translateX(0)';}},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',marginBottom:'8px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'36px',height:'36px',background:\"linear-gradient(135deg, \".concat(getTypeColor(item.type),\"40, \").concat(getTypeColor(item.type),\"20)\"),borderRadius:'8px',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Icon,{size:18,color:getTypeColor(item.type)})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',fontWeight:'600',color:'#e8e8e8',marginBottom:'2px'},children:item.title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#9ca3af',textTransform:'uppercase',letterSpacing:'0.5px'},children:item.type.replace('-',' ')})]})]}),item.description&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#9ca3af',marginBottom:'8px',lineHeight:'1.4'},children:item.description}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'6px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'6px',height:'6px',borderRadius:'50%',background:'#10b981'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'11px',color:'#10b981'},children:\"Ready to edit\"})]}),/*#__PURE__*/_jsx(ExternalLink,{size:14,color:\"#9ca3af\"})]}),item.generatedContent&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px',padding:'8px',background:'rgba(0, 0, 0, 0.2)',borderRadius:'6px',fontSize:'11px',color:'#6b7280'},children:[item.type==='media-list'&&item.generatedContent.journalists&&/*#__PURE__*/_jsxs(\"div\",{children:[item.generatedContent.journalists.length,\" journalists identified\"]}),item.type==='social-content'&&item.generatedContent.platforms&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Content for \",Object.keys(item.generatedContent.platforms).join(', ')]}),item.type==='key-messaging'&&item.generatedContent.sections&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Core message + \",Object.keys(item.generatedContent.sections).length-1,\" sections\"]}),item.type==='content-draft'&&item.generatedContent.content&&/*#__PURE__*/_jsxs(\"div\",{children:[item.generatedContent.wordCount||'Draft',\" ready\"]})]})]},item.id);})}),workItems.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'16px 20px',borderTop:'1px solid rgba(139, 92, 246, 0.2)',background:'rgba(30, 30, 45, 0.6)',fontSize:'12px',color:'#9ca3af'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Materials generated\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#e8e8e8',fontWeight:'600'},children:workItems.length})]})})]});};export default WorkItemsPanelPOC;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}