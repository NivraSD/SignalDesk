{"ast":null,"code":"import React,{useState}from\"react\";import{Save,Check,AlertCircle}from\"lucide-react\";import{useMemoryVault}from\"../../hooks/useMemoryVault\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SaveToMemoryVaultButton=_ref=>{let{content,title,type=\"document\",source,tags=[],metadata={},folder_type=\"content\",preview,// Add preview prop\nonSuccess,// Note: renamed from onSaveSuccess to match MediaListBuilder usage\nonSaveSuccess,// Keep for backward compatibility\nbuttonText=\"Save to Vault\",showNotification=true}=_ref;const{saveToMemoryVault,isSaving}=useMemoryVault();const[saveStatus,setSaveStatus]=useState(null);const[message,setMessage]=useState(\"\");const handleSave=async()=>{if(!content){setMessage(\"No content to save\");setSaveStatus(\"error\");setTimeout(()=>setSaveStatus(null),3000);return;}const result=await saveToMemoryVault({title,content,type,source,tags,metadata,folder_type,preview// Pass preview to the hook\n});if(result.success){setSaveStatus(\"success\");setMessage(\"Saved to MemoryVault!\");// Support both callback prop names\nif(onSuccess){onSuccess(result.item);}else if(onSaveSuccess){onSaveSuccess(result.item);}}else{setSaveStatus(\"error\");setMessage(result.error||\"Failed to save\");}setTimeout(()=>{setSaveStatus(null);setMessage(\"\");},3000);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,disabled:isSaving||!content,style:{display:\"flex\",alignItems:\"center\",gap:\"8px\",padding:\"8px 16px\",backgroundColor:saveStatus===\"success\"?\"#10b981\":saveStatus===\"error\"?\"#ef4444\":\"#4f46e5\",color:\"white\",border:\"none\",borderRadius:\"8px\",cursor:isSaving||!content?\"not-allowed\":\"pointer\",opacity:isSaving||!content?0.6:1,transition:\"all 0.2s\",fontSize:\"14px\",fontWeight:\"500\"},children:[saveStatus===\"success\"?/*#__PURE__*/_jsx(Check,{style:{width:\"16px\",height:\"16px\"}}):saveStatus===\"error\"?/*#__PURE__*/_jsx(AlertCircle,{style:{width:\"16px\",height:\"16px\"}}):/*#__PURE__*/_jsx(Save,{style:{width:\"16px\",height:\"16px\"}}),isSaving?\"Saving...\":saveStatus?message:buttonText]})});};export default SaveToMemoryVaultButton;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}