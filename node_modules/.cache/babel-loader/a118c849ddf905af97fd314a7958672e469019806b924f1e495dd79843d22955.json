{"ast":null,"code":"import _objectSpread from\"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import API_BASE_URL from'../../config/api';import{Sparkles,Bot,Building2,Users,Target,TrendingUp,Shield,Globe,CheckCircle,Brain,Zap,Database,Search,Loader,ChevronRight,AlertCircle,Info}from'lucide-react';import{findPreIndexedStakeholder,getMonitoringTopics}from'./EnhancedSourceDatabase';import stakeholderIntelligenceService from'../../services/stakeholderIntelligenceService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EnhancedAIStrategyAdvisor=_ref=>{let{onStrategyComplete,mode='stakeholders'}=_ref;const[messages,setMessages]=useState([]);const[isTyping,setIsTyping]=useState(false);const[userInput,setUserInput]=useState('');const[currentStep,setCurrentStep]=useState('initial');const[organizationData,setOrganizationData]=useState({company:'',url:'',additionalUrls:[],strategicGoals:'',priorityStakeholders:'',industry:'',description:''});const[stakeholders,setStakeholders]=useState([]);const[isAnalyzing,setIsAnalyzing]=useState(false);const[editableCompetitors,setEditableCompetitors]=useState([]);const[editableTopics,setEditableTopics]=useState([]);const[editingIndex,setEditingIndex]=useState(null);const[editingType,setEditingType]=useState(null);const[editValue,setEditValue]=useState('');const[analysisProgress,setAnalysisProgress]=useState({organization:0,stakeholders:0,sources:0,strategy:0});const initRef=useRef(false);useEffect(()=>{// Use ref to ensure this only runs once, even in StrictMode\nif(initRef.current)return;initRef.current=true;// Initial greeting - focused on competitors and topics\nif(mode==='unified'){setCurrentStep('organization_input');addMessage({type:'ai',content:\"Welcome to Intelligence Monitoring\\n\\nI'll help you discover and track competitors and topics relevant to your organization.\\n\\nEnter your company name:\",showForm:true});}else if(mode==='competitors'){setCurrentStep('company_info');addMessage({type:'ai',content:\"ðŸ‘‹ Hello! I'm your Competitor Intelligence Advisor. I'll help you identify and track your top competitors.\\n\\nLet's start by researching your organization. Please provide:\\nâ€¢ Company name\\nâ€¢ Website URL (optional but recommended)\\nâ€¢ Brief description of what your company does\",showForm:true});}else{setCurrentStep('organization_input');addMessage({type:'ai',content:\"Hello! I'm your AI Strategy Advisor.\\n\\nTo build your intelligence monitoring strategy, please provide:\\n\\nâ€¢ **Organization Name**: Your company or client name\\nâ€¢ **Website URL**: https://example.com\\n\\nI'll analyze your organization and automatically identify relevant stakeholders, competitors, and topics to monitor.\",showForm:true});}},[]);const addMessage=message=>{if(message.options){console.log('Adding message with options:',message.options);}setMessages(prev=>[...prev,_objectSpread(_objectSpread({},message),{},{id:Date.now()})]);};const handleUserResponse=async value=>{// Handle option selection after analysis\nif(currentStep==='confirm_targets'||currentStep==='confirm_stakeholders'){if(value==='proceed'){// Proceed with the discovered configuration\nfinalizeStrategy();}else if(value==='add_competitors'){// Allow adding more competitors\naddMessage({type:'ai',content:\"Please list additional competitors you'd like to track (one per line):\",showForm:true});setCurrentStep('add_competitors');}else if(value==='customize_topics'){// Allow topic customization\naddMessage({type:'ai',content:\"Please list specific topics or trends you want to monitor (one per line):\",showForm:true});setCurrentStep('customize_topics');}else if(value==='customize'){// Legacy: Allow customization of stakeholders\naddMessage({type:'ai',content:\"You can customize the targets. Please tell me what to add or modify:\",showForm:true});setCurrentStep('customize_stakeholders');}else if(value==='adjust'){// Legacy: Allow topic adjustment\naddMessage({type:'ai',content:\"You can adjust the monitoring topics. Please specify changes:\",showForm:true});setCurrentStep('adjust_topics');}}};const handleInputSubmit=async()=>{if(!userInput.trim())return;const userMessage=userInput;setUserInput('');addMessage({type:'user',content:userMessage});console.log('Current step:',currentStep);if(currentStep==='organization_input'){// Parse organization name and URL\nhandleOrganizationInput(userMessage);}else if(currentStep==='unified_input'){// Parse what the user wants to monitor\nhandleUnifiedInput(userMessage);}else if(currentStep==='topic_input'){// Handle topic monitoring input\nhandleTopicInput(userMessage);}else if(currentStep==='company_info_for_competitors'){// Parse company info and then discover competitors\nconst lines=userMessage.split('\\n');let company='';let url='';let description='';lines.forEach(line=>{if(line.toLowerCase().includes('company:')||line.toLowerCase().includes('name:')){var _line$split$;company=((_line$split$=line.split(':')[1])===null||_line$split$===void 0?void 0:_line$split$.trim())||'';}else if(line.toLowerCase().includes('url:')||line.includes('http')){url=line.includes('http')?line.trim():line.split(':').slice(1).join(':').trim();}else if(line.toLowerCase().includes('description:')||line.toLowerCase().includes('what')){var _line$split$2;description=((_line$split$2=line.split(':')[1])===null||_line$split$2===void 0?void 0:_line$split$2.trim())||'';}});// If no structured format, try to parse intelligently\nif(!company){company=lines[0].trim();url=lines.find(l=>l.includes('http')||l.includes('www.'))||'';description=lines.filter(l=>l!==company&&l!==url).join(' ');}// Now discover competitors\nperformCompetitorAnalysis({company,url,description});}else if(currentStep==='company_info'){// Parse company name and URL from input\nconst lines=userMessage.split('\\n');let company='';let url='';lines.forEach(line=>{if(line.toLowerCase().includes('company:')){var _line$split$3;company=((_line$split$3=line.split(':')[1])===null||_line$split$3===void 0?void 0:_line$split$3.trim())||'';}else if(line.toLowerCase().includes('url:')||line.includes('http')){url=line.includes('http')?line.trim():line.split(':').slice(1).join(':').trim();}});// If no structured format, assume first line is company, second is URL\nif(!company&&!url){const parts=userMessage.split(/\\s+/);company=userMessage;url=parts.find(part=>part.includes('http'))||'';}setOrganizationData(prev=>_objectSpread(_objectSpread({},prev),{},{company,url}));// Start analyzing immediately\nperformAutomatedAnalysis({company,url});}else if(currentStep==='strategic_goals'){setOrganizationData(prev=>_objectSpread(_objectSpread({},prev),{},{strategicGoals:userMessage}));setCurrentStep('priority_stakeholders');setIsTyping(true);setTimeout(()=>{addMessage({type:'ai',content:\"Excellent strategic goals! I'll factor these into my analysis.\\n\\nLastly, are there any specific stakeholders you already know are important? This could include:\\n\\u2022 Major investors (e.g., BlackRock, Vanguard)\\n\\u2022 Key regulators (e.g., SEC, FTC)\\n\\u2022 Important customers or partners\\n\\u2022 Media outlets that cover you\\n\\nYou can list a few, or just type \\\"none\\\" to let me discover them all.\",showTextarea:true});setIsTyping(false);},1000);}else if(currentStep==='priority_stakeholders'){setOrganizationData(prev=>_objectSpread(_objectSpread({},prev),{},{priorityStakeholders:userMessage}));// Now perform the comprehensive analysis with all data\nperformDeepOrganizationAnalysis(organizationData);}else if(currentStep==='confirm_stakeholders'){finalizeStrategy();}else if(currentStep==='add_competitors'){// Add custom competitors\nconst newCompetitors=userMessage.split('\\n').filter(c=>c.trim());if(newCompetitors.length>0){const updatedCompetitors=[...editableCompetitors,...newCompetitors];setEditableCompetitors(updatedCompetitors);addMessage({type:'ai',content:\"Added \".concat(newCompetitors.length,\" competitor\").concat(newCompetitors.length>1?'s':'',\". Current list:\"),editableTargets:{competitors:updatedCompetitors,topics:editableTopics},options:[{label:'âœ… Start Monitoring',value:'proceed'},{label:'ðŸ“ Add Topics',value:'customize_topics'}]});}setCurrentStep('confirm_targets');}else if(currentStep==='customize_topics'){// Add custom topics\nconst newTopics=userMessage.split('\\n').filter(t=>t.trim());if(newTopics.length>0){const updatedTopics=[...editableTopics,...newTopics];setEditableTopics(updatedTopics);addMessage({type:'ai',content:\"Added \".concat(newTopics.length,\" topic\").concat(newTopics.length>1?'s':'',\". Current list:\"),editableTargets:{competitors:editableCompetitors,topics:updatedTopics},options:[{label:'âœ… Start Monitoring',value:'proceed'}]});}setCurrentStep('confirm_targets');}else if(currentStep==='customize_stakeholders'||currentStep==='adjust_topics'){// Handle legacy customization responses\naddMessage({type:'ai',content:\"I've noted your customizations. The strategy will be updated accordingly.\"});finalizeStrategy();}else{console.log('Unhandled step:',currentStep);// For any other step, try organization input\nif(currentStep==='organization_input'||currentStep==='company_info'){handleOrganizationInput(userMessage);}}};const performAnalysis=async orgData=>{if(mode==='topics'){performTopicAnalysis(orgData);}else if(mode==='competitors'){performCompetitorAnalysis(orgData);}else{performDeepOrganizationAnalysis(orgData);}};const handleUnifiedInput=input=>{const inputLower=input.toLowerCase();const targets=[];// Detect if user is asking about competitors\nconst competitorKeywords=['competitor','compete','rival','vs','versus','track my competitors'];const topicKeywords=['topic','trend','monitor','track','regulation','narrative','issue'];// Parse the input to identify entities and topics\nconst lines=input.split(/[,\\n;]/).map(l=>l.trim()).filter(l=>l);// Check if input contains company names (typically capitalized or known patterns)\nconst hasCompanyNames=lines.some(line=>{const words=line.split(' ');return words.some(word=>word.length>2&&(word[0]===word[0].toUpperCase()||word.toLowerCase().includes('corp')||word.toLowerCase().includes('inc')||word.toLowerCase().includes('llc')));});// Determine primary intent\nconst isCompetitorFocused=competitorKeywords.some(kw=>inputLower.includes(kw))||hasCompanyNames;const isTopicFocused=topicKeywords.some(kw=>inputLower.includes(kw))&&!isCompetitorFocused;if(isCompetitorFocused){// Extract company names\nconst companies=[];lines.forEach(line=>{// Remove common prefixes\nconst cleaned=line.replace(/^(track|monitor|watch|follow|my competitor[s]?:?|competitor[s]?:?)/gi,'').trim();if(cleaned&&cleaned.length>1){// Check if it looks like a company name\nconst firstChar=cleaned[0];if(firstChar===firstChar.toUpperCase()||cleaned.includes('.com')||cleaned.includes('Inc')){companies.push(cleaned);}}});if(companies.length>0){// User provided specific competitors\nperformUnifiedAnalysis({type:'competitors',entities:companies,userInput:input});}else{// Ask for company info to discover competitors\nsetCurrentStep('company_info_for_competitors');addMessage({type:'ai',content:\"I see you want to track competitors. To identify the right ones, please tell me:\\nâ€¢ Your company name\\nâ€¢ Your website (optional)\\nâ€¢ What your company does\",showForm:true});}}else if(isTopicFocused||!hasCompanyNames){// Extract topics\nconst topics=lines.map(line=>{return line.replace(/^(track|monitor|watch|follow|topic[s]?:?|trend[s]?:?)/gi,'').trim();}).filter(t=>t&&t.length>2);if(topics.length>0){performUnifiedAnalysis({type:'topics',entities:topics,userInput:input});}}else{// Mixed or unclear - analyze everything\nperformUnifiedAnalysis({type:'mixed',entities:lines,userInput:input});}};const performUnifiedAnalysis=async data=>{setIsAnalyzing(true);setCurrentStep('analyzing');const typeLabel=data.type==='competitors'?'competitors':data.type==='topics'?'topics':'intelligence targets';addMessage({type:'ai',content:\"\\uD83D\\uDD0D Analyzing your \".concat(typeLabel,\"...\\n\\n\")+\"**Targets identified:** \".concat(data.entities.join(', '),\"\\n\\n\")+\"I'm now:\\n\"+\"\\u2022 Researching each target\\n\"+\"\\u2022 Finding the best monitoring sources\\n\"+\"\\u2022 Setting up tracking parameters\\n\"+\"\\u2022 Building your intelligence dashboard\",showProgress:true});// Research phases\nconst phases=[{key:'organization',label:\"Researching \".concat(data.entities.length,\" targets\"),duration:2000},{key:'stakeholders',label:'Analyzing intelligence requirements',duration:2000},{key:'sources',label:'Configuring monitoring sources',duration:2000},{key:'strategy',label:'Building monitoring strategy',duration:1500}];for(const phase of phases){await animateProgress(phase.key,phase.duration);}// Generate intelligence targets\nconst intelligenceTargets=[];for(const entity of data.entities){if(data.type==='competitors'||data.type==='mixed'&&looksLikeCompany(entity)){// Treat as competitor\nintelligenceTargets.push({id:\"comp-\".concat(intelligenceTargets.length),name:entity,type:'Competitor',priority:'high',influence:85,keywords:[entity,\"\".concat(entity,\" news\"),\"\".concat(entity,\" announcement\")],topics:['product launches','funding','partnerships','leadership changes'],reason:'Competitive intelligence target',goals:\"Track \".concat(entity,\"'s strategic moves and market positioning\"),description:\"Monitor all activities and announcements from \".concat(entity)});}else{// Treat as topic\nintelligenceTargets.push({id:\"topic-\".concat(intelligenceTargets.length),name:entity,type:'Topic',priority:'high',influence:80,keywords:[entity,...getTopicKeywords(entity)],topics:['breaking news','analysis','expert opinions','research'],reason:'Strategic monitoring topic',goals:\"Track developments related to \".concat(entity),description:\"Monitor trends and discussions about \".concat(entity)});}}setStakeholders(intelligenceTargets);setIsAnalyzing(false);setCurrentStep('review_stakeholders');// Present results\naddMessage({type:'ai',content:\"\\u2705 **Analysis Complete!**\\n\\nI've configured monitoring for \".concat(intelligenceTargets.length,\" intelligence targets. Each target has been set up with appropriate sources and tracking parameters.\\n\\n**Review and confirm your targets:**\"),stakeholderResults:intelligenceTargets,showSelection:true});};const looksLikeCompany=text=>{const companyIndicators=['inc','corp','llc','ltd','company','.com'];const textLower=text.toLowerCase();// Check for company indicators\nif(companyIndicators.some(ind=>textLower.includes(ind)))return true;// Check if first letter is capitalized (proper noun)\nif(text[0]===text[0].toUpperCase()&&text.length>2){// Check if it's likely a company name vs a topic\nconst topicWords=['regulation','trend','technology','market','industry','disruption'];if(!topicWords.some(word=>textLower.includes(word))){return true;}}return false;};const handleTopicInput=input=>{// Parse topic information from input\nconst lines=input.split('\\n');const topicData={mainTopic:lines[0]||input,industry:'',context:'',relatedTopics:[]};// Extract additional context\nlines.forEach(line=>{if(line.toLowerCase().includes('industry:')){var _line$split$4;topicData.industry=((_line$split$4=line.split(':')[1])===null||_line$split$4===void 0?void 0:_line$split$4.trim())||'';}else if(line.toLowerCase().includes('context:')||line.toLowerCase().includes('why:')){var _line$split$5;topicData.context=((_line$split$5=line.split(':')[1])===null||_line$split$5===void 0?void 0:_line$split$5.trim())||'';}});// Perform topic analysis\nperformTopicAnalysis(topicData);};const performTopicAnalysis=async topicData=>{setIsAnalyzing(true);setCurrentStep('analyzing');addMessage({type:'ai',content:\"\\uD83D\\uDD2C Analyzing \\\"\".concat(topicData.mainTopic,\"\\\" and related narratives...\\n\\n\")+\"**Research Focus:**\\n\"+\"\\u2022 Identifying key influencers and thought leaders\\n\"+\"\\u2022 Mapping narrative evolution and trends\\n\"+\"\\u2022 Finding authoritative sources\\n\"+\"\\u2022 Discovering related topics and subtopics\\n\\n\"+\"This will help me create a comprehensive monitoring strategy...\",showProgress:true});// Research phases\nconst phases=[{key:'organization',label:\"Researching \\\"\".concat(topicData.mainTopic,\"\\\"\"),duration:2000},{key:'stakeholders',label:'Identifying key voices and influencers',duration:2500},{key:'sources',label:'Finding authoritative sources',duration:2000},{key:'strategy',label:'Building monitoring strategy',duration:1500}];for(const phase of phases){await animateProgress(phase.key,phase.duration);}// Generate topic-based intelligence targets\nconst topicTargets=generateTopicTargets(topicData);setStakeholders(topicTargets);setIsAnalyzing(false);setCurrentStep('review_stakeholders');// Present results\naddMessage({type:'ai',content:\"\\u2705 **Topic Analysis Complete!**\\n\\nI've identified key aspects of \\\"\".concat(topicData.mainTopic,\"\\\" to monitor. These include subtopics, key sources, and influential voices.\\n\\n**Select the targets you want to track:**\"),stakeholderResults:topicTargets,showSelection:true});};const generateTopicTargets=topicData=>{const targets=[];const mainTopic=topicData.mainTopic;// Main topic as primary target\ntargets.push({id:'topic-main',name:mainTopic,type:'Primary Topic',priority:'high',influence:90,keywords:[mainTopic,...getTopicKeywords(mainTopic)],topics:['breaking news','industry analysis','expert opinions','research reports'],reason:'Core topic for monitoring',goals:\"Track all developments related to \".concat(mainTopic),description:topicData.context||\"Primary monitoring focus\"});// Generate related subtopics\nconst subtopics=generateSubtopics(mainTopic,topicData.industry);subtopics.forEach((subtopic,idx)=>{targets.push({id:\"topic-sub-\".concat(idx),name:subtopic.name,type:'Subtopic',priority:subtopic.priority||'medium',influence:subtopic.relevance||70,keywords:subtopic.keywords,topics:subtopic.aspects,reason:subtopic.reason,goals:\"Monitor \".concat(subtopic.name,\" developments\"),description:subtopic.description});});// Add key influencers/sources as targets\nconst influencers=generateTopicInfluencers(mainTopic,topicData.industry);influencers.forEach((influencer,idx)=>{targets.push({id:\"influencer-\".concat(idx),name:influencer.name,type:'Key Source',priority:'medium',influence:influencer.authority||60,keywords:[influencer.name,mainTopic],topics:influencer.expertise,reason:influencer.reason,goals:\"Track insights from \".concat(influencer.name),description:influencer.description});});return targets;};const getTopicKeywords=topic=>{// Generate related keywords for a topic\nconst topicLower=topic.toLowerCase();if(topicLower.includes('ai')||topicLower.includes('artificial intelligence')){return['machine learning','deep learning','neural networks','LLM','generative AI'];}else if(topicLower.includes('climate')||topicLower.includes('sustainability')){return['ESG','carbon neutral','renewable energy','green technology','net zero'];}else if(topicLower.includes('crypto')||topicLower.includes('blockchain')){return['bitcoin','ethereum','DeFi','web3','NFT','digital assets'];}// Default related terms\nreturn['trends','analysis','industry','innovation','research'];};const generateSubtopics=(mainTopic,industry)=>{const topicLower=mainTopic.toLowerCase();if(topicLower.includes('ai regulation')){return[{name:'EU AI Act',keywords:['EU AI Act','European regulation','AI governance'],aspects:['policy updates','compliance requirements','implementation timeline'],priority:'high',relevance:85,reason:'Major regulatory framework',description:'European Union AI regulation and compliance'},{name:'AI Ethics & Bias',keywords:['AI ethics','algorithmic bias','fairness','transparency'],aspects:['ethical guidelines','bias detection','fairness metrics'],priority:'high',relevance:80,reason:'Critical compliance area',description:'Ethical considerations and bias in AI systems'},{name:'Industry Standards',keywords:['ISO AI standards','IEEE standards','best practices'],aspects:['standard updates','certification','compliance frameworks'],priority:'medium',relevance:70,reason:'Industry standardization',description:'Technical standards and certifications'}];}// Default subtopics\nreturn[{name:\"\".concat(mainTopic,\" Trends\"),keywords:[\"\".concat(mainTopic,\" trends\"),'emerging','future'],aspects:['trend analysis','predictions','market shifts'],priority:'high',relevance:75,reason:'Track evolving trends',description:'Emerging trends and future directions'},{name:\"\".concat(mainTopic,\" Technology\"),keywords:[\"\".concat(mainTopic,\" tech\"),'innovation','solutions'],aspects:['new technology','innovations','breakthroughs'],priority:'medium',relevance:70,reason:'Technology developments',description:'Technical innovations and solutions'}];};const generateTopicInfluencers=(topic,industry)=>{const topicLower=topic.toLowerCase();if(topicLower.includes('ai')){return[{name:'MIT Technology Review',authority:90,expertise:['AI research','technology trends','innovation'],reason:'Leading technology publication',description:'Authoritative source on AI developments'},{name:'Stanford HAI',authority:85,expertise:['AI research','policy','human-centered AI'],reason:'Academic thought leadership',description:'Stanford Human-Centered AI Institute'}];}// Default influencers\nreturn[{name:'Industry Reports',authority:75,expertise:['market analysis','industry trends','forecasts'],reason:'Market intelligence',description:'Key industry research firms and analysts'},{name:'Thought Leaders',authority:70,expertise:['expert opinions','insights','commentary'],reason:'Expert perspectives',description:'Industry experts and thought leaders'}];};const performCompetitorAnalysis=async orgData=>{setIsAnalyzing(true);setCurrentStep('analyzing');addMessage({type:'ai',content:\"\\uD83D\\uDD0D Excellent! I'm now researching \".concat(orgData.company,\" to identify your key competitors.\\n\\n\")+\"**Analyzing:**\\n\"+\"\\u2022 \".concat(orgData.url?'Website content and positioning':'Industry positioning',\"\\n\")+\"\\u2022 Market landscape and key players\\n\"+\"\\u2022 Direct and indirect competitors\\n\"+\"\\u2022 Competitive threats and opportunities\\n\\n\"+\"This comprehensive analysis will help me identify your top 5-10 competitors...\",showProgress:true});// Research phases\nconst phases=[{key:'organization',label:\"Analyzing \".concat(orgData.url||orgData.company),duration:2000},{key:'stakeholders',label:'Researching industry landscape',duration:2500},{key:'sources',label:'Identifying key competitors',duration:3000},{key:'strategy',label:'Configuring tracking sources',duration:1500}];for(const phase of phases){await animateProgress(phase.key,phase.duration);}// Generate competitor suggestions\nconst competitors=await generateCompetitorSuggestions(orgData);// Convert competitors to stakeholder format\nconst competitorStakeholders=competitors.map((comp,idx)=>({id:\"competitor-\".concat(idx),name:comp.name,type:'Competitor',priority:comp.trackingPriority||'high',influence:comp.threatLevel||75,keywords:[comp.name,...(comp.keywords||[])],topics:comp.reasons||['product launches','funding','partnerships'],reason:comp.description||\"\".concat(comp.type||'Direct competitor',\" in your market\"),goals:\"Track \".concat(comp.name,\"'s strategic moves and market positioning\"),fears:\"Missing competitive intelligence on \".concat(comp.name),description:comp.description,threatLevel:comp.threatLevel,trackingPriority:comp.trackingPriority}));setStakeholders(competitorStakeholders);setIsAnalyzing(false);setCurrentStep('review_stakeholders');// Present results\naddMessage({type:'ai',content:\"\\u2705 **Research Complete!**\\n\\nBased on my analysis of \".concat(orgData.company,\", I've identified \").concat(competitorStakeholders.length,\" key competitors in your market. These companies represent your main competitive threats and opportunities.\\n\\n**Select the competitors you want to track** (or confirm all):\"),stakeholderResults:competitorStakeholders,showSelection:true});};const generateCompetitorSuggestions=async orgData=>{// Try to use real research service first\ntry{const response=await stakeholderIntelligenceService.researchCompetitors(orgData);if(response&&response.competitors){return response.competitors;}}catch(error){console.log('Using local competitor generation');}// Local intelligent competitor generation based on company\nconst companyLower=orgData.company.toLowerCase();// Smart competitor mapping\nif(companyLower.includes('target')){return[{name:'Walmart',type:'Direct Competitor',description:'Largest retail competitor with strong omnichannel presence',threatLevel:95,trackingPriority:'high',reasons:['Market leader','Price competition','Geographic overlap']},{name:'Amazon',type:'Direct Competitor',description:'E-commerce giant expanding into physical retail',threatLevel:90,trackingPriority:'high',reasons:['Digital dominance','Same-day delivery','Prime ecosystem']},{name:'Costco',type:'Indirect Competitor',description:'Membership-based wholesale retailer',threatLevel:70,trackingPriority:'medium',reasons:['Different model','Customer overlap','Bulk buying trend']}];}// Default technology competitors\nreturn[{name:'Primary Competitor',type:'Direct Competitor',description:'Main rival in your core market',threatLevel:85,trackingPriority:'high',reasons:['Market share','Product overlap','Customer base']},{name:'Secondary Competitor',type:'Direct Competitor',description:'Growing threat in key segments',threatLevel:75,trackingPriority:'medium',reasons:['Fast growth','Innovation','Pricing pressure']}];};const handleOrganizationInput=async userMessage=>{console.log('handleOrganizationInput called with:',userMessage);// Parse organization name and URL - handle various input formats\nconst lines=userMessage.split('\\n').filter(l=>l.trim());let company='';let url='';// Smart parsing - handle both single line and multi-line input\nif(lines.length===1){// Single line - could be just company name or \"CompanyName https://url.com\"\nconst parts=lines[0].split(/\\s+/);if(parts.some(p=>p.includes('http')||p.includes('www.'))){// Has URL in the line\nurl=parts.find(p=>p.includes('http')||p.includes('www.'))||'';company=parts.filter(p=>!p.includes('http')&&!p.includes('www.')).join(' ').trim();}else{// Just company name\ncompany=lines[0].trim();}}else{// Multi-line input\nlines.forEach((line,index)=>{const trimmed=line.trim();if(trimmed.includes('http://')||trimmed.includes('https://')||trimmed.includes('www.')){url=trimmed.includes('http')?trimmed:\"https://\".concat(trimmed);}else if(!company&&trimmed){company=trimmed;}});}console.log('Parsed company:',company,'url:',url);if(!company||company.length===0){addMessage({type:'ai',content:\"I need at least your organization name to proceed. Please provide:\\n\\nâ€¢ Organization Name\\nâ€¢ Website URL (optional but recommended)\",showForm:true});return;}setOrganizationData(prev=>_objectSpread(_objectSpread({},prev),{},{company,url}));// Start automated analysis\naddMessage({type:'ai',content:\"Perfect! Analyzing **\".concat(company,\"**\").concat(url?\" (\".concat(url,\")\"):'',\"...\\n\\nI'm using AI agents to:\\n\\u2022 \\uD83C\\uDFE2 Identify your main competitors\\n\\u2022 \\uD83D\\uDCCA Discover industry topics to monitor\\n\\u2022 \\uD83C\\uDFAF Find trending narratives in your space\")});setIsAnalyzing(true);performAutomatedAnalysis({company,url});};const getCompetitorsForCompany=(company,url)=>{// Smart competitor identification based on company name and URL\nconst companyLower=company.toLowerCase();// Tech companies\nif(companyLower.includes('openai')||companyLower.includes('ai')){return['Anthropic','Google DeepMind','Microsoft AI','Cohere','Stability AI'];}if(companyLower.includes('microsoft')){return['Google','Amazon','Apple','Meta','Salesforce'];}if(companyLower.includes('google')){return['Microsoft','Apple','Amazon','Meta','OpenAI'];}// E-commerce\nif(companyLower.includes('amazon')||companyLower.includes('shopify')){return['Amazon','Walmart','eBay','Alibaba','Target'];}// Social media\nif(companyLower.includes('meta')||companyLower.includes('facebook')){return['TikTok','X (Twitter)','LinkedIn','Snapchat','Pinterest'];}// Default competitors for unknown companies\nreturn['Industry Leader 1','Industry Leader 2','Emerging Competitor 1','Emerging Competitor 2'];};const getTopicsForCompany=(company,url)=>{// Smart topic identification based on company and industry\nconst companyLower=company.toLowerCase();// AI companies\nif(companyLower.includes('ai')||companyLower.includes('openai')){return['AI Regulation','AGI Development','AI Safety','LLM Advancements','AI Ethics'];}// Tech companies\nif(companyLower.includes('microsoft')||companyLower.includes('google')||companyLower.includes('apple')){return['Cloud Computing','Cybersecurity','Digital Transformation','Privacy Regulations','Tech Antitrust'];}// E-commerce\nif(companyLower.includes('amazon')||companyLower.includes('shopify')){return['E-commerce Trends','Supply Chain Innovation','Last-Mile Delivery','Retail Technology','Consumer Behavior'];}// Finance\nif(companyLower.includes('bank')||companyLower.includes('capital')){return['Fintech Disruption','Digital Banking','Cryptocurrency','Financial Regulations','ESG Investing'];}// Default topics\nreturn['Industry Trends','Market Dynamics','Regulatory Changes','Technology Innovation','Consumer Sentiment'];};const performAutomatedAnalysis=async orgData=>{setCurrentStep('analyzing');setAnalysisProgress({organization:0,stakeholders:0,sources:0,strategy:0});// Progressive analysis animation\nsetTimeout(()=>setAnalysisProgress(prev=>_objectSpread(_objectSpread({},prev),{},{organization:100})),1000);setTimeout(()=>setAnalysisProgress(prev=>_objectSpread(_objectSpread({},prev),{},{stakeholders:100})),2000);setTimeout(()=>setAnalysisProgress(prev=>_objectSpread(_objectSpread({},prev),{},{sources:100})),3000);setTimeout(()=>setAnalysisProgress(prev=>_objectSpread(_objectSpread({},prev),{},{strategy:100})),4000);// Fetch real data from backend\ntry{// Get auth token from localStorage (same as other components)\nconst token=localStorage.getItem('token');console.log('Using token:',token?'Token found':'No token found');// Build headers\nconst headers={'Content-Type':'application/json'};if(token){headers['Authorization']=\"Bearer \".concat(token);}// Fetch competitors and topics in parallel\nconst[competitorsResponse,topicsResponse]=await Promise.all([fetch(\"\".concat(API_BASE_URL,\"/intelligence/discover-competitors\"),{method:'POST',headers,body:JSON.stringify({company:orgData.company,industry:orgData.url||'technology'})}),fetch(\"\".concat(API_BASE_URL,\"/intelligence/discover-topics\"),{method:'POST',headers,body:JSON.stringify({company:orgData.company,industry:orgData.url||'technology'})})]);const competitorsData=await competitorsResponse.json();const topicsData=await topicsResponse.json();// Use real data if available, fallback to local discovery\nlet competitors,topics;if(competitorsData.success&&competitorsData.competitors){// Extract competitor names from the objects\ncompetitors=competitorsData.competitors.map(c=>typeof c==='object'?c.name||c.competitor||JSON.stringify(c):c);console.log('Real competitors found:',competitors);}else{competitors=getCompetitorsForCompany(orgData.company,orgData.url);}if(topicsData.success&&topicsData.topics){// Extract topic names from the objects\ntopics=topicsData.topics.map(t=>typeof t==='object'?t.topic||t.name||JSON.stringify(t):t);console.log('Real topics found:',topics);}else{topics=getTopicsForCompany(orgData.company,orgData.url);}// Wait for animation to complete\nsetTimeout(()=>{// Create individual targets for each competitor and topic\nconst competitorTargets=competitors.map(competitorName=>({name:competitorName,type:'competitor',priority:'high',reason:\"Track \".concat(competitorName,\"'s competitive moves and market positioning\"),keywords:[competitorName.toLowerCase()],topics:['Product Launches','Pricing Changes','Market Expansion','Partnership Announcements']}));const topicTargets=topics.map(topicName=>({name:topicName,type:'topic',priority:'high',reason:\"Monitor developments in \".concat(topicName),keywords:topicName.toLowerCase().split(' '),topics:[topicName]}));const discoveredTargets=[...competitorTargets,...topicTargets];setStakeholders(discoveredTargets);setIsAnalyzing(false);// Store editable lists\nsetEditableCompetitors(competitors);setEditableTopics(topics);// Show results with real data\naddMessage({type:'ai',content:\"\\u2705 **Discovery Complete!**\\n\\n**Click any item below to edit it:**\",editableTargets:{competitors:competitors,topics:topics},options:[{label:'âœ… Start Monitoring These',value:'proceed'},{label:'âž• Add More Competitors',value:'add_competitors'},{label:'ðŸ“ Add More Topics',value:'customize_topics'}]});setCurrentStep('confirm_targets');},4500);}catch(error){console.error('Error fetching real data:',error);// Fallback to local discovery\nsetTimeout(()=>{const competitors=getCompetitorsForCompany(orgData.company,orgData.url);const topics=getTopicsForCompany(orgData.company,orgData.url);// Create individual targets for each competitor and topic (fallback)\nconst competitorTargets=competitors.map(competitorName=>({name:competitorName,type:'competitor',priority:'high',reason:\"Track \".concat(competitorName,\"'s competitive moves and market positioning\"),keywords:[competitorName.toLowerCase()],topics:['Product Launches','Pricing Changes','Market Expansion','Partnership Announcements']}));const topicTargets=topics.map(topicName=>({name:topicName,type:'topic',priority:'high',reason:\"Monitor developments in \".concat(topicName),keywords:topicName.toLowerCase().split(' '),topics:[topicName]}));const discoveredTargets=[...competitorTargets,...topicTargets];setStakeholders(discoveredTargets);setIsAnalyzing(false);// Store editable lists\nsetEditableCompetitors(competitors);setEditableTopics(topics);addMessage({type:'ai',content:\"\\u2705 **Discovery Complete!**\\n\\n**Click any item below to edit it:**\",editableTargets:{competitors:competitors,topics:topics},options:[{label:'âœ… Start Monitoring These',value:'proceed'},{label:'âž• Add More Competitors',value:'add_competitors'},{label:'ðŸ“ Add More Topics',value:'customize_topics'}]});setCurrentStep('confirm_targets');},4500);}};const performDeepOrganizationAnalysis=async orgData=>{setIsAnalyzing(true);setCurrentStep('analyzing');// Show analysis progress with all collected data\naddMessage({type:'ai',content:\"Excellent! I'm now performing a deep analysis with the following information:\\n\\n\"+\"\\uD83C\\uDFE2 **Organization**: \".concat(orgData.company,\"\\n\")+\"\\uD83C\\uDF10 **Website**: \".concat(orgData.url||'Not provided',\"\\n\")+\"\\uD83C\\uDFAF **Strategic Goals**: \".concat(orgData.strategicGoals?'Identified':'Not provided',\"\\n\")+\"\\uD83D\\uDC65 **Known Stakeholders**: \".concat(orgData.priorityStakeholders&&orgData.priorityStakeholders.toLowerCase()!=='none'?'Provided':'Will discover',\"\\n\\n\")+\"This comprehensive research will help me identify and configure your key stakeholders automatically.\",showProgress:true});// Enhanced research phases showing deeper analysis\nconst phases=[{key:'organization',label:\"Analyzing \".concat(orgData.company,\" and \").concat(orgData.url||'industry context'),duration:2000},{key:'stakeholders',label:'Mapping stakeholders to strategic goals',duration:2500},{key:'sources',label:'Building custom intelligence sources',duration:2000},{key:'strategy',label:'Creating goal-aligned monitoring strategy',duration:1500}];for(const phase of phases){await animateProgress(phase.key,phase.duration);}// Generate intelligent stakeholder suggestions with all context\nlet suggestedStakeholders=[];try{// First, create/update organization in database\nconst orgResult=await stakeholderIntelligenceService.createOrUpdateOrganization({name:orgData.company,url:orgData.url,industry:determineIndustryFromUrl(orgData.url),type:orgData.company.toLowerCase().includes('karv')||orgData.company.toLowerCase().includes('agency')?'agency':'company',strategicGoals:orgData.strategicGoals});// Store organization ID for later use\norgData.organizationId=orgResult.organizationId;setOrganizationData(prev=>_objectSpread(_objectSpread({},prev),{},{organizationId:orgResult.organizationId}));// Try to get AI-powered suggestions from backend\nsuggestedStakeholders=await stakeholderIntelligenceService.generateStakeholderSuggestions(orgData);// If API fails or returns empty, use local generation\nif(!suggestedStakeholders||suggestedStakeholders.length===0){suggestedStakeholders=await generateSmartStakeholderSuggestions(orgData);}}catch(error){console.error('Error with API, using local generation:',error);// Fall back to local generation\nsuggestedStakeholders=await generateSmartStakeholderSuggestions(orgData);}setStakeholders(suggestedStakeholders);setIsAnalyzing(false);setCurrentStep('review_stakeholders');// Present results\naddMessage({type:'ai',content:\"Analysis complete! Based on my research of \".concat(orgData.company,\", your strategic goals, and the URL analysis, I've identified \").concat(suggestedStakeholders.length,\" key stakeholder groups that significantly influence your success. These groups represent dozens of individual entities we'll monitor.\"),stakeholderResults:suggestedStakeholders});};const animateProgress=(key,duration)=>{return new Promise(resolve=>{let progress=0;const interval=setInterval(()=>{progress+=10;setAnalysisProgress(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:progress}));if(progress>=100){clearInterval(interval);resolve();}},duration/10);});};const determineIndustryFromUrl=url=>{if(!url)return null;const domain=url.toLowerCase();// Simple industry detection based on domain patterns\nif(domain.includes('tech')||domain.includes('.io')||domain.includes('software'))return'Technology';if(domain.includes('bank')||domain.includes('capital')||domain.includes('invest'))return'Financial Services';if(domain.includes('health')||domain.includes('med')||domain.includes('pharma'))return'Healthcare';if(domain.includes('retail')||domain.includes('shop')||domain.includes('store'))return'Retail';if(domain.includes('energy')||domain.includes('oil')||domain.includes('solar'))return'Energy';return'Technology';// Default fallback\n};const generateSmartStakeholderSuggestions=async orgData=>{var _orgData$url,_orgData$strategicGoa,_orgData$priorityStak;const suggestions=[];// Determine company type and context\nconst companyName=orgData.company.toLowerCase();const url=((_orgData$url=orgData.url)===null||_orgData$url===void 0?void 0:_orgData$url.toLowerCase())||'';const goals=((_orgData$strategicGoa=orgData.strategicGoals)===null||_orgData$strategicGoa===void 0?void 0:_orgData$strategicGoa.toLowerCase())||'';const userStakeholders=((_orgData$priorityStak=orgData.priorityStakeholders)===null||_orgData$priorityStak===void 0?void 0:_orgData$priorityStak.toLowerCase())||'';// Analyze company type from name, URL, and context\n// KARV and similar names should be detected as agencies\nconst isAgency=companyName.includes('communications')||companyName.includes('pr')||companyName.includes('marketing')||companyName.includes('agency')||companyName.includes('karv')||companyName.includes('publicis')||companyName.includes('omnicom')||companyName.includes('wpp')||url.includes('agency')||url.includes('communications')||goals.includes('new business')||goals.includes('win clients');const isB2B=goals.includes('business')||goals.includes('enterprise')||goals.includes('b2b')||companyName.includes('solutions');const targetingTech=goals.includes('technology')||goals.includes('tech')||goals.includes('software')||goals.includes('saas')||goals.includes('generate new business with tech');// For KARV (communications firm) wanting new tech business\nif(isAgency&&targetingTech){// Specific Major Tech Companies as PROSPECTS\nsuggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Microsoft',type:'Target Client - Enterprise',priority:'critical',reason:'Major tech company that regularly uses PR agencies for product launches and corporate comms',influence:10,keywords:['microsoft','msft','satya nadella','azure','office'],preIndexed:true,sourceCount:15,entities:['Microsoft'],monitoringTopics:['product launches needing PR support','PR agency RFPs','marketing leadership changes','crisis communications needs','market expansion announcements']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Salesforce',type:'Target Client - Enterprise SaaS',priority:'critical',reason:'Leading SaaS company with extensive PR needs for Dreamforce and product launches',influence:10,keywords:['salesforce','crm','marc benioff','dreamforce'],preIndexed:true,sourceCount:12,entities:['Salesforce'],monitoringTopics:['Dreamforce planning','acquisition communications','product launch campaigns','executive thought leadership']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'High-Growth Tech Startups',type:'Target Client Segment',priority:'critical',reason:'Series B-D startups often need first-time PR agency partnerships',influence:9,keywords:['series b','series c','unicorn','startup','scale-up'],preIndexed:false,sourceCount:40,entities:['Funded Startups','Unicorns','Pre-IPO Companies'],monitoringTopics:['funding announcements (PR opportunity)','first CMO/VP Marketing hire','product launches','market expansion','competitive positioning needs']});// Specific Competitor Agencies\nsuggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Edelman',type:'Competitor - Global Leader',priority:'high',reason:'World\\'s largest PR firm - monitor for competitive intelligence',influence:8,keywords:['edelman','edelman pr'],preIndexed:true,sourceCount:8,entities:['Edelman'],monitoringTopics:['tech client wins','new service offerings','talent acquisitions','industry thought leadership']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Weber Shandwick',type:'Competitor - Major Agency',priority:'medium',reason:'Leading global PR agency with strong tech practice',influence:7,keywords:['weber shandwick','weber'],preIndexed:true,sourceCount:6,entities:['Weber Shandwick'],monitoringTopics:['client movements','tech sector focus','award wins','executive changes']});// Specific Tech Media Outlets\nsuggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'TechCrunch',type:'Media Partner - Tech',priority:'high',reason:'Premier tech media outlet for client coverage and thought leadership',influence:9,keywords:['techcrunch','tc','disrupt'],preIndexed:true,sourceCount:8,entities:['TechCrunch'],monitoringTopics:['reporter beats and interests','editorial calendar','Disrupt conference','startup coverage priorities']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Wall Street Journal Tech',type:'Media Partner - Business',priority:'high',reason:'Leading business publication for enterprise tech coverage',influence:9,keywords:['wsj','wall street journal','dow jones'],preIndexed:true,sourceCount:8,entities:['Wall Street Journal'],monitoringTopics:['enterprise tech coverage','tech reporter needs','opinion section opportunities','executive profiles']});// Specific VC Firms as Referral Partners  \nsuggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Sequoia Capital',type:'Referral Partner - Premier VC',priority:'high',reason:'Top-tier VC that frequently refers PR agencies to portfolio companies',influence:10,keywords:['sequoia','sequoia capital','roelof botha'],preIndexed:true,sourceCount:10,entities:['Sequoia Capital'],monitoringTopics:['new portfolio investments','portfolio company launches','partner recommendations','portfolio PR needs']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Andreessen Horowitz',type:'Referral Partner - Major VC',priority:'high',reason:'Leading VC with 400+ portfolio companies often needing PR services',influence:10,keywords:['a16z','andreessen horowitz','marc andreessen'],preIndexed:true,sourceCount:12,entities:['Andreessen Horowitz'],monitoringTopics:['new investments','portfolio expansions','marketing services program','portfolio company needs']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Y Combinator',type:'Referral Partner - Accelerator',priority:'high',reason:'YC companies often need PR help post-Demo Day',influence:9,keywords:['y combinator','yc','demo day'],preIndexed:false,sourceCount:15,entities:['Y Combinator'],monitoringTopics:['Demo Day announcements','new batch companies','YC partner advice on PR','portfolio launches']});}else if(isB2B&&!isAgency){// B2B Software/SaaS Company\nsuggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Enterprise Customers & Prospects',type:'Revenue Drivers',priority:'critical',reason:'Current customers and target accounts driving revenue growth',influence:10,keywords:['customer','client','account','enterprise','fortune 500'],preIndexed:false,sourceCount:30,entities:['Current Enterprise Accounts','Target Fortune 500','Strategic Partners'],monitoringTopics:['digital transformation','technology budgets','vendor evaluations','RFPs']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Technology Investors',type:'Financial Stakeholders',priority:'high',reason:'VCs and growth investors influencing strategy and providing capital',influence:9,keywords:['venture capital','private equity','investor','funding'],preIndexed:true,sourceCount:40,entities:['Current Investors','Target VCs','Growth Equity Firms'],monitoringTopics:['portfolio movements','investment thesis','market opinions','fund raising']});}else if(companyName.includes('health')||url.includes('health')||goals.includes('patient')){// Healthcare Company\nsuggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Healthcare Regulators & Compliance Bodies',type:'Regulatory Oversight',priority:'critical',reason:'FDA, CMS, and other bodies controlling market access and compliance',influence:10,keywords:['fda','cms','healthcare regulation','hipaa','compliance'],preIndexed:true,sourceCount:35,entities:['FDA','CMS','HHS','State Health Departments'],monitoringTopics:['regulatory changes','compliance requirements','approval processes','enforcement actions']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Healthcare Providers & Systems',type:'Customer Base',priority:'high',reason:'Hospitals, clinics, and providers implementing your solutions',influence:9,keywords:['hospital','health system','clinic','physician','provider'],preIndexed:false,sourceCount:30,entities:['Major Health Systems','Academic Medical Centers','Provider Networks'],monitoringTopics:['technology adoption','budget cycles','clinical needs','patient outcomes']});}else if(companyName.includes('retail')||url.includes('retail')||goals.includes('consumer')){// Retail/Consumer Company\nsuggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Consumer Groups & Influencers',type:'Market Drivers',priority:'critical',reason:'End consumers and social influencers driving brand perception',influence:9,keywords:['consumer','customer','influencer','social media','review'],preIndexed:false,sourceCount:40,entities:['Consumer Advocacy Groups','Social Media Influencers','Review Platforms'],monitoringTopics:['consumer sentiment','product reviews','social trends','brand mentions']});suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'Retail Partners & Distributors',type:'Channel Partners',priority:'high',reason:'Key retail chains and distribution partners affecting market reach',influence:8,keywords:['retailer','distributor','wholesale','amazon','walmart'],preIndexed:true,sourceCount:25,entities:['Major Retailers','E-commerce Platforms','Distribution Networks'],monitoringTopics:['partner requirements','shelf space','promotional opportunities','supply chain']});}else{// Default but still try to be intelligent based on goals\nif(goals.includes('ipo')||goals.includes('public')){suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'IPO Readiness Stakeholders',type:'Go-Public Strategy',priority:'critical',reason:'Investment banks, analysts, and regulators critical for IPO success',influence:10,keywords:['investment bank','ipo','sec','analyst','underwriter'],preIndexed:true,sourceCount:35,entities:['Goldman Sachs','Morgan Stanley','JPMorgan','SEC','Financial Analysts'],monitoringTopics:['ipo market conditions','comparable valuations','regulatory requirements','analyst coverage']});}if(goals.includes('acquisition')||goals.includes('m&a')){suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'M&A Targets & Strategic Buyers',type:'Growth Strategy',priority:'high',reason:'Potential acquisition targets and strategic acquirers',influence:9,keywords:['acquisition','merger','strategic buyer','private equity'],preIndexed:false,sourceCount:30,entities:['Strategic Buyers','PE Firms','Acquisition Targets','Investment Banks'],monitoringTopics:['M&A activity','valuations','strategic moves','integration challenges']});}}// Add industry-specific associations\nif(isAgency){suggestions.push({id:\"stakeholder-\".concat(suggestions.length),name:'PR & Marketing Associations',type:'Industry Organizations',priority:'medium',reason:'Industry credibility, awards, best practices, and networking',influence:6,keywords:['prsa','prca','marketing association','communications association'],preIndexed:false,sourceCount:15,entities:['PRSA','PRCA','AMA','Content Marketing Institute'],monitoringTopics:['industry trends','award deadlines','best practices','regulatory changes','industry events']});}// Always add user-mentioned stakeholders with enhanced context\nif(userStakeholders&&userStakeholders!=='none'){const userMentions=userStakeholders.split(/[,;]/).map(s=>s.trim());userMentions.forEach(mention=>{if(mention){suggestions.unshift({id:\"user-\".concat(suggestions.length),name:mention,type:'User Priority',priority:'critical',reason:'Specifically identified as important by your team',influence:10,keywords:[mention.toLowerCase()],preIndexed:false,sourceCount:20,entities:[mention],monitoringTopics:['all relevant news','announcements','leadership changes'],isUserPriority:true});}});}return suggestions;};const finalizeStrategy=async()=>{setIsTyping(true);addMessage({type:'ai',content:\"âœ… **Excellent!** I'm finalizing your intelligence monitoring strategy...\\n\\nConfiguring:\\nâ€¢ Stakeholder monitoring sources\\nâ€¢ Topic tracking systems\\nâ€¢ Real-time intelligence gathering\\nâ€¢ Automated alerts and insights\"});// Generate organization ID if not present\nif(!organizationData.organizationId){organizationData.organizationId=\"org-\".concat(Date.now());}// Build final stakeholders list from editable lists\nconst finalStakeholders=[];// Add competitors\nif(editableCompetitors&&editableCompetitors.length>0){editableCompetitors.forEach(name=>{finalStakeholders.push({name:name,type:'competitor',priority:'high',keywords:[name.toLowerCase()],topics:['Product Launches','Market Moves','Partnerships','Funding']});});}// Add topics\nif(editableTopics&&editableTopics.length>0){editableTopics.forEach(name=>{finalStakeholders.push({name:name,type:'topic',priority:'high',keywords:name.toLowerCase().split(' '),topics:[name]});});}// Update stakeholders with final list\nsetStakeholders(finalStakeholders);try{// Save stakeholder configuration to backend if we have an organization ID\nif(organizationData.organizationId){// Prepare stakeholders with sources for backend\nconst stakeholdersWithSources=await Promise.all(finalStakeholders.map(async s=>{let sources=[];// If pre-indexed, get sources from database\nif(s.preIndexed&&s.name){const preIndexed=findPreIndexedStakeholder(s.name);if(preIndexed&&preIndexed.sources){sources=preIndexed.sources;}}else{// Discover sources using API\ntry{sources=await stakeholderIntelligenceService.discoverStakeholderSources(s.name,s.type);}catch(error){console.error('Error discovering sources for',s.name,error);}}return _objectSpread(_objectSpread({},s),{},{sources:sources});}));// Save configuration to database\nawait stakeholderIntelligenceService.saveStakeholderConfiguration(organizationData.organizationId,stakeholdersWithSources);}}catch(error){console.error('Error saving stakeholder configuration:',error);// Continue even if save fails - user can still see the strategy\n}// Prepare enhanced strategy data with all collected information\n// Use finalStakeholders directly since setState might not have updated yet\nconst enhancedStrategy={organizationId:organizationData.organizationId,company:organizationData.company,url:organizationData.url,industry:determineIndustryFromUrl(organizationData.url)||'Technology',strategicGoals:organizationData.strategicGoals,userPriorityStakeholders:organizationData.priorityStakeholders,stakeholders:finalStakeholders.map(s=>_objectSpread(_objectSpread({},s),{},{topics:s.monitoringTopics||s.topics,sources:s.preIndexed?'Pre-configured':'To be configured',goals:\"Monitor \".concat(s.name,\" for strategic intelligence\"),fears:\"Missing critical \".concat(s.type.toLowerCase(),\" signals\")})),stakeholderGroups:finalStakeholders.map((s,idx)=>({id:\"stakeholder-\".concat(idx),name:s.name,type:s.type,influence:s.priority==='high'?9:s.priority==='medium'?7:5,interest:s.priority==='high'?9:s.priority==='medium'?7:5,sentiment:'neutral',currentSentiment:5,targetSentiment:8,engagementLevel:6,trend:'stable',concerns:[s.reason],keywords:s.keywords||[],topics:s.topics||[],preIndexed:s.preIndexed||false,sourceCount:s.sourceCount||0})),overview:\"Automated intelligence monitoring for \".concat(organizationData.company),enhancedFeatures:{preIndexedCount:finalStakeholders.filter(s=>s.preIndexed).length,totalSources:finalStakeholders.reduce((acc,s)=>acc+s.sourceCount,0),researchAgentsEnabled:true,urlAnalysisEnabled:true,strategicAlignment:true,backendIntegration:true}};setTimeout(()=>{onStrategyComplete(enhancedStrategy);setIsTyping(false);},2000);};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',height:'100%',background:'#f9fafb'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',maxWidth:'800px',margin:'0 auto',width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflowY:'auto',padding:'2rem',display:'flex',flexDirection:'column',gap:'1rem'},children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:message.type==='user'?'flex-end':'flex-start'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'70%',padding:'1rem',borderRadius:'0.75rem',background:message.type==='user'?'#6366f1':'white',color:message.type==='user'?'white':'#111827',boxShadow:'0 1px 3px rgba(0,0,0,0.1)'},children:[message.type==='ai'&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(Bot,{size:16}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',fontSize:'0.875rem'},children:\"AI Strategy Advisor\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-wrap'},children:message.content}),message.editableTargets&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[editableCompetitors&&editableCompetitors.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',marginBottom:'0.5rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Building2,{size:18}),\" Competitors to Track\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.5rem'},children:[editableCompetitors.map((competitor,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem',background:'#f9fafb',borderRadius:'0.5rem',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'600',color:'#6366f1',minWidth:'20px'},children:[idx+1,\".\"]}),editingType==='competitor'&&editingIndex===idx?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editValue,onChange:e=>setEditValue(e.target.value),onKeyPress:e=>{if(e.key==='Enter'){e.preventDefault();const updated=[...editableCompetitors];updated[idx]=editValue;setEditableCompetitors(updated);setEditingType(null);setEditingIndex(null);setEditValue('');}},onBlur:()=>{const updated=[...editableCompetitors];updated[idx]=editValue;setEditableCompetitors(updated);setEditingType(null);setEditingIndex(null);setEditValue('');},style:{flex:1,padding:'0.25rem',border:'1px solid #6366f1',borderRadius:'0.25rem',outline:'none'},autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const updated=editableCompetitors.filter((_,i)=>i!==idx);setEditableCompetitors(updated);setEditingType(null);setEditingIndex(null);},style:{padding:'0.25rem',background:'#ef4444',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer',fontSize:'0.75rem'},children:\"Remove\"})]}):/*#__PURE__*/_jsx(\"span\",{onClick:()=>{setEditingType('competitor');setEditingIndex(idx);setEditValue(competitor);},style:{flex:1,cursor:'pointer',color:'#374151',textDecoration:'underline'},children:competitor})]},\"comp-\".concat(idx))),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{const newName=prompt('Enter competitor name:');if(newName&&newName.trim()){const updated=[...editableCompetitors,newName.trim()];setEditableCompetitors(updated);}},style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem',background:'white',borderRadius:'0.5rem',border:'1px dashed #6366f1',color:'#6366f1',cursor:'pointer',fontSize:'0.875rem',fontWeight:'500',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.background='#f0f0ff';e.currentTarget.style.borderStyle='solid';},onMouseLeave:e=>{e.currentTarget.style.background='white';e.currentTarget.style.borderStyle='dashed';},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.2rem'},children:\"+\"}),\" Add Competitor\"]})]})]}),editableTopics&&editableTopics.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{style:{fontSize:'1rem',fontWeight:'600',marginBottom:'0.5rem',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(TrendingUp,{size:18}),\" Topics to Monitor\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.5rem'},children:[editableTopics.map((topic,idx)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem',background:'#f9fafb',borderRadius:'0.5rem',border:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:'600',color:'#10b981',minWidth:'20px'},children:[idx+1,\".\"]}),editingType==='topic'&&editingIndex===idx?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editValue,onChange:e=>setEditValue(e.target.value),onKeyPress:e=>{if(e.key==='Enter'){e.preventDefault();const updated=[...editableTopics];updated[idx]=editValue;setEditableTopics(updated);setEditingType(null);setEditingIndex(null);setEditValue('');}},onBlur:()=>{const updated=[...editableTopics];updated[idx]=editValue;setEditableTopics(updated);setEditingType(null);setEditingIndex(null);setEditValue('');},style:{flex:1,padding:'0.25rem',border:'1px solid #10b981',borderRadius:'0.25rem',outline:'none'},autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const updated=editableTopics.filter((_,i)=>i!==idx);setEditableTopics(updated);setEditingType(null);setEditingIndex(null);},style:{padding:'0.25rem',background:'#ef4444',color:'white',border:'none',borderRadius:'0.25rem',cursor:'pointer',fontSize:'0.75rem'},children:\"Remove\"})]}):/*#__PURE__*/_jsx(\"span\",{onClick:()=>{setEditingType('topic');setEditingIndex(idx);setEditValue(topic);},style:{flex:1,cursor:'pointer',color:'#374151',textDecoration:'underline'},children:topic})]},\"topic-\".concat(idx))),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{const newName=prompt('Enter topic to monitor:');if(newName&&newName.trim()){const updated=[...editableTopics,newName.trim()];setEditableTopics(updated);}},style:{display:'flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem',background:'white',borderRadius:'0.5rem',border:'1px dashed #10b981',color:'#10b981',cursor:'pointer',fontSize:'0.875rem',fontWeight:'500',transition:'all 0.2s'},onMouseEnter:e=>{e.currentTarget.style.background='#f0fff0';e.currentTarget.style.borderStyle='solid';},onMouseLeave:e=>{e.currentTarget.style.background='white';e.currentTarget.style.borderStyle='dashed';},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.2rem'},children:\"+\"}),\" Add Topic\"]})]})]})]}),message.showProgress&&isAnalyzing&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'1rem'},children:Object.entries(analysisProgress).map(_ref2=>{let[key,value]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.25rem'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem',textTransform:'capitalize'},children:[key==='organization'&&'Organization Analysis',key==='stakeholders'&&'Stakeholder Discovery',key==='sources'&&'Source Configuration',key==='strategy'&&'Strategy Generation']}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem'},children:[value,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'6px',background:'#e5e7eb',borderRadius:'3px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',background:'#6366f1',width:\"\".concat(value,\"%\"),transition:'width 0.3s ease'}})})]},key);})}),message.stakeholderResults&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 0.75rem 0',fontSize:'1rem',fontWeight:'600'},children:\"Discovered Stakeholders:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.5rem'},children:message.stakeholderResults.map(stakeholder=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'0.75rem',background:stakeholder.preIndexed?'#f0f9ff':'#f9fafb',borderRadius:'0.5rem',border:\"1px solid \".concat(stakeholder.preIndexed?'#bfdbfe':'#e5e7eb')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',marginBottom:'0.25rem'},children:stakeholder.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280',marginBottom:'0.25rem'},children:[stakeholder.type,\" \\u2022 Influence: \",stakeholder.influence,\"/10\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#6b7280'},children:stakeholder.reason}),stakeholder.entities&&stakeholder.entities.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem',fontSize:'0.75rem',color:'#4b5563'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Includes:\"}),\" \",stakeholder.entities.join(', ')]})]}),stakeholder.preIndexed&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.25rem',padding:'0.25rem 0.5rem',background:'#dbeafe',borderRadius:'0.375rem',fontSize:'0.75rem',color:'#1e40af',fontWeight:'500',flexShrink:0},children:[/*#__PURE__*/_jsx(Database,{size:12}),stakeholder.sourceCount,\" sources\"]})]}),stakeholder.monitoringTopics&&stakeholder.monitoringTopics.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem',display:'flex',flexWrap:'wrap',gap:'0.25rem'},children:[stakeholder.monitoringTopics.slice(0,3).map((topic,idx)=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.125rem 0.375rem',background:'#e0e7ff',color:'#4338ca',borderRadius:'0.25rem',fontSize:'0.625rem'},children:topic},idx)),stakeholder.monitoringTopics.length>3&&/*#__PURE__*/_jsxs(\"span\",{style:{padding:'0.125rem 0.375rem',color:'#6b7280',fontSize:'0.625rem'},children:[\"+\",stakeholder.monitoringTopics.length-3,\" more\"]})]})]},stakeholder.id))}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem',padding:'0.75rem',background:'#f0fdf4',borderRadius:'0.5rem',border:'1px solid #bbf7d0',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ready to proceed?\"}),\" I'll automatically configure sources for all pre-indexed stakeholders and help you set up the rest.\"]})]}),message.options&&message.options.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',marginTop:'1rem',flexWrap:'wrap'},children:[console.log('Rendering options for message:',message.id,message.options),message.options.map((option,idx)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUserResponse(option.value),style:{padding:'0.5rem 1rem',background:'#f3f4f6',border:'1px solid #e5e7eb',borderRadius:'0.5rem',cursor:'pointer',fontSize:'0.875rem',transition:'all 0.2s'},onMouseEnter:e=>{e.target.style.background='#6366f1';e.target.style.color='white';e.target.style.borderColor='#6366f1';},onMouseLeave:e=>{e.target.style.background='#f3f4f6';e.target.style.color='#111827';e.target.style.borderColor='#e5e7eb';},children:option.label||option.text},idx))]})]})},message.id)),isTyping&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',color:'#6b7280'},children:[/*#__PURE__*/_jsx(Loader,{size:16,className:\"animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem'},children:\"AI is thinking...\"})]})]}),isAnalyzing&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',borderRadius:'0.75rem',margin:'1rem 2rem',color:'white'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',marginBottom:'0.5rem'},children:[\"\\uD83D\\uDD0D Analyzing \",organizationData.company]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',opacity:0.9},children:\"Using AI agents to discover stakeholders and intelligence targets...\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{space:'0.75rem'},children:[{key:'organization',label:'Analyzing Organization',icon:Building2},{key:'stakeholders',label:'Finding Competitors',icon:Users},{key:'sources',label:'Discovering Topics',icon:Database},{key:'strategy',label:'Building Strategy',icon:Brain}].map(_ref3=>{let{key,label,icon:Icon}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'space-between',marginBottom:'0.25rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Icon,{size:16}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem'},children:label})]}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.75rem'},children:[analysisProgress[key],\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{height:'6px',background:'rgba(255, 255, 255, 0.2)',borderRadius:'3px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',width:\"\".concat(analysisProgress[key],\"%\"),background:'white',borderRadius:'3px',transition:'width 0.3s ease'}})})]},key);})})]}),currentStep!=='analyzing'&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem 2rem',borderTop:'1px solid #e5e7eb',background:'white'},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>{e.preventDefault();handleInputSubmit();},style:{display:'flex',gap:'0.5rem'},children:[currentStep==='strategic_goals'||currentStep==='priority_stakeholders'?/*#__PURE__*/_jsx(\"textarea\",{value:userInput,onChange:e=>setUserInput(e.target.value),placeholder:currentStep==='strategic_goals'?\"Enter your strategic goals...\":currentStep==='priority_stakeholders'?\"List important stakeholders or type 'none'...\":\"Type your response...\",style:{flex:1,padding:'0.75rem',border:'1px solid #e5e7eb',borderRadius:'0.5rem',fontSize:'0.875rem',resize:'vertical',minHeight:'80px',fontFamily:'inherit'}}):/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userInput,onChange:e=>setUserInput(e.target.value),placeholder:currentStep==='organization_input'?\"Enter organization name and URL...\":currentStep==='company_info'?\"Enter company name and URL...\":currentStep==='confirm_stakeholders'?\"Choose an option above...\":\"Type your response...\",style:{flex:1,padding:'0.75rem',border:'1px solid #e5e7eb',borderRadius:'0.5rem',fontSize:'0.875rem'}}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:!userInput.trim(),style:{padding:'0.75rem 1.5rem',background:userInput.trim()?'#6366f1':'#e5e7eb',color:'white',border:'none',borderRadius:'0.5rem',cursor:userInput.trim()?'pointer':'not-allowed',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'0.875rem',fontWeight:'500'},children:[\"Send\",/*#__PURE__*/_jsx(ChevronRight,{size:16})]})]})}),currentStep==='review_stakeholders'&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem 2rem',borderTop:'1px solid #e5e7eb',background:'white'},children:/*#__PURE__*/_jsxs(\"button\",{onClick:finalizeStrategy,style:{width:'100%',padding:'0.75rem',background:'#6366f1',color:'white',border:'none',borderRadius:'0.5rem',cursor:'pointer',fontSize:'0.875rem',fontWeight:'600',display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(CheckCircle,{size:16}),\"Confirm Stakeholders & Build Strategy\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{width:'320px',background:'white',borderLeft:'1px solid #e5e7eb',padding:'1.5rem',overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 1rem 0',fontSize:'1.125rem',fontWeight:'600',color:'#111827'},children:\"Enhanced Features\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#f0f9ff',borderRadius:'0.5rem',border:'1px solid #bfdbfe'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(Database,{size:16,style:{color:'#3b82f6'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',color:'#1e40af'},children:\"Pre-Indexed Database\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.75rem',color:'#1e3a8a'},children:\"Instant access to verified sources for major stakeholders like BlackRock, SEC, and leading media outlets.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#f0fdf4',borderRadius:'0.5rem',border:'1px solid #bbf7d0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(Brain,{size:16,style:{color:'#10b981'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',color:'#166534'},children:\"Deep Research\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.75rem',color:'#166534'},children:\"AI-powered analysis of your organization to identify key stakeholders and their priorities.\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#fef3c7',borderRadius:'0.5rem',border:'1px solid #fde68a'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginBottom:'0.5rem'},children:[/*#__PURE__*/_jsx(Zap,{size:16,style:{color:'#f59e0b'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600',color:'#92400e'},children:\"Auto Configuration\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'0.75rem',color:'#92400e'},children:\"Sources are automatically configured with RSS feeds, APIs, and social media accounts.\"})]})]}),isAnalyzing&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 0.75rem 0',fontSize:'0.875rem',fontWeight:'600',color:'#6b7280'},children:\"Research Progress\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'0.75rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sources Analyzed\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600'},children:\"47\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'0.75rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Stakeholders Found\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600'},children:\"12\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',fontSize:'0.75rem'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pre-Indexed Matches\"}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'600'},children:\"4\"})]})]})]})]})]});};export default EnhancedAIStrategyAdvisor;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}