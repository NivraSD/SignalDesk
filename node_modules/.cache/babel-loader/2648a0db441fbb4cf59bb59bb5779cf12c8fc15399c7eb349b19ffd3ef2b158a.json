{"ast":null,"code":"import _objectSpread from\"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\n * AI Industry Expansion Service\n * Uses Claude AI to automatically expand industry categorization beyond the existing 25+ industries\n */class AIIndustryExpansionService{constructor(){this.supabaseUrl=process.env.REACT_APP_SUPABASE_URL||'https://zskaxjtyuaqazydouifp.supabase.co';this.supabaseKey=process.env.REACT_APP_SUPABASE_ANON_KEY||'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxMjk2MzcsImV4cCI6MjA3MDcwNTYzN30.5PhMVptHk3n-1dTSwGF-GvTwrVM0loovkHGUBDtBOe8';// Cache for AI-generated industry data\nthis.industryCache=new Map();this.cacheTimeout=24*60*60*1000;// 24 hours\n}/**\n   * Analyze organization and expand industry categorization using AI\n   */async analyzeAndExpandIndustry(organizationData){console.log('ðŸ” AI Industry Analysis for:',organizationData.name);const cacheKey=\"\".concat(organizationData.name,\"_\").concat(organizationData.website);const cached=this.getCachedAnalysis(cacheKey);if(cached){console.log('ðŸ“¦ Using cached AI industry analysis');return cached;}try{// Call AI Industry Expansion Edge Function\nconst response=await fetch(\"\".concat(this.supabaseUrl,\"/functions/v1/ai-industry-expansion\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(this.supabaseKey)},body:JSON.stringify({organization_name:organizationData.name,website:organizationData.website,description:organizationData.description,current_categories:this.getCurrentCategories(organizationData)})});if(response.ok){const result=await response.json();const expandedIndustry=result.analysis;// Cache the result\nthis.cacheAnalysis(cacheKey,expandedIndustry);console.log('âœ… AI Industry Expansion completed:',expandedIndustry.primary_industry);return expandedIndustry;}else{console.error('AI Industry Expansion failed:',response.status);return this.getFallbackIndustryData(organizationData);}}catch(error){console.error('AI Industry Expansion error:',error);return this.getFallbackIndustryData(organizationData);}}/**\n   * Get current categories detected by existing systems\n   */getCurrentCategories(organizationData){return[organizationData.industry,organizationData.sector,organizationData.category].filter(Boolean);}/**\n   * Enhanced organization data with AI-expanded industry insights\n   */async enhanceOrganizationWithAI(organizationData){const aiAnalysis=await this.analyzeAndExpandIndustry(organizationData);return _objectSpread(_objectSpread({},organizationData),{},{// Enhanced industry data\nprimary_industry:aiAnalysis.primary_industry,subcategories:aiAnalysis.subcategories,// Expanded competitive landscape\ndirect_competitors:aiAnalysis.direct_competitors,adjacent_competitors:aiAnalysis.adjacent_competitors,// Rich stakeholder mapping\nstakeholder_groups:aiAnalysis.stakeholder_groups,// Industry-specific monitoring\nmonitoring_keywords:aiAnalysis.monitoring_keywords,trending_topics:aiAnalysis.trending_topics,// Ecosystem understanding\nindustry_events:aiAnalysis.industry_events,media_outlets:aiAnalysis.media_outlets,regulatory_bodies:aiAnalysis.regulatory_bodies,ecosystem_players:aiAnalysis.ecosystem_players,// Metadata\nai_enhanced:true,last_ai_analysis:new Date().toISOString()});}/**\n   * Smart industry detection that goes beyond basic keyword matching\n   */async smartIndustryDetection(organizationName,website,description){// First try AI analysis\nconst aiAnalysis=await this.analyzeAndExpandIndustry({name:organizationName,website,description});// If AI analysis is successful, use it\nif(aiAnalysis&&aiAnalysis.primary_industry!=='unknown'){return{industry:aiAnalysis.primary_industry,confidence:'high',source:'ai_analysis',subcategories:aiAnalysis.subcategories,competitors:aiAnalysis.direct_competitors.slice(0,10),stakeholders:aiAnalysis.stakeholder_groups.slice(0,8)};}// Fallback to pattern matching for common cases\nreturn this.patternBasedDetection(organizationName,website,description);}/**\n   * Pattern-based detection for fallback\n   */patternBasedDetection(name,website,description){const text=\"\".concat(name,\" \").concat(website,\" \").concat(description).toLowerCase();// Define pattern mappings for various industries\nconst industryPatterns={'public_relations':['pr agency','public relations','communications agency','media relations','crisis communications'],'management_consulting':['consulting','strategy consulting','management consulting','advisory','mckinsey','bain','bcg'],'marketing_advertising':['marketing agency','advertising','digital marketing','creative agency','brand strategy'],'law_legal':['law firm','legal services','attorneys','lawyers','litigation'],'accounting_finance':['accounting','audit','tax services','financial advisory','cpa'],'architecture_design':['architecture','architectural','design firm','interior design','urban planning'],'real_estate':['real estate','property','realty','commercial real estate','residential'],'nonprofit':['nonprofit','non-profit','foundation','charity','ngo'],'government':['government','municipal','federal','state agency','public sector']};for(const[industry,patterns]of Object.entries(industryPatterns)){if(patterns.some(pattern=>text.includes(pattern))){return{industry,confidence:'medium',source:'pattern_matching',subcategories:[industry.split('_')[1]||'general'],competitors:[],stakeholders:['clients','employees','industry_peers','regulators']};}}return{industry:'professional_services',confidence:'low',source:'default',subcategories:['general'],competitors:[],stakeholders:['customers','employees','partners']};}/**\n   * Cache management\n   */getCachedAnalysis(key){const cached=this.industryCache.get(key);if(cached&&Date.now()-cached.timestamp<this.cacheTimeout){return cached.data;}return null;}cacheAnalysis(key,data){this.industryCache.set(key,{data,timestamp:Date.now()});}/**\n   * Fallback industry data when AI fails\n   */getFallbackIndustryData(organizationData){var _organizationData$nam;return{primary_industry:'professional_services',subcategories:['general'],direct_competitors:[],adjacent_competitors:[],stakeholder_groups:['clients','employees','partners','regulators'],industry_events:[],media_outlets:[],monitoring_keywords:[(_organizationData$nam=organizationData.name)===null||_organizationData$nam===void 0?void 0:_organizationData$nam.toLowerCase()],trending_topics:[],regulatory_bodies:[],ecosystem_players:{suppliers:[],partners:[],customers:[]}};}/**\n   * Update existing industry database with AI insights\n   */async expandExistingIndustryDatabase(){console.log('ðŸš€ Expanding industry database with AI insights...');// This would update your existing MasterSourceRegistry with AI-discovered industries\n// For now, return the enhanced categorization approach\nreturn{message:'AI Industry Expansion system ready',capabilities:['Smart organization analysis beyond 25+ existing industries','Automatic competitor discovery','Stakeholder group identification','Industry event and media mapping','Regulatory body detection','Ecosystem player analysis']};}}const aiIndustryExpansionService=new AIIndustryExpansionService();export default aiIndustryExpansionService;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}