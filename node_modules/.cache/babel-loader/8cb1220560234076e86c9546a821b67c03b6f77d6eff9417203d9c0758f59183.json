{"ast":null,"code":"import _objectSpread from\"/Users/jonathanliebowitz/Desktop/SignalDesk/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NivWorkspace=_ref=>{let{artifact,onUpdate}=_ref;const[isEditing,setIsEditing]=useState(false);const[editedContent,setEditedContent]=useState(null);useEffect(()=>{if(artifact){setEditedContent(JSON.parse(JSON.stringify(artifact.content)));setIsEditing(false);}},[artifact]);const handleSave=()=>{if(editedContent){const updatedArtifact=_objectSpread(_objectSpread({},artifact),{},{content:editedContent,updated:new Date().toISOString()});onUpdate(updatedArtifact);setIsEditing(false);}};const handleCancel=()=>{setEditedContent(JSON.parse(JSON.stringify(artifact.content)));setIsEditing(false);};const updateContent=(path,value)=>{const newContent=_objectSpread({},editedContent);const keys=path.split('.');let current=newContent;for(let i=0;i<keys.length-1;i++){if(!current[keys[i]])current[keys[i]]={};current=current[keys[i]];}current[keys[keys.length-1]]=value;setEditedContent(newContent);};const workspaceStyles={container:{flex:1,display:'flex',flexDirection:'column',backgroundColor:'white'},toolbar:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'12px 16px',borderBottom:'1px solid #e2e8f0',backgroundColor:'#f8fafc'},toolbarLeft:{display:'flex',alignItems:'center',gap:'8px'},toolbarRight:{display:'flex',gap:'8px'},button:{padding:'8px 16px',border:'1px solid #e2e8f0',borderRadius:'6px',fontSize:'14px',fontWeight:'500',cursor:'pointer',transition:'all 0.2s ease'},primaryButton:{backgroundColor:'#3b82f6',color:'white',border:'1px solid #3b82f6'},secondaryButton:{backgroundColor:'white',color:'#374151'},editButton:{backgroundColor:'#f59e0b',color:'white',border:'1px solid #f59e0b'},content:{flex:1,overflow:'auto',padding:'24px'},section:{marginBottom:'32px'},sectionTitle:{fontSize:'18px',fontWeight:'600',color:'#1e293b',marginBottom:'16px',borderBottom:'2px solid #e2e8f0',paddingBottom:'8px'},field:{marginBottom:'16px'},label:{display:'block',fontSize:'14px',fontWeight:'500',color:'#374151',marginBottom:'6px'},input:{width:'100%',padding:'8px 12px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',lineHeight:'1.5'},textarea:{width:'100%',minHeight:'100px',padding:'12px',border:'1px solid #d1d5db',borderRadius:'6px',fontSize:'14px',lineHeight:'1.6',resize:'vertical',fontFamily:'inherit'},readOnlyText:{padding:'12px',backgroundColor:'#f9fafb',border:'1px solid #e5e7eb',borderRadius:'6px',fontSize:'14px',lineHeight:'1.6',whiteSpace:'pre-wrap'},list:{margin:0,paddingLeft:'20px'},listItem:{marginBottom:'8px',fontSize:'14px',lineHeight:'1.5'},mediaContact:{padding:'12px',border:'1px solid #e5e7eb',borderRadius:'6px',marginBottom:'12px',backgroundColor:'#f9fafb'},contactName:{fontSize:'16px',fontWeight:'600',color:'#1e293b',marginBottom:'4px'},contactOutlet:{fontSize:'14px',color:'#3b82f6',marginBottom:'8px'},contactDetails:{fontSize:'13px',color:'#64748b',lineHeight:'1.4'}};const renderContent=()=>{console.log('🎨 NivWorkspace: renderContent called with artifact:',artifact);if(!artifact)return null;const content=isEditing?editedContent:artifact.content;console.log('🎨 NivWorkspace: Content to render:',content);console.log('🎨 NivWorkspace: Content type:',artifact.type);// Handle flexible document type from saved messages\nif(artifact.type==='document'&&content.text){return renderFlexibleDocument(content);}switch(artifact.type){case'media-list':return renderMediaList(content);case'press-release':return renderPressRelease(content);case'strategic-plan':return renderStrategicPlan(content);case'social-content':return renderSocialContent(content);case'key-messaging':return renderKeyMessaging(content);case'faq-document':return renderFAQDocument(content);default:return renderGenericContent(content);}};const renderMediaList=content=>{console.log('🔍 NivWorkspace: Rendering media list with content:',content);if(!content||!content.tiers){console.error('❌ NivWorkspace: No tiers found in content:',content);return/*#__PURE__*/_jsx(\"div\",{children:\"No media list data available\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[content.tiers.map((tier,tierIndex)=>/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:tier.name}),tier.journalists.map((journalist,journalistIndex)=>/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.mediaContact,children:[/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.contactName,children:journalist.name}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.contactOutlet,children:journalist.outlet}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.contactDetails,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",journalist.email,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Beat:\"}),\" \",journalist.beat,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Twitter:\"}),\" \",journalist.twitter,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Recent Coverage:\"}),\" \",journalist.recent_coverage]})]},journalistIndex))]},tierIndex)),content.notes&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Notes\"}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.notes})]})]});};const renderPressRelease=content=>{console.log('📰 NivWorkspace: Rendering press release with content:',content);if(!content){console.error('❌ NivWorkspace: No press release content!');return/*#__PURE__*/_jsx(\"div\",{children:\"No press release content available\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Headline\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{style:workspaceStyles.input,value:content.headline||'',onChange:e=>updateContent('headline',e.target.value)}):/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.headline})]}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Subheadline\"}),isEditing?/*#__PURE__*/_jsx(\"input\",{style:workspaceStyles.input,value:content.subheadline||'',onChange:e=>updateContent('subheadline',e.target.value)}):/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.subheadline})]}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Dateline\"}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.dateline})]}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Body\"}),isEditing?/*#__PURE__*/_jsx(\"textarea\",{style:workspaceStyles.textarea,value:Array.isArray(content.body)?content.body.join('\\n\\n'):content.body||'',onChange:e=>updateContent('body',e.target.value.split('\\n\\n')),rows:10}):/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:Array.isArray(content.body)?content.body.join('\\n\\n'):content.body})]}),content.boilerplate&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Boilerplate\"}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.boilerplate})]}),content.contact&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Contact\"}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.contact})]})]});};const renderStrategicPlan=content=>/*#__PURE__*/_jsxs(\"div\",{children:[content.campaign_name&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Campaign Name\"}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.campaign_name})]}),content.objectives&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Objectives\"}),/*#__PURE__*/_jsx(\"ul\",{style:workspaceStyles.list,children:content.objectives.map((objective,index)=>/*#__PURE__*/_jsx(\"li\",{style:workspaceStyles.listItem,children:objective},index))})]}),content.timeline&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Timeline\"}),content.timeline.map((phase,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'8px'},children:phase.phase}),/*#__PURE__*/_jsx(\"ul\",{style:workspaceStyles.list,children:phase.activities.map((activity,actIndex)=>/*#__PURE__*/_jsx(\"li\",{style:workspaceStyles.listItem,children:activity},actIndex))})]},index))]}),content.key_messages&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Key Messages\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Primary:\"}),\" \",content.key_messages.primary]}),content.key_messages.supporting&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Supporting:\"}),/*#__PURE__*/_jsx(\"ul\",{style:workspaceStyles.list,children:content.key_messages.supporting.map((message,index)=>/*#__PURE__*/_jsx(\"li\",{style:workspaceStyles.listItem,children:message},index))})]})]})]});const renderSocialContent=content=>/*#__PURE__*/_jsxs(\"div\",{children:[content.twitter&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Twitter Thread\"}),content.twitter.thread.map((tweet,index)=>/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},workspaceStyles.readOnlyText),{},{marginBottom:'8px'}),children:[index+1,\". \",tweet]},index)),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Hashtags:\"}),\" \",content.twitter.hashtags.join(' ')]})]}),content.linkedin&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"LinkedIn Post\"}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.linkedin.post}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Hashtags:\"}),\" \",content.linkedin.hashtags.join(' ')]})]})]});const renderKeyMessaging=content=>/*#__PURE__*/_jsxs(\"div\",{children:[content.elevator_pitch&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Elevator Pitch\"}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.readOnlyText,children:content.elevator_pitch})]}),content.value_props&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Value Propositions\"}),content.value_props.map((prop,index)=>/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},workspaceStyles.mediaContact),{},{marginBottom:'16px'}),children:[/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.contactName,children:prop.headline}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'8px'},children:prop.message}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.contactDetails,children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Proof:\"}),\" \",prop.proof]})]},index))]}),content.audience_specific&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Audience-Specific Messages\"}),Object.entries(content.audience_specific).map(_ref2=>{let[audience,message]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'12px'},children:[/*#__PURE__*/_jsxs(\"strong\",{style:{textTransform:'capitalize'},children:[audience,\":\"]}),\" \",message]},audience);})]})]});const renderFAQDocument=content=>/*#__PURE__*/_jsxs(\"div\",{children:[content.external&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"External FAQ\"}),content.external.map((faq,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'600',marginBottom:'4px'},children:[\"Q: \",faq.question]}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.readOnlyText,children:[\"A: \",faq.answer]})]},index))]}),content.internal&&/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Internal FAQ\"}),content.internal.map((faq,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'600',marginBottom:'4px'},children:[\"Q: \",faq.question]}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.readOnlyText,children:[\"A: \",faq.answer]})]},index))]})]});const renderFlexibleDocument=content=>{console.log('📄 NivWorkspace: Rendering flexible document:',content);// Parse the text to format it nicely\nconst formatText=text=>{// Split by double newlines for paragraphs\nconst paragraphs=text.split('\\n\\n');return paragraphs.map((paragraph,index)=>{// Check if it's a list\nif(paragraph.includes('•')||paragraph.includes('-')||/^\\d+\\./.test(paragraph.trim())){const items=paragraph.split('\\n').filter(item=>item.trim());return/*#__PURE__*/_jsx(\"ul\",{style:workspaceStyles.list,children:items.map((item,i)=>/*#__PURE__*/_jsx(\"li\",{style:workspaceStyles.listItem,children:item.replace(/^[•\\-\\d+\\.]\\s*/,'')},i))},index);}// Check if it's a heading (starts with caps or has colon)\nif(/^[A-Z][A-Z\\s]+:?$/.test(paragraph.trim())||paragraph.endsWith(':')){return/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:paragraph.replace(':','')},index);}// Regular paragraph\nreturn/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},workspaceStyles.readOnlyText),{},{marginBottom:'16px'}),children:paragraph},index);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.section,children:isEditing?/*#__PURE__*/_jsx(\"textarea\",{style:_objectSpread(_objectSpread({},workspaceStyles.textarea),{},{minHeight:'400px'}),value:content.text||'',onChange:e=>updateContent('text',e.target.value),rows:20}):/*#__PURE__*/_jsx(\"div\",{children:formatText(content.text||'')})})});};const renderGenericContent=content=>/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.section,children:[/*#__PURE__*/_jsx(\"h3\",{style:workspaceStyles.sectionTitle,children:\"Content\"}),/*#__PURE__*/_jsx(\"pre\",{style:workspaceStyles.readOnlyText,children:JSON.stringify(content,null,2)})]});if(!artifact){return/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.container,children:/*#__PURE__*/_jsx(\"div\",{style:{flex:1,display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#64748b'},children:\"Select an artifact to edit\"})})});}return/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.container,children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          .workspace-button:hover {\\n            opacity: 0.9 !important;\\n            transform: translateY(-1px);\\n          }\\n          \\n          .workspace-button:active {\\n            transform: translateY(0);\\n          }\\n        \"}),/*#__PURE__*/_jsxs(\"div\",{style:workspaceStyles.toolbar,children:[/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.toolbarLeft,children:/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'14px',color:'#64748b'},children:[\"Last updated: \",new Date(artifact.updated||artifact.created).toLocaleString()]})}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.toolbarRight,children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},workspaceStyles.button),workspaceStyles.secondaryButton),className:\"workspace-button\",onClick:handleCancel,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},workspaceStyles.button),workspaceStyles.primaryButton),className:\"workspace-button\",onClick:handleSave,children:\"Save Changes\"})]}):/*#__PURE__*/_jsx(\"button\",{style:_objectSpread(_objectSpread({},workspaceStyles.button),workspaceStyles.editButton),className:\"workspace-button\",onClick:()=>setIsEditing(true),children:\"Edit\"})})]}),/*#__PURE__*/_jsx(\"div\",{style:workspaceStyles.content,children:renderContent()})]});};export default NivWorkspace;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}