{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/StakeholderIntelligence/PRStrategyAdvisor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Megaphone, TrendingUp, AlertTriangle, Users, Newspaper, Building2, Target, Shield, Brain, Zap, Search, Loader, Globe, ChevronRight, AlertCircle, Trophy, Eye } from 'lucide-react';\nimport { findPreIndexedStakeholder } from './EnhancedSourceDatabase';\nimport stakeholderIntelligenceService from '../../services/stakeholderIntelligenceService';\nimport unifiedIntelligenceService from '../../services/unifiedIntelligenceService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PRStrategyAdvisor = ({\n  onStrategyComplete\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [currentStep, setCurrentStep] = useState('welcome');\n  const [userType, setUserType] = useState(null); // 'brand', 'agency', 'agency-self'\n  const [organizationData, setOrganizationData] = useState({});\n  const [prObjectives, setPRObjectives] = useState([]);\n  const [stakeholders, setStakeholders] = useState([]);\n  const [showCustomStakeholder, setShowCustomStakeholder] = useState(false);\n  const hasInitialized = useRef(false);\n  useEffect(() => {\n    if (!hasInitialized.current) {\n      hasInitialized.current = true;\n      initializeConversation();\n    }\n  }, []);\n  const initializeConversation = () => {\n    addMessage({\n      type: 'ai',\n      content: `Welcome to SignalDesk PR Intelligence! 🎯\n\nI'll help you build a comprehensive PR monitoring strategy to identify opportunities and mitigate risks.\n\nFirst, tell me about your role:`,\n      options: [{\n        id: 'brand',\n        label: '🏢 Brand/Organization seeking PR',\n        description: 'Monitor media, find PR opportunities, track reputation'\n      }, {\n        id: 'agency',\n        label: '🤝 Agency working for clients',\n        description: 'Track client mentions, competitor campaigns, media opportunities'\n      }, {\n        id: 'agency-self',\n        label: '🚀 Agency advancing own goals',\n        description: 'Win new business, track competitors, build thought leadership'\n      }]\n    });\n  };\n  const addMessage = message => {\n    const newMessage = {\n      ...message,\n      id: Date.now()\n    };\n    setMessages(prev => [...prev, newMessage]);\n  };\n  const handleUserTypeSelection = type => {\n    setUserType(type);\n    addMessage({\n      type: 'user',\n      content: type === 'brand' ? 'Brand/Organization' : type === 'agency' ? 'Agency for clients' : 'Agency for ourselves'\n    });\n    setCurrentStep('organization_details');\n\n    // Customize next questions based on user type\n    if (type === 'brand') {\n      addMessage({\n        type: 'ai',\n        content: \"Great! Let's set up PR monitoring for your organization.\\n\\nWhat's your company name and website?\"\n      });\n    } else if (type === 'agency') {\n      addMessage({\n        type: 'ai',\n        content: \"Perfect! Let's configure monitoring for your client.\\n\\nWhat's your client's company name and their website?\"\n      });\n    } else {\n      addMessage({\n        type: 'ai',\n        content: \"Excellent! Let's build your business development intelligence system.\\n\\nWhat's your agency name and website?\"\n      });\n    }\n  };\n  const generatePRStakeholders = async orgData => {\n    const suggestions = [];\n    const {\n      company,\n      userType,\n      objectives\n    } = orgData;\n    const timestamp = Date.now();\n    if (userType === 'brand') {\n      // BRAND PR STAKEHOLDERS\n\n      // Media Outlets\n      suggestions.push({\n        id: `media-tier1-${timestamp}`,\n        name: 'Tier 1 Media Outlets',\n        type: 'PR Opportunity',\n        priority: 'critical',\n        reason: 'Top-tier publications for maximum brand visibility',\n        prContext: 'earned_media',\n        entities: ['Wall Street Journal', 'New York Times', 'Forbes', 'TechCrunch'],\n        monitoringTopics: ['reporter requests in your industry', 'trending stories you can newsjack', 'journalist queries (HARO)', 'editorial calendars', 'breaking news opportunities']\n      });\n\n      // Industry Journalists\n      suggestions.push({\n        id: `journalists-${timestamp}-${suggestions.length}`,\n        name: 'Beat Reporters & Journalists',\n        type: 'Media Relationships',\n        priority: 'critical',\n        reason: 'Direct relationships for story placement',\n        prContext: 'media_relations',\n        monitoringTopics: ['recent articles by key journalists', 'journalist job changes', 'social media activity', 'story angles they\\'re pursuing', 'speaking engagements']\n      });\n\n      // Competitors\n      suggestions.push({\n        id: `competitors-${timestamp}-${suggestions.length}`,\n        name: 'Competitor PR Activity',\n        type: 'Competitive Intelligence',\n        priority: 'high',\n        reason: 'Track competitor media wins and strategies',\n        prContext: 'competitive_analysis',\n        monitoringTopics: ['competitor press releases', 'media coverage volume', 'sentiment analysis', 'crisis situations', 'executive quotes and positioning', 'award wins']\n      });\n\n      // Industry Influencers\n      suggestions.push({\n        id: `influencers-${timestamp}-${suggestions.length}`,\n        name: 'Industry Influencers & Thought Leaders',\n        type: 'Amplification Partners',\n        priority: 'high',\n        reason: 'Amplify messages through trusted voices',\n        prContext: 'influencer_relations',\n        monitoringTopics: ['trending topics they discuss', 'engagement opportunities', 'collaboration possibilities', 'speaking events', 'content partnerships']\n      });\n\n      // Crisis Triggers\n      suggestions.push({\n        id: `crisis-${timestamp}-${suggestions.length}`,\n        name: 'Crisis & Risk Monitors',\n        type: 'Risk Management',\n        priority: 'critical',\n        reason: 'Early warning system for PR crises',\n        prContext: 'crisis_prevention',\n        monitoringTopics: ['negative sentiment spikes', 'customer complaints going viral', 'regulatory issues in industry', 'data breach reports', 'employee whistleblowers', 'activist campaigns']\n      });\n    } else if (userType === 'agency') {\n      // AGENCY FOR CLIENT STAKEHOLDERS\n\n      suggestions.push({\n        id: `client-coverage-${timestamp}-${suggestions.length}`,\n        name: 'Client Media Coverage',\n        type: 'Campaign Tracking',\n        priority: 'critical',\n        reason: 'Demonstrate PR value to client',\n        prContext: 'client_results',\n        monitoringTopics: ['all client mentions', 'share of voice vs competitors', 'message penetration', 'spokesperson quotes', 'campaign hashtag performance', 'earned media value']\n      });\n      suggestions.push({\n        id: `media-targets-${timestamp}-${suggestions.length}`,\n        name: 'Target Media for Client',\n        type: 'Pitch Opportunities',\n        priority: 'critical',\n        reason: 'Identify pitch opportunities for client stories',\n        prContext: 'media_pitching',\n        monitoringTopics: ['journalist requests matching client expertise', 'upcoming features needing sources', 'editorial calendars', 'trending topics client can comment on', 'breaking news response opportunities']\n      });\n      suggestions.push({\n        id: `client-risks-${timestamp}-${suggestions.length}`,\n        name: 'Client Reputation Risks',\n        type: 'Issues Management',\n        priority: 'high',\n        reason: 'Protect client from PR crises',\n        prContext: 'risk_management',\n        monitoringTopics: ['negative mentions or sentiment', 'industry controversies', 'competitor attacks', 'regulatory changes affecting client', 'social media complaints']\n      });\n    } else if (userType === 'agency-self') {\n      // AGENCY SELF-PROMOTION STAKEHOLDERS\n\n      suggestions.push({\n        id: `prospects-${timestamp}-${suggestions.length}`,\n        name: 'High-Value PR Prospects',\n        type: 'New Business Targets',\n        priority: 'critical',\n        reason: 'Companies showing signals they need PR help',\n        prContext: 'business_development',\n        monitoringTopics: ['companies with recent funding', 'brands in crisis needing help', 'companies with new CMO/CCO', 'brands planning product launches', 'organizations preparing for IPO', 'companies expanding to new markets']\n      });\n      suggestions.push({\n        id: `competitor-agencies-${timestamp}-${suggestions.length}`,\n        name: 'Competing PR Agencies',\n        type: 'Competitive Intelligence',\n        priority: 'high',\n        reason: 'Track competitor wins and positioning',\n        prContext: 'competitive_intel',\n        entities: ['Edelman', 'Weber Shandwick', 'Ketchum', 'FleishmanHillard'],\n        monitoringTopics: ['new account wins', 'client losses (opportunity)', 'award submissions', 'case studies published', 'executive thought leadership', 'new service offerings']\n      });\n      suggestions.push({\n        id: `industry-media-${timestamp}-${suggestions.length}`,\n        name: 'PR Trade Media',\n        type: 'Thought Leadership',\n        priority: 'medium',\n        reason: 'Build agency reputation and credibility',\n        prContext: 'thought_leadership',\n        entities: ['PR Week', 'PR Daily', 'PRSA', 'Holmes Report'],\n        monitoringTopics: ['award deadlines', 'speaking opportunities', 'expert commentary requests', 'industry trend pieces', 'agency ranking reports']\n      });\n      suggestions.push({\n        id: `referral-partners-${timestamp}-${suggestions.length}`,\n        name: 'Referral Partners',\n        type: 'Partnership Opportunities',\n        priority: 'high',\n        reason: 'VC firms and consultancies that refer business',\n        prContext: 'partnerships',\n        entities: ['Sequoia Capital', 'McKinsey', 'Deloitte', 'PwC'],\n        monitoringTopics: ['portfolio company news', 'client announcements', 'partnership opportunities', 'event collaborations', 'co-pitching opportunities']\n      });\n    }\n\n    // Add PR-specific monitoring for all types\n    suggestions.forEach(stakeholder => {\n      stakeholder.prMetrics = {\n        opportunityScore: Math.floor(Math.random() * 30) + 70,\n        // 70-100\n        riskLevel: Math.floor(Math.random() * 30),\n        // 0-30\n        engagementPotential: Math.floor(Math.random() * 30) + 70,\n        // 70-100\n        timelineCriticality: stakeholder.priority === 'critical' ? 'immediate' : 'ongoing'\n      };\n    });\n    return suggestions;\n  };\n  const processOrganizationData = async data => {\n    setOrganizationData(data);\n    setIsTyping(true);\n    addMessage({\n      type: 'ai',\n      content: \"Analyzing your PR objectives and building a custom monitoring strategy...\"\n    });\n\n    // Initialize unified intelligence service with company data\n    const companyData = {\n      ...data,\n      userType,\n      industry: detectIndustry(data),\n      competitors: extractCompetitors(data)\n    };\n    await unifiedIntelligenceService.initializeCompany(companyData);\n\n    // Get stakeholders from unified service\n    const identifiedStakeholders = await unifiedIntelligenceService.identifyStakeholders();\n\n    // Generate PR-specific stakeholders (keeping existing logic for now)\n    const prStakeholders = await generatePRStakeholders({\n      ...data,\n      userType\n    });\n\n    // Merge both sets of stakeholders\n    const allStakeholders = [...prStakeholders, ...identifiedStakeholders];\n    setStakeholders(allStakeholders);\n    setIsTyping(false);\n    setCurrentStep('review_strategy');\n    presentPRStrategy(allStakeholders);\n  };\n  const detectIndustry = data => {\n    const text = `${data.company} ${data.objectives}`.toLowerCase();\n    if (text.includes('tech') || text.includes('software')) return 'technology';\n    if (text.includes('health') || text.includes('medical')) return 'healthcare';\n    if (text.includes('finance') || text.includes('bank')) return 'finance';\n    if (text.includes('retail') || text.includes('commerce')) return 'retail';\n    return 'general';\n  };\n  const extractCompetitors = data => {\n    // In production: Extract from objectives or ask user\n    // For now, return common competitors based on industry\n    const industryCompetitors = {\n      'technology': ['Microsoft', 'Google', 'Amazon'],\n      'healthcare': ['UnitedHealth', 'Anthem', 'Kaiser'],\n      'finance': ['JPMorgan', 'Bank of America', 'Wells Fargo'],\n      'retail': ['Amazon', 'Walmart', 'Target']\n    };\n    const industry = detectIndustry(data);\n    return industryCompetitors[industry] || [];\n  };\n  const presentPRStrategy = stakeholders => {\n    const opportunities = stakeholders.filter(s => s.prContext === 'earned_media' || s.prContext === 'business_development');\n    const risks = stakeholders.filter(s => s.prContext === 'crisis_prevention' || s.prContext === 'risk_management');\n    addMessage({\n      type: 'ai',\n      content: `Here's your PR Intelligence Strategy:\n\n📈 **Opportunity Monitoring** (${opportunities.length} sources)\n${opportunities.map(o => `• ${o.name}: ${o.reason}`).join('\\n')}\n\n🛡️ **Risk Monitoring** (${risks.length} sources)\n${risks.map(r => `• ${r.name}: ${r.reason}`).join('\\n')}\n\n📊 **Key Metrics We'll Track:**\n• Media mentions & sentiment\n• Share of voice vs competitors\n• Journalist engagement rates\n• Crisis early warning signals\n• PR opportunity alerts\n\n👥 **Plus Traditional Stakeholder Tracking:**\nBeyond PR, we'll also monitor specific stakeholders and topics important to your business - investors, partners, regulators, and other key audiences. You'll be able to configure custom sources for each stakeholder group.\n\nReady to configure your monitoring sources?`\n    });\n  };\n  const finalizePRStrategy = async () => {\n    var _currentState$company;\n    setIsTyping(true);\n\n    // Get the current state from unified service\n    const currentState = unifiedIntelligenceService.getState();\n\n    // Combine PR stakeholders with unified service stakeholders\n    const allStakeholders = [...stakeholders];\n\n    // Add any additional stakeholders from unified service that aren't duplicates\n    currentState.stakeholders.forEach(unifiedStakeholder => {\n      if (!allStakeholders.find(s => s.id === unifiedStakeholder.id)) {\n        allStakeholders.push(unifiedStakeholder);\n      }\n    });\n    console.log('Final stakeholders being passed:', allStakeholders);\n    try {\n      // Configure sources for all stakeholders\n      await unifiedIntelligenceService.configureSources();\n\n      // Save to backend\n      if (organizationData.organizationId) {\n        await stakeholderIntelligenceService.saveStakeholderConfiguration(organizationData.organizationId, allStakeholders);\n      }\n    } catch (error) {\n      console.error('Error saving PR configuration:', error);\n    }\n\n    // Transform ALL stakeholders to work with source configurator\n    // Include both PR-specific and unified service stakeholders\n    const stakeholderGroups = allStakeholders.map((stakeholder, idx) => ({\n      id: stakeholder.id || `stakeholder-${idx}`,\n      name: stakeholder.name,\n      type: stakeholder.type || 'general',\n      priority: stakeholder.priority || 'medium',\n      reason: stakeholder.reason || 'Strategic stakeholder',\n      prContext: stakeholder.prContext || 'monitoring',\n      monitoringTopics: stakeholder.monitoringTopics || stakeholder.topics || [],\n      topics: stakeholder.topics || stakeholder.monitoringTopics || [],\n      entities: stakeholder.entities || [],\n      keywords: stakeholder.keywords || [],\n      influence: stakeholder.influence || 7,\n      interest: stakeholder.interest || 7,\n      sentiment: stakeholder.sentiment || 'neutral',\n      currentSentiment: stakeholder.currentSentiment || 5,\n      targetSentiment: stakeholder.targetSentiment || 8,\n      engagementLevel: stakeholder.engagementLevel || 6,\n      trend: stakeholder.trend || 'stable',\n      concerns: stakeholder.concerns || [stakeholder.reason],\n      goals: stakeholder.goals || '',\n      fears: stakeholder.fears || '',\n      preIndexed: stakeholder.preIndexed || false,\n      sourceCount: stakeholder.sourceCount || 0,\n      prMetrics: stakeholder.prMetrics || {\n        opportunityScore: 70,\n        riskLevel: 20,\n        engagementPotential: 75,\n        timelineCriticality: 'ongoing'\n      }\n    }));\n    console.log('Stakeholder groups being passed to hub:', stakeholderGroups);\n    const finalStrategy = {\n      ...organizationData,\n      organizationId: organizationData.organizationId || Date.now(),\n      company: organizationData.company,\n      url: organizationData.url,\n      industry: ((_currentState$company = currentState.companyProfile) === null || _currentState$company === void 0 ? void 0 : _currentState$company.industry) || detectIndustry(organizationData),\n      userType,\n      objectives: organizationData.objectives,\n      stakeholders: allStakeholders,\n      // Raw stakeholders\n      stakeholderGroups: stakeholderGroups,\n      // Properly formatted for source configurator\n      prFocus: true,\n      monitoringGoals: {\n        opportunities: allStakeholders.filter(s => s.prMetrics && s.prMetrics.opportunityScore > 80).length,\n        risks: allStakeholders.filter(s => s.prMetrics && s.prMetrics.riskLevel > 20).length,\n        relationships: allStakeholders.filter(s => s.prContext === 'media_relations').length\n      },\n      sources: currentState.sources || [],\n      companyProfile: currentState.companyProfile,\n      goals: currentState.goals\n    };\n    setIsTyping(false);\n    onStrategyComplete(finalStrategy);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100%',\n      background: '#f9fafb'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        maxWidth: '800px',\n        margin: '0 auto',\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1.5rem',\n          background: 'white',\n          borderBottom: '1px solid #e5e7eb'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.75rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Megaphone, {\n            size: 24,\n            style: {\n              color: '#6366f1'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                margin: 0,\n                fontSize: '1.25rem',\n                fontWeight: '600'\n              },\n              children: \"PR Strategy Intelligence\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 535,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                margin: 0,\n                fontSize: '0.875rem',\n                color: '#6b7280'\n              },\n              children: \"Configure monitoring for opportunities & risks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 534,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          padding: '2rem',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1rem'\n        },\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: message.type === 'user' ? 'flex-end' : 'flex-start'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: '70%',\n              padding: '1rem',\n              borderRadius: '0.75rem',\n              background: message.type === 'user' ? '#6366f1' : 'white',\n              color: message.type === 'user' ? 'white' : '#111827',\n              boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n            },\n            children: [message.type === 'ai' && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '0.5rem',\n                marginBottom: '0.5rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Brain, {\n                size: 16,\n                style: {\n                  color: '#6366f1'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '0.75rem',\n                  fontWeight: '500',\n                  color: '#6366f1'\n                },\n                children: \"PR Intelligence Advisor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                whiteSpace: 'pre-wrap'\n              },\n              children: message.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 17\n            }, this), message.options && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '1rem',\n                display: 'flex',\n                flexDirection: 'column',\n                gap: '0.75rem'\n              },\n              children: message.options.map(option => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleUserTypeSelection(option.id),\n                style: {\n                  padding: '0.75rem',\n                  background: '#f3f4f6',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '0.5rem',\n                  textAlign: 'left',\n                  cursor: 'pointer',\n                  transition: 'all 0.2s'\n                },\n                onMouseEnter: e => {\n                  e.currentTarget.style.background = '#e5e7eb';\n                  e.currentTarget.style.transform = 'translateX(4px)';\n                },\n                onMouseLeave: e => {\n                  e.currentTarget.style.background = '#f3f4f6';\n                  e.currentTarget.style.transform = 'translateX(0)';\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: '500',\n                    marginBottom: '0.25rem'\n                  },\n                  children: option.label\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.875rem',\n                    color: '#6b7280'\n                  },\n                  children: option.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 25\n                }, this)]\n              }, option.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 15\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 13\n        }, this)), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            color: '#6b7280'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Loader, {\n            size: 16,\n            className: \"animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Analyzing PR landscape...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), currentStep === 'organization_details' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          background: 'white',\n          borderTop: '1px solid #e5e7eb'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: e => {\n            e.preventDefault();\n            const formData = new FormData(e.target);\n            processOrganizationData({\n              company: formData.get('company'),\n              url: formData.get('url'),\n              objectives: formData.get('objectives')\n            });\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"company\",\n            placeholder: userType === 'agency' ? \"Client company name\" : \"Your company name\",\n            required: true,\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #e5e7eb',\n              borderRadius: '0.5rem',\n              marginBottom: '0.5rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"url\",\n            placeholder: \"Website URL\",\n            type: \"url\",\n            required: true,\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #e5e7eb',\n              borderRadius: '0.5rem',\n              marginBottom: '0.5rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"objectives\",\n            placeholder: userType === 'brand' ? \"PR objectives (e.g., product launch, thought leadership, crisis preparation)\" : userType === 'agency' ? \"Client PR objectives and current campaigns\" : \"Business development goals (e.g., win tech startups, expand to healthcare)\",\n            required: true,\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              border: '1px solid #e5e7eb',\n              borderRadius: '0.5rem',\n              marginBottom: '0.5rem',\n              minHeight: '80px',\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              width: '100%',\n              padding: '0.75rem',\n              background: '#6366f1',\n              color: 'white',\n              border: 'none',\n              borderRadius: '0.5rem',\n              fontWeight: '500',\n              cursor: 'pointer'\n            },\n            children: \"Build PR Strategy \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 11\n      }, this), currentStep === 'review_strategy' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          background: 'white',\n          borderTop: '1px solid #e5e7eb',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowCustomStakeholder(true),\n          style: {\n            width: '100%',\n            padding: '0.75rem',\n            background: 'white',\n            color: '#6366f1',\n            border: '1px solid #6366f1',\n            borderRadius: '0.5rem',\n            fontWeight: '500',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '0.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this), \"Add Custom Stakeholder to Track\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 13\n        }, this), showCustomStakeholder && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            background: '#f9fafb',\n            borderRadius: '0.5rem',\n            marginBottom: '0.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"custom-stakeholder-name\",\n            placeholder: \"Stakeholder name (e.g., 'SEC', 'Key Investor', 'Partner Company')\",\n            style: {\n              width: '100%',\n              padding: '0.5rem',\n              border: '1px solid #e5e7eb',\n              borderRadius: '0.375rem',\n              marginBottom: '0.5rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"custom-stakeholder-topics\",\n            placeholder: \"Topics to monitor (comma separated)\",\n            style: {\n              width: '100%',\n              padding: '0.5rem',\n              border: '1px solid #e5e7eb',\n              borderRadius: '0.375rem',\n              marginBottom: '0.5rem'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              const name = document.getElementById('custom-stakeholder-name').value;\n              const topics = document.getElementById('custom-stakeholder-topics').value.split(',').map(t => t.trim());\n              if (name) {\n                const customStakeholder = {\n                  id: `custom-${Date.now()}`,\n                  name,\n                  type: 'Custom Stakeholder',\n                  priority: 'medium',\n                  reason: 'User-defined stakeholder for specific tracking',\n                  prContext: 'custom_tracking',\n                  monitoringTopics: topics,\n                  prMetrics: {\n                    opportunityScore: 50,\n                    riskLevel: 20,\n                    engagementPotential: 60,\n                    timelineCriticality: 'ongoing'\n                  }\n                };\n                setStakeholders([...stakeholders, customStakeholder]);\n                setShowCustomStakeholder(false);\n                addMessage({\n                  type: 'ai',\n                  content: `Added \"${name}\" to your monitoring strategy. This stakeholder will be tracked alongside your PR objectives.`\n                });\n              }\n            },\n            style: {\n              padding: '0.5rem 1rem',\n              background: '#6366f1',\n              color: 'white',\n              border: 'none',\n              borderRadius: '0.375rem',\n              cursor: 'pointer'\n            },\n            children: \"Add Stakeholder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 735,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: finalizePRStrategy,\n          style: {\n            width: '100%',\n            padding: '0.75rem',\n            background: '#10b981',\n            color: 'white',\n            border: 'none',\n            borderRadius: '0.5rem',\n            fontWeight: '600',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '0.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 15\n          }, this), \"Activate PR & Stakeholder Monitoring\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 705,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '350px',\n        background: 'white',\n        borderLeft: '1px solid #e5e7eb',\n        padding: '1.5rem',\n        overflowY: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '0 0 1rem 0',\n          fontSize: '1.125rem',\n          fontWeight: '600'\n        },\n        children: \"PR Intelligence Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 839,\n        columnNumber: 9\n      }, this), stakeholders.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            background: '#f0fdf4',\n            borderRadius: '0.5rem',\n            border: '1px solid #bbf7d0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Trophy, {\n              size: 16,\n              style: {\n                color: '#16a34a'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 853,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: '500',\n                color: '#166534'\n              },\n              children: \"PR Opportunities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 852,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '2rem',\n              fontWeight: 'bold',\n              color: '#16a34a'\n            },\n            children: stakeholders.filter(s => s.prMetrics && s.prMetrics.opportunityScore > 80).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 856,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.75rem',\n              color: '#166534'\n            },\n            children: \"High-value targets identified\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 859,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 846,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            background: '#fef2f2',\n            borderRadius: '0.5rem',\n            border: '1px solid #fecaca'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              size: 16,\n              style: {\n                color: '#dc2626'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 872,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: '500',\n                color: '#991b1b'\n              },\n              children: \"Risk Monitors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 873,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 871,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '2rem',\n              fontWeight: 'bold',\n              color: '#dc2626'\n            },\n            children: stakeholders.filter(s => s.prMetrics && s.prMetrics.riskLevel > 20).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 875,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.75rem',\n              color: '#991b1b'\n            },\n            children: \"Active risk tracking points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            background: '#eff6ff',\n            borderRadius: '0.5rem',\n            border: '1px solid #bfdbfe'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Newspaper, {\n              size: 16,\n              style: {\n                color: '#2563eb'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: '500',\n                color: '#1e40af'\n              },\n              children: \"Media Targets\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '2rem',\n              fontWeight: 'bold',\n              color: '#2563eb'\n            },\n            children: stakeholders.filter(s => s.prContext === 'media_relations' || s.prContext === 'earned_media').length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 894,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '0.75rem',\n              color: '#1e40af'\n            },\n            children: \"Media outlets & journalists\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 884,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            background: '#faf5ff',\n            borderRadius: '0.5rem',\n            border: '1px solid #e9d5ff'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              marginBottom: '0.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Target, {\n              size: 16,\n              style: {\n                color: '#9333ea'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 910,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: '500',\n                color: '#6b21a8'\n              },\n              children: \"Coverage Goals\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 911,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 909,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              margin: 0,\n              paddingLeft: '1.25rem',\n              fontSize: '0.875rem',\n              color: '#6b21a8'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Tier 1 media placements\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 914,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Share of voice leadership\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Crisis prevention\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Thought leadership\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 913,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 903,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 844,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 832,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 512,\n    columnNumber: 5\n  }, this);\n};\n_s(PRStrategyAdvisor, \"q1TV+0dY3HpfqNDvfekOCIrQKmY=\");\n_c = PRStrategyAdvisor;\nexport default PRStrategyAdvisor;\nvar _c;\n$RefreshReg$(_c, \"PRStrategyAdvisor\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Megaphone","TrendingUp","AlertTriangle","Users","Newspaper","Building2","Target","Shield","Brain","Zap","Search","Loader","Globe","ChevronRight","AlertCircle","Trophy","Eye","findPreIndexedStakeholder","stakeholderIntelligenceService","unifiedIntelligenceService","jsxDEV","_jsxDEV","PRStrategyAdvisor","onStrategyComplete","_s","messages","setMessages","isTyping","setIsTyping","currentStep","setCurrentStep","userType","setUserType","organizationData","setOrganizationData","prObjectives","setPRObjectives","stakeholders","setStakeholders","showCustomStakeholder","setShowCustomStakeholder","hasInitialized","current","initializeConversation","addMessage","type","content","options","id","label","description","message","newMessage","Date","now","prev","handleUserTypeSelection","generatePRStakeholders","orgData","suggestions","company","objectives","timestamp","push","name","priority","reason","prContext","entities","monitoringTopics","length","forEach","stakeholder","prMetrics","opportunityScore","Math","floor","random","riskLevel","engagementPotential","timelineCriticality","processOrganizationData","data","companyData","industry","detectIndustry","competitors","extractCompetitors","initializeCompany","identifiedStakeholders","identifyStakeholders","prStakeholders","allStakeholders","presentPRStrategy","text","toLowerCase","includes","industryCompetitors","opportunities","filter","s","risks","map","o","join","r","finalizePRStrategy","_currentState$company","currentState","getState","unifiedStakeholder","find","console","log","configureSources","organizationId","saveStakeholderConfiguration","error","stakeholderGroups","idx","topics","keywords","influence","interest","sentiment","currentSentiment","targetSentiment","engagementLevel","trend","concerns","goals","fears","preIndexed","sourceCount","finalStrategy","url","companyProfile","prFocus","monitoringGoals","relationships","sources","style","display","height","background","children","flex","flexDirection","maxWidth","margin","width","padding","borderBottom","alignItems","gap","size","color","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","fontWeight","overflowY","justifyContent","borderRadius","boxShadow","marginBottom","whiteSpace","marginTop","option","onClick","border","textAlign","cursor","transition","onMouseEnter","e","currentTarget","transform","onMouseLeave","className","borderTop","onSubmit","preventDefault","formData","FormData","target","get","placeholder","required","minHeight","resize","document","getElementById","value","split","t","trim","customStakeholder","borderLeft","paddingLeft","_c","$RefreshReg$"],"sources":["/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/StakeholderIntelligence/PRStrategyAdvisor.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Megaphone, TrendingUp, AlertTriangle, Users, \n  Newspaper, Building2, Target, Shield, \n  Brain, Zap, Search, Loader, Globe,\n  ChevronRight, AlertCircle, Trophy, Eye\n} from 'lucide-react';\nimport { findPreIndexedStakeholder } from './EnhancedSourceDatabase';\nimport stakeholderIntelligenceService from '../../services/stakeholderIntelligenceService';\nimport unifiedIntelligenceService from '../../services/unifiedIntelligenceService';\n\nconst PRStrategyAdvisor = ({ onStrategyComplete }) => {\n  const [messages, setMessages] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  const [currentStep, setCurrentStep] = useState('welcome');\n  const [userType, setUserType] = useState(null); // 'brand', 'agency', 'agency-self'\n  const [organizationData, setOrganizationData] = useState({});\n  const [prObjectives, setPRObjectives] = useState([]);\n  const [stakeholders, setStakeholders] = useState([]);\n  const [showCustomStakeholder, setShowCustomStakeholder] = useState(false);\n  const hasInitialized = useRef(false);\n\n  useEffect(() => {\n    if (!hasInitialized.current) {\n      hasInitialized.current = true;\n      initializeConversation();\n    }\n  }, []);\n\n  const initializeConversation = () => {\n    addMessage({\n      type: 'ai',\n      content: `Welcome to SignalDesk PR Intelligence! 🎯\n\nI'll help you build a comprehensive PR monitoring strategy to identify opportunities and mitigate risks.\n\nFirst, tell me about your role:`,\n      options: [\n        { \n          id: 'brand', \n          label: '🏢 Brand/Organization seeking PR', \n          description: 'Monitor media, find PR opportunities, track reputation'\n        },\n        { \n          id: 'agency', \n          label: '🤝 Agency working for clients', \n          description: 'Track client mentions, competitor campaigns, media opportunities'\n        },\n        { \n          id: 'agency-self', \n          label: '🚀 Agency advancing own goals', \n          description: 'Win new business, track competitors, build thought leadership'\n        }\n      ]\n    });\n  };\n\n  const addMessage = (message) => {\n    const newMessage = {\n      ...message,\n      id: Date.now()\n    };\n    setMessages(prev => [...prev, newMessage]);\n  };\n\n  const handleUserTypeSelection = (type) => {\n    setUserType(type);\n    addMessage({\n      type: 'user',\n      content: type === 'brand' ? 'Brand/Organization' : \n               type === 'agency' ? 'Agency for clients' : 'Agency for ourselves'\n    });\n    \n    setCurrentStep('organization_details');\n    \n    // Customize next questions based on user type\n    if (type === 'brand') {\n      addMessage({\n        type: 'ai',\n        content: \"Great! Let's set up PR monitoring for your organization.\\n\\nWhat's your company name and website?\"\n      });\n    } else if (type === 'agency') {\n      addMessage({\n        type: 'ai',\n        content: \"Perfect! Let's configure monitoring for your client.\\n\\nWhat's your client's company name and their website?\"\n      });\n    } else {\n      addMessage({\n        type: 'ai',\n        content: \"Excellent! Let's build your business development intelligence system.\\n\\nWhat's your agency name and website?\"\n      });\n    }\n  };\n\n  const generatePRStakeholders = async (orgData) => {\n    const suggestions = [];\n    const { company, userType, objectives } = orgData;\n    const timestamp = Date.now();\n    \n    if (userType === 'brand') {\n      // BRAND PR STAKEHOLDERS\n      \n      // Media Outlets\n      suggestions.push({\n        id: `media-tier1-${timestamp}`,\n        name: 'Tier 1 Media Outlets',\n        type: 'PR Opportunity',\n        priority: 'critical',\n        reason: 'Top-tier publications for maximum brand visibility',\n        prContext: 'earned_media',\n        entities: ['Wall Street Journal', 'New York Times', 'Forbes', 'TechCrunch'],\n        monitoringTopics: [\n          'reporter requests in your industry',\n          'trending stories you can newsjack',\n          'journalist queries (HARO)',\n          'editorial calendars',\n          'breaking news opportunities'\n        ]\n      });\n      \n      // Industry Journalists\n      suggestions.push({\n        id: `journalists-${timestamp}-${suggestions.length}`,\n        name: 'Beat Reporters & Journalists',\n        type: 'Media Relationships',\n        priority: 'critical',\n        reason: 'Direct relationships for story placement',\n        prContext: 'media_relations',\n        monitoringTopics: [\n          'recent articles by key journalists',\n          'journalist job changes',\n          'social media activity',\n          'story angles they\\'re pursuing',\n          'speaking engagements'\n        ]\n      });\n      \n      // Competitors\n      suggestions.push({\n        id: `competitors-${timestamp}-${suggestions.length}`,\n        name: 'Competitor PR Activity',\n        type: 'Competitive Intelligence',\n        priority: 'high',\n        reason: 'Track competitor media wins and strategies',\n        prContext: 'competitive_analysis',\n        monitoringTopics: [\n          'competitor press releases',\n          'media coverage volume',\n          'sentiment analysis',\n          'crisis situations',\n          'executive quotes and positioning',\n          'award wins'\n        ]\n      });\n      \n      // Industry Influencers\n      suggestions.push({\n        id: `influencers-${timestamp}-${suggestions.length}`,\n        name: 'Industry Influencers & Thought Leaders',\n        type: 'Amplification Partners',\n        priority: 'high',\n        reason: 'Amplify messages through trusted voices',\n        prContext: 'influencer_relations',\n        monitoringTopics: [\n          'trending topics they discuss',\n          'engagement opportunities',\n          'collaboration possibilities',\n          'speaking events',\n          'content partnerships'\n        ]\n      });\n      \n      // Crisis Triggers\n      suggestions.push({\n        id: `crisis-${timestamp}-${suggestions.length}`,\n        name: 'Crisis & Risk Monitors',\n        type: 'Risk Management',\n        priority: 'critical',\n        reason: 'Early warning system for PR crises',\n        prContext: 'crisis_prevention',\n        monitoringTopics: [\n          'negative sentiment spikes',\n          'customer complaints going viral',\n          'regulatory issues in industry',\n          'data breach reports',\n          'employee whistleblowers',\n          'activist campaigns'\n        ]\n      });\n      \n    } else if (userType === 'agency') {\n      // AGENCY FOR CLIENT STAKEHOLDERS\n      \n      suggestions.push({\n        id: `client-coverage-${timestamp}-${suggestions.length}`,\n        name: 'Client Media Coverage',\n        type: 'Campaign Tracking',\n        priority: 'critical',\n        reason: 'Demonstrate PR value to client',\n        prContext: 'client_results',\n        monitoringTopics: [\n          'all client mentions',\n          'share of voice vs competitors',\n          'message penetration',\n          'spokesperson quotes',\n          'campaign hashtag performance',\n          'earned media value'\n        ]\n      });\n      \n      suggestions.push({\n        id: `media-targets-${timestamp}-${suggestions.length}`,\n        name: 'Target Media for Client',\n        type: 'Pitch Opportunities',\n        priority: 'critical',\n        reason: 'Identify pitch opportunities for client stories',\n        prContext: 'media_pitching',\n        monitoringTopics: [\n          'journalist requests matching client expertise',\n          'upcoming features needing sources',\n          'editorial calendars',\n          'trending topics client can comment on',\n          'breaking news response opportunities'\n        ]\n      });\n      \n      suggestions.push({\n        id: `client-risks-${timestamp}-${suggestions.length}`,\n        name: 'Client Reputation Risks',\n        type: 'Issues Management',\n        priority: 'high',\n        reason: 'Protect client from PR crises',\n        prContext: 'risk_management',\n        monitoringTopics: [\n          'negative mentions or sentiment',\n          'industry controversies',\n          'competitor attacks',\n          'regulatory changes affecting client',\n          'social media complaints'\n        ]\n      });\n      \n    } else if (userType === 'agency-self') {\n      // AGENCY SELF-PROMOTION STAKEHOLDERS\n      \n      suggestions.push({\n        id: `prospects-${timestamp}-${suggestions.length}`,\n        name: 'High-Value PR Prospects',\n        type: 'New Business Targets',\n        priority: 'critical',\n        reason: 'Companies showing signals they need PR help',\n        prContext: 'business_development',\n        monitoringTopics: [\n          'companies with recent funding',\n          'brands in crisis needing help',\n          'companies with new CMO/CCO',\n          'brands planning product launches',\n          'organizations preparing for IPO',\n          'companies expanding to new markets'\n        ]\n      });\n      \n      suggestions.push({\n        id: `competitor-agencies-${timestamp}-${suggestions.length}`,\n        name: 'Competing PR Agencies',\n        type: 'Competitive Intelligence',\n        priority: 'high',\n        reason: 'Track competitor wins and positioning',\n        prContext: 'competitive_intel',\n        entities: ['Edelman', 'Weber Shandwick', 'Ketchum', 'FleishmanHillard'],\n        monitoringTopics: [\n          'new account wins',\n          'client losses (opportunity)',\n          'award submissions',\n          'case studies published',\n          'executive thought leadership',\n          'new service offerings'\n        ]\n      });\n      \n      suggestions.push({\n        id: `industry-media-${timestamp}-${suggestions.length}`,\n        name: 'PR Trade Media',\n        type: 'Thought Leadership',\n        priority: 'medium',\n        reason: 'Build agency reputation and credibility',\n        prContext: 'thought_leadership',\n        entities: ['PR Week', 'PR Daily', 'PRSA', 'Holmes Report'],\n        monitoringTopics: [\n          'award deadlines',\n          'speaking opportunities',\n          'expert commentary requests',\n          'industry trend pieces',\n          'agency ranking reports'\n        ]\n      });\n      \n      suggestions.push({\n        id: `referral-partners-${timestamp}-${suggestions.length}`,\n        name: 'Referral Partners',\n        type: 'Partnership Opportunities',\n        priority: 'high',\n        reason: 'VC firms and consultancies that refer business',\n        prContext: 'partnerships',\n        entities: ['Sequoia Capital', 'McKinsey', 'Deloitte', 'PwC'],\n        monitoringTopics: [\n          'portfolio company news',\n          'client announcements',\n          'partnership opportunities',\n          'event collaborations',\n          'co-pitching opportunities'\n        ]\n      });\n    }\n    \n    // Add PR-specific monitoring for all types\n    suggestions.forEach(stakeholder => {\n      stakeholder.prMetrics = {\n        opportunityScore: Math.floor(Math.random() * 30) + 70, // 70-100\n        riskLevel: Math.floor(Math.random() * 30), // 0-30\n        engagementPotential: Math.floor(Math.random() * 30) + 70, // 70-100\n        timelineCriticality: stakeholder.priority === 'critical' ? 'immediate' : 'ongoing'\n      };\n    });\n    \n    return suggestions;\n  };\n\n  const processOrganizationData = async (data) => {\n    setOrganizationData(data);\n    setIsTyping(true);\n    \n    addMessage({\n      type: 'ai',\n      content: \"Analyzing your PR objectives and building a custom monitoring strategy...\"\n    });\n    \n    // Initialize unified intelligence service with company data\n    const companyData = {\n      ...data,\n      userType,\n      industry: detectIndustry(data),\n      competitors: extractCompetitors(data)\n    };\n    \n    await unifiedIntelligenceService.initializeCompany(companyData);\n    \n    // Get stakeholders from unified service\n    const identifiedStakeholders = await unifiedIntelligenceService.identifyStakeholders();\n    \n    // Generate PR-specific stakeholders (keeping existing logic for now)\n    const prStakeholders = await generatePRStakeholders({\n      ...data,\n      userType\n    });\n    \n    // Merge both sets of stakeholders\n    const allStakeholders = [...prStakeholders, ...identifiedStakeholders];\n    \n    setStakeholders(allStakeholders);\n    setIsTyping(false);\n    setCurrentStep('review_strategy');\n    \n    presentPRStrategy(allStakeholders);\n  };\n  \n  const detectIndustry = (data) => {\n    const text = `${data.company} ${data.objectives}`.toLowerCase();\n    if (text.includes('tech') || text.includes('software')) return 'technology';\n    if (text.includes('health') || text.includes('medical')) return 'healthcare';\n    if (text.includes('finance') || text.includes('bank')) return 'finance';\n    if (text.includes('retail') || text.includes('commerce')) return 'retail';\n    return 'general';\n  };\n  \n  const extractCompetitors = (data) => {\n    // In production: Extract from objectives or ask user\n    // For now, return common competitors based on industry\n    const industryCompetitors = {\n      'technology': ['Microsoft', 'Google', 'Amazon'],\n      'healthcare': ['UnitedHealth', 'Anthem', 'Kaiser'],\n      'finance': ['JPMorgan', 'Bank of America', 'Wells Fargo'],\n      'retail': ['Amazon', 'Walmart', 'Target']\n    };\n    \n    const industry = detectIndustry(data);\n    return industryCompetitors[industry] || [];\n  };\n\n  const presentPRStrategy = (stakeholders) => {\n    const opportunities = stakeholders.filter(s => s.prContext === 'earned_media' || s.prContext === 'business_development');\n    const risks = stakeholders.filter(s => s.prContext === 'crisis_prevention' || s.prContext === 'risk_management');\n    \n    addMessage({\n      type: 'ai',\n      content: `Here's your PR Intelligence Strategy:\n\n📈 **Opportunity Monitoring** (${opportunities.length} sources)\n${opportunities.map(o => `• ${o.name}: ${o.reason}`).join('\\n')}\n\n🛡️ **Risk Monitoring** (${risks.length} sources)\n${risks.map(r => `• ${r.name}: ${r.reason}`).join('\\n')}\n\n📊 **Key Metrics We'll Track:**\n• Media mentions & sentiment\n• Share of voice vs competitors\n• Journalist engagement rates\n• Crisis early warning signals\n• PR opportunity alerts\n\n👥 **Plus Traditional Stakeholder Tracking:**\nBeyond PR, we'll also monitor specific stakeholders and topics important to your business - investors, partners, regulators, and other key audiences. You'll be able to configure custom sources for each stakeholder group.\n\nReady to configure your monitoring sources?`\n    });\n  };\n\n  const finalizePRStrategy = async () => {\n    setIsTyping(true);\n    \n    // Get the current state from unified service\n    const currentState = unifiedIntelligenceService.getState();\n    \n    // Combine PR stakeholders with unified service stakeholders\n    const allStakeholders = [...stakeholders];\n    \n    // Add any additional stakeholders from unified service that aren't duplicates\n    currentState.stakeholders.forEach(unifiedStakeholder => {\n      if (!allStakeholders.find(s => s.id === unifiedStakeholder.id)) {\n        allStakeholders.push(unifiedStakeholder);\n      }\n    });\n    \n    console.log('Final stakeholders being passed:', allStakeholders);\n    \n    try {\n      // Configure sources for all stakeholders\n      await unifiedIntelligenceService.configureSources();\n      \n      // Save to backend\n      if (organizationData.organizationId) {\n        await stakeholderIntelligenceService.saveStakeholderConfiguration(\n          organizationData.organizationId,\n          allStakeholders\n        );\n      }\n    } catch (error) {\n      console.error('Error saving PR configuration:', error);\n    }\n    \n    // Transform ALL stakeholders to work with source configurator\n    // Include both PR-specific and unified service stakeholders\n    const stakeholderGroups = allStakeholders.map((stakeholder, idx) => ({\n      id: stakeholder.id || `stakeholder-${idx}`,\n      name: stakeholder.name,\n      type: stakeholder.type || 'general',\n      priority: stakeholder.priority || 'medium',\n      reason: stakeholder.reason || 'Strategic stakeholder',\n      prContext: stakeholder.prContext || 'monitoring',\n      monitoringTopics: stakeholder.monitoringTopics || stakeholder.topics || [],\n      topics: stakeholder.topics || stakeholder.monitoringTopics || [],\n      entities: stakeholder.entities || [],\n      keywords: stakeholder.keywords || [],\n      influence: stakeholder.influence || 7,\n      interest: stakeholder.interest || 7,\n      sentiment: stakeholder.sentiment || 'neutral',\n      currentSentiment: stakeholder.currentSentiment || 5,\n      targetSentiment: stakeholder.targetSentiment || 8,\n      engagementLevel: stakeholder.engagementLevel || 6,\n      trend: stakeholder.trend || 'stable',\n      concerns: stakeholder.concerns || [stakeholder.reason],\n      goals: stakeholder.goals || '',\n      fears: stakeholder.fears || '',\n      preIndexed: stakeholder.preIndexed || false,\n      sourceCount: stakeholder.sourceCount || 0,\n      prMetrics: stakeholder.prMetrics || {\n        opportunityScore: 70,\n        riskLevel: 20,\n        engagementPotential: 75,\n        timelineCriticality: 'ongoing'\n      }\n    }));\n    \n    console.log('Stakeholder groups being passed to hub:', stakeholderGroups);\n    \n    const finalStrategy = {\n      ...organizationData,\n      organizationId: organizationData.organizationId || Date.now(),\n      company: organizationData.company,\n      url: organizationData.url,\n      industry: currentState.companyProfile?.industry || detectIndustry(organizationData),\n      userType,\n      objectives: organizationData.objectives,\n      stakeholders: allStakeholders, // Raw stakeholders\n      stakeholderGroups: stakeholderGroups, // Properly formatted for source configurator\n      prFocus: true,\n      monitoringGoals: {\n        opportunities: allStakeholders.filter(s => s.prMetrics && s.prMetrics.opportunityScore > 80).length,\n        risks: allStakeholders.filter(s => s.prMetrics && s.prMetrics.riskLevel > 20).length,\n        relationships: allStakeholders.filter(s => s.prContext === 'media_relations').length\n      },\n      sources: currentState.sources || [],\n      companyProfile: currentState.companyProfile,\n      goals: currentState.goals\n    };\n    \n    setIsTyping(false);\n    onStrategyComplete(finalStrategy);\n  };\n\n  return (\n    <div style={{\n      display: 'flex',\n      height: '100%',\n      background: '#f9fafb'\n    }}>\n      {/* Chat Interface */}\n      <div style={{\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        maxWidth: '800px',\n        margin: '0 auto',\n        width: '100%'\n      }}>\n        {/* Header */}\n        <div style={{\n          padding: '1.5rem',\n          background: 'white',\n          borderBottom: '1px solid #e5e7eb'\n        }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n            <Megaphone size={24} style={{ color: '#6366f1' }} />\n            <div>\n              <h2 style={{ margin: 0, fontSize: '1.25rem', fontWeight: '600' }}>\n                PR Strategy Intelligence\n              </h2>\n              <p style={{ margin: 0, fontSize: '0.875rem', color: '#6b7280' }}>\n                Configure monitoring for opportunities & risks\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Messages */}\n        <div style={{\n          flex: 1,\n          overflowY: 'auto',\n          padding: '2rem',\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '1rem'\n        }}>\n          {messages.map(message => (\n            <div key={message.id} style={{\n              display: 'flex',\n              justifyContent: message.type === 'user' ? 'flex-end' : 'flex-start'\n            }}>\n              <div style={{\n                maxWidth: '70%',\n                padding: '1rem',\n                borderRadius: '0.75rem',\n                background: message.type === 'user' ? '#6366f1' : 'white',\n                color: message.type === 'user' ? 'white' : '#111827',\n                boxShadow: '0 1px 3px rgba(0,0,0,0.1)'\n              }}>\n                {message.type === 'ai' && (\n                  <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\n                    <Brain size={16} style={{ color: '#6366f1' }} />\n                    <span style={{ fontSize: '0.75rem', fontWeight: '500', color: '#6366f1' }}>\n                      PR Intelligence Advisor\n                    </span>\n                  </div>\n                )}\n                \n                <div style={{ whiteSpace: 'pre-wrap' }}>{message.content}</div>\n                \n                {/* User type selection options */}\n                {message.options && (\n                  <div style={{ marginTop: '1rem', display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\n                    {message.options.map(option => (\n                      <button\n                        key={option.id}\n                        onClick={() => handleUserTypeSelection(option.id)}\n                        style={{\n                          padding: '0.75rem',\n                          background: '#f3f4f6',\n                          border: '1px solid #e5e7eb',\n                          borderRadius: '0.5rem',\n                          textAlign: 'left',\n                          cursor: 'pointer',\n                          transition: 'all 0.2s'\n                        }}\n                        onMouseEnter={e => {\n                          e.currentTarget.style.background = '#e5e7eb';\n                          e.currentTarget.style.transform = 'translateX(4px)';\n                        }}\n                        onMouseLeave={e => {\n                          e.currentTarget.style.background = '#f3f4f6';\n                          e.currentTarget.style.transform = 'translateX(0)';\n                        }}\n                      >\n                        <div style={{ fontWeight: '500', marginBottom: '0.25rem' }}>\n                          {option.label}\n                        </div>\n                        <div style={{ fontSize: '0.875rem', color: '#6b7280' }}>\n                          {option.description}\n                        </div>\n                      </button>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          ))}\n          \n          {isTyping && (\n            <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', color: '#6b7280' }}>\n              <Loader size={16} className=\"animate-spin\" />\n              <span>Analyzing PR landscape...</span>\n            </div>\n          )}\n        </div>\n\n        {/* Input Area - Show after user type selection */}\n        {currentStep === 'organization_details' && (\n          <div style={{\n            padding: '1rem',\n            background: 'white',\n            borderTop: '1px solid #e5e7eb'\n          }}>\n            <form onSubmit={(e) => {\n              e.preventDefault();\n              const formData = new FormData(e.target);\n              processOrganizationData({\n                company: formData.get('company'),\n                url: formData.get('url'),\n                objectives: formData.get('objectives')\n              });\n            }}>\n              <input\n                name=\"company\"\n                placeholder={userType === 'agency' ? \"Client company name\" : \"Your company name\"}\n                required\n                style={{\n                  width: '100%',\n                  padding: '0.75rem',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '0.5rem',\n                  marginBottom: '0.5rem'\n                }}\n              />\n              <input\n                name=\"url\"\n                placeholder=\"Website URL\"\n                type=\"url\"\n                required\n                style={{\n                  width: '100%',\n                  padding: '0.75rem',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '0.5rem',\n                  marginBottom: '0.5rem'\n                }}\n              />\n              <textarea\n                name=\"objectives\"\n                placeholder={\n                  userType === 'brand' ? \"PR objectives (e.g., product launch, thought leadership, crisis preparation)\" :\n                  userType === 'agency' ? \"Client PR objectives and current campaigns\" :\n                  \"Business development goals (e.g., win tech startups, expand to healthcare)\"\n                }\n                required\n                style={{\n                  width: '100%',\n                  padding: '0.75rem',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '0.5rem',\n                  marginBottom: '0.5rem',\n                  minHeight: '80px',\n                  resize: 'vertical'\n                }}\n              />\n              <button\n                type=\"submit\"\n                style={{\n                  width: '100%',\n                  padding: '0.75rem',\n                  background: '#6366f1',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '0.5rem',\n                  fontWeight: '500',\n                  cursor: 'pointer'\n                }}\n              >\n                Build PR Strategy →\n              </button>\n            </form>\n          </div>\n        )}\n\n        {/* Finalize button */}\n        {currentStep === 'review_strategy' && (\n          <div style={{\n            padding: '1rem',\n            background: 'white',\n            borderTop: '1px solid #e5e7eb',\n            display: 'flex',\n            flexDirection: 'column',\n            gap: '0.5rem'\n          }}>\n            <button\n              onClick={() => setShowCustomStakeholder(true)}\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                background: 'white',\n                color: '#6366f1',\n                border: '1px solid #6366f1',\n                borderRadius: '0.5rem',\n                fontWeight: '500',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '0.5rem'\n              }}\n            >\n              <Users size={20} />\n              Add Custom Stakeholder to Track\n            </button>\n            \n            {showCustomStakeholder && (\n              <div style={{\n                padding: '1rem',\n                background: '#f9fafb',\n                borderRadius: '0.5rem',\n                marginBottom: '0.5rem'\n              }}>\n                <input\n                  id=\"custom-stakeholder-name\"\n                  placeholder=\"Stakeholder name (e.g., 'SEC', 'Key Investor', 'Partner Company')\"\n                  style={{\n                    width: '100%',\n                    padding: '0.5rem',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: '0.375rem',\n                    marginBottom: '0.5rem'\n                  }}\n                />\n                <input\n                  id=\"custom-stakeholder-topics\"\n                  placeholder=\"Topics to monitor (comma separated)\"\n                  style={{\n                    width: '100%',\n                    padding: '0.5rem',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: '0.375rem',\n                    marginBottom: '0.5rem'\n                  }}\n                />\n                <button\n                  onClick={() => {\n                    const name = document.getElementById('custom-stakeholder-name').value;\n                    const topics = document.getElementById('custom-stakeholder-topics').value.split(',').map(t => t.trim());\n                    \n                    if (name) {\n                      const customStakeholder = {\n                        id: `custom-${Date.now()}`,\n                        name,\n                        type: 'Custom Stakeholder',\n                        priority: 'medium',\n                        reason: 'User-defined stakeholder for specific tracking',\n                        prContext: 'custom_tracking',\n                        monitoringTopics: topics,\n                        prMetrics: {\n                          opportunityScore: 50,\n                          riskLevel: 20,\n                          engagementPotential: 60,\n                          timelineCriticality: 'ongoing'\n                        }\n                      };\n                      \n                      setStakeholders([...stakeholders, customStakeholder]);\n                      setShowCustomStakeholder(false);\n                      addMessage({\n                        type: 'ai',\n                        content: `Added \"${name}\" to your monitoring strategy. This stakeholder will be tracked alongside your PR objectives.`\n                      });\n                    }\n                  }}\n                  style={{\n                    padding: '0.5rem 1rem',\n                    background: '#6366f1',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '0.375rem',\n                    cursor: 'pointer'\n                  }}\n                >\n                  Add Stakeholder\n                </button>\n              </div>\n            )}\n            \n            <button\n              onClick={finalizePRStrategy}\n              style={{\n                width: '100%',\n                padding: '0.75rem',\n                background: '#10b981',\n                color: 'white',\n                border: 'none',\n                borderRadius: '0.5rem',\n                fontWeight: '600',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '0.5rem'\n              }}\n            >\n              <Zap size={20} />\n              Activate PR & Stakeholder Monitoring\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* PR Metrics Sidebar */}\n      <div style={{\n        width: '350px',\n        background: 'white',\n        borderLeft: '1px solid #e5e7eb',\n        padding: '1.5rem',\n        overflowY: 'auto'\n      }}>\n        <h3 style={{ margin: '0 0 1rem 0', fontSize: '1.125rem', fontWeight: '600' }}>\n          PR Intelligence Metrics\n        </h3>\n        \n        {stakeholders.length > 0 && (\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>\n            {/* Opportunity Score */}\n            <div style={{\n              padding: '1rem',\n              background: '#f0fdf4',\n              borderRadius: '0.5rem',\n              border: '1px solid #bbf7d0'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\n                <Trophy size={16} style={{ color: '#16a34a' }} />\n                <span style={{ fontWeight: '500', color: '#166534' }}>PR Opportunities</span>\n              </div>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#16a34a' }}>\n                {stakeholders.filter(s => s.prMetrics && s.prMetrics.opportunityScore > 80).length}\n              </div>\n              <div style={{ fontSize: '0.75rem', color: '#166534' }}>\n                High-value targets identified\n              </div>\n            </div>\n\n            {/* Risk Alerts */}\n            <div style={{\n              padding: '1rem',\n              background: '#fef2f2',\n              borderRadius: '0.5rem',\n              border: '1px solid #fecaca'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\n                <AlertTriangle size={16} style={{ color: '#dc2626' }} />\n                <span style={{ fontWeight: '500', color: '#991b1b' }}>Risk Monitors</span>\n              </div>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#dc2626' }}>\n                {stakeholders.filter(s => s.prMetrics && s.prMetrics.riskLevel > 20).length}\n              </div>\n              <div style={{ fontSize: '0.75rem', color: '#991b1b' }}>\n                Active risk tracking points\n              </div>\n            </div>\n\n            {/* Media Relationships */}\n            <div style={{\n              padding: '1rem',\n              background: '#eff6ff',\n              borderRadius: '0.5rem',\n              border: '1px solid #bfdbfe'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\n                <Newspaper size={16} style={{ color: '#2563eb' }} />\n                <span style={{ fontWeight: '500', color: '#1e40af' }}>Media Targets</span>\n              </div>\n              <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#2563eb' }}>\n                {stakeholders.filter(s => s.prContext === 'media_relations' || s.prContext === 'earned_media').length}\n              </div>\n              <div style={{ fontSize: '0.75rem', color: '#1e40af' }}>\n                Media outlets & journalists\n              </div>\n            </div>\n\n            {/* Coverage Goals */}\n            <div style={{\n              padding: '1rem',\n              background: '#faf5ff',\n              borderRadius: '0.5rem',\n              border: '1px solid #e9d5ff'\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem', marginBottom: '0.5rem' }}>\n                <Target size={16} style={{ color: '#9333ea' }} />\n                <span style={{ fontWeight: '500', color: '#6b21a8' }}>Coverage Goals</span>\n              </div>\n              <ul style={{ margin: 0, paddingLeft: '1.25rem', fontSize: '0.875rem', color: '#6b21a8' }}>\n                <li>Tier 1 media placements</li>\n                <li>Share of voice leadership</li>\n                <li>Crisis prevention</li>\n                <li>Thought leadership</li>\n              </ul>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PRStrategyAdvisor;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SACEC,SAAS,EAAEC,UAAU,EAAEC,aAAa,EAAEC,KAAK,EAC3CC,SAAS,EAAEC,SAAS,EAAEC,MAAM,EAAEC,MAAM,EACpCC,KAAK,EAAEC,GAAG,EAAEC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EACjCC,YAAY,EAAEC,WAAW,EAAEC,MAAM,EAAEC,GAAG,QACjC,cAAc;AACrB,SAASC,yBAAyB,QAAQ,0BAA0B;AACpE,OAAOC,8BAA8B,MAAM,+CAA+C;AAC1F,OAAOC,0BAA0B,MAAM,2CAA2C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnF,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC;AAAmB,CAAC,KAAK;EAAAC,EAAA;EACpD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,SAAS,CAAC;EACzD,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAChD,MAAM,CAACoC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrC,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5D,MAAM,CAACsC,YAAY,EAAEC,eAAe,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACwC,YAAY,EAAEC,eAAe,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAAC0C,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EACzE,MAAM4C,cAAc,GAAG1C,MAAM,CAAC,KAAK,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd,IAAI,CAAC2C,cAAc,CAACC,OAAO,EAAE;MAC3BD,cAAc,CAACC,OAAO,GAAG,IAAI;MAC7BC,sBAAsB,CAAC,CAAC;IAC1B;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,sBAAsB,GAAGA,CAAA,KAAM;IACnCC,UAAU,CAAC;MACTC,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE;AACf;AACA;AACA;AACA,gCAAgC;MAC1BC,OAAO,EAAE,CACP;QACEC,EAAE,EAAE,OAAO;QACXC,KAAK,EAAE,kCAAkC;QACzCC,WAAW,EAAE;MACf,CAAC,EACD;QACEF,EAAE,EAAE,QAAQ;QACZC,KAAK,EAAE,+BAA+B;QACtCC,WAAW,EAAE;MACf,CAAC,EACD;QACEF,EAAE,EAAE,aAAa;QACjBC,KAAK,EAAE,+BAA+B;QACtCC,WAAW,EAAE;MACf,CAAC;IAEL,CAAC,CAAC;EACJ,CAAC;EAED,MAAMN,UAAU,GAAIO,OAAO,IAAK;IAC9B,MAAMC,UAAU,GAAG;MACjB,GAAGD,OAAO;MACVH,EAAE,EAAEK,IAAI,CAACC,GAAG,CAAC;IACf,CAAC;IACD5B,WAAW,CAAC6B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEH,UAAU,CAAC,CAAC;EAC5C,CAAC;EAED,MAAMI,uBAAuB,GAAIX,IAAI,IAAK;IACxCb,WAAW,CAACa,IAAI,CAAC;IACjBD,UAAU,CAAC;MACTC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAED,IAAI,KAAK,OAAO,GAAG,oBAAoB,GACvCA,IAAI,KAAK,QAAQ,GAAG,oBAAoB,GAAG;IACtD,CAAC,CAAC;IAEFf,cAAc,CAAC,sBAAsB,CAAC;;IAEtC;IACA,IAAIe,IAAI,KAAK,OAAO,EAAE;MACpBD,UAAU,CAAC;QACTC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,MAAM,IAAID,IAAI,KAAK,QAAQ,EAAE;MAC5BD,UAAU,CAAC;QACTC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,MAAM;MACLF,UAAU,CAAC;QACTC,IAAI,EAAE,IAAI;QACVC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMW,sBAAsB,GAAG,MAAOC,OAAO,IAAK;IAChD,MAAMC,WAAW,GAAG,EAAE;IACtB,MAAM;MAAEC,OAAO;MAAE7B,QAAQ;MAAE8B;IAAW,CAAC,GAAGH,OAAO;IACjD,MAAMI,SAAS,GAAGT,IAAI,CAACC,GAAG,CAAC,CAAC;IAE5B,IAAIvB,QAAQ,KAAK,OAAO,EAAE;MACxB;;MAEA;MACA4B,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,eAAec,SAAS,EAAE;QAC9BE,IAAI,EAAE,sBAAsB;QAC5BnB,IAAI,EAAE,gBAAgB;QACtBoB,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,oDAAoD;QAC5DC,SAAS,EAAE,cAAc;QACzBC,QAAQ,EAAE,CAAC,qBAAqB,EAAE,gBAAgB,EAAE,QAAQ,EAAE,YAAY,CAAC;QAC3EC,gBAAgB,EAAE,CAChB,oCAAoC,EACpC,mCAAmC,EACnC,2BAA2B,EAC3B,qBAAqB,EACrB,6BAA6B;MAEjC,CAAC,CAAC;;MAEF;MACAV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,eAAec,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QACpDN,IAAI,EAAE,8BAA8B;QACpCnB,IAAI,EAAE,qBAAqB;QAC3BoB,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,0CAA0C;QAClDC,SAAS,EAAE,iBAAiB;QAC5BE,gBAAgB,EAAE,CAChB,oCAAoC,EACpC,wBAAwB,EACxB,uBAAuB,EACvB,gCAAgC,EAChC,sBAAsB;MAE1B,CAAC,CAAC;;MAEF;MACAV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,eAAec,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QACpDN,IAAI,EAAE,wBAAwB;QAC9BnB,IAAI,EAAE,0BAA0B;QAChCoB,QAAQ,EAAE,MAAM;QAChBC,MAAM,EAAE,4CAA4C;QACpDC,SAAS,EAAE,sBAAsB;QACjCE,gBAAgB,EAAE,CAChB,2BAA2B,EAC3B,uBAAuB,EACvB,oBAAoB,EACpB,mBAAmB,EACnB,kCAAkC,EAClC,YAAY;MAEhB,CAAC,CAAC;;MAEF;MACAV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,eAAec,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QACpDN,IAAI,EAAE,wCAAwC;QAC9CnB,IAAI,EAAE,wBAAwB;QAC9BoB,QAAQ,EAAE,MAAM;QAChBC,MAAM,EAAE,yCAAyC;QACjDC,SAAS,EAAE,sBAAsB;QACjCE,gBAAgB,EAAE,CAChB,8BAA8B,EAC9B,0BAA0B,EAC1B,6BAA6B,EAC7B,iBAAiB,EACjB,sBAAsB;MAE1B,CAAC,CAAC;;MAEF;MACAV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,UAAUc,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QAC/CN,IAAI,EAAE,wBAAwB;QAC9BnB,IAAI,EAAE,iBAAiB;QACvBoB,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,oCAAoC;QAC5CC,SAAS,EAAE,mBAAmB;QAC9BE,gBAAgB,EAAE,CAChB,2BAA2B,EAC3B,iCAAiC,EACjC,+BAA+B,EAC/B,qBAAqB,EACrB,yBAAyB,EACzB,oBAAoB;MAExB,CAAC,CAAC;IAEJ,CAAC,MAAM,IAAItC,QAAQ,KAAK,QAAQ,EAAE;MAChC;;MAEA4B,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,mBAAmBc,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QACxDN,IAAI,EAAE,uBAAuB;QAC7BnB,IAAI,EAAE,mBAAmB;QACzBoB,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,gCAAgC;QACxCC,SAAS,EAAE,gBAAgB;QAC3BE,gBAAgB,EAAE,CAChB,qBAAqB,EACrB,+BAA+B,EAC/B,qBAAqB,EACrB,qBAAqB,EACrB,8BAA8B,EAC9B,oBAAoB;MAExB,CAAC,CAAC;MAEFV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,iBAAiBc,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QACtDN,IAAI,EAAE,yBAAyB;QAC/BnB,IAAI,EAAE,qBAAqB;QAC3BoB,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,iDAAiD;QACzDC,SAAS,EAAE,gBAAgB;QAC3BE,gBAAgB,EAAE,CAChB,+CAA+C,EAC/C,mCAAmC,EACnC,qBAAqB,EACrB,uCAAuC,EACvC,sCAAsC;MAE1C,CAAC,CAAC;MAEFV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,gBAAgBc,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QACrDN,IAAI,EAAE,yBAAyB;QAC/BnB,IAAI,EAAE,mBAAmB;QACzBoB,QAAQ,EAAE,MAAM;QAChBC,MAAM,EAAE,+BAA+B;QACvCC,SAAS,EAAE,iBAAiB;QAC5BE,gBAAgB,EAAE,CAChB,gCAAgC,EAChC,wBAAwB,EACxB,oBAAoB,EACpB,qCAAqC,EACrC,yBAAyB;MAE7B,CAAC,CAAC;IAEJ,CAAC,MAAM,IAAItC,QAAQ,KAAK,aAAa,EAAE;MACrC;;MAEA4B,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,aAAac,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QAClDN,IAAI,EAAE,yBAAyB;QAC/BnB,IAAI,EAAE,sBAAsB;QAC5BoB,QAAQ,EAAE,UAAU;QACpBC,MAAM,EAAE,6CAA6C;QACrDC,SAAS,EAAE,sBAAsB;QACjCE,gBAAgB,EAAE,CAChB,+BAA+B,EAC/B,+BAA+B,EAC/B,4BAA4B,EAC5B,kCAAkC,EAClC,iCAAiC,EACjC,oCAAoC;MAExC,CAAC,CAAC;MAEFV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,uBAAuBc,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QAC5DN,IAAI,EAAE,uBAAuB;QAC7BnB,IAAI,EAAE,0BAA0B;QAChCoB,QAAQ,EAAE,MAAM;QAChBC,MAAM,EAAE,uCAAuC;QAC/CC,SAAS,EAAE,mBAAmB;QAC9BC,QAAQ,EAAE,CAAC,SAAS,EAAE,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,CAAC;QACvEC,gBAAgB,EAAE,CAChB,kBAAkB,EAClB,6BAA6B,EAC7B,mBAAmB,EACnB,wBAAwB,EACxB,8BAA8B,EAC9B,uBAAuB;MAE3B,CAAC,CAAC;MAEFV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,kBAAkBc,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QACvDN,IAAI,EAAE,gBAAgB;QACtBnB,IAAI,EAAE,oBAAoB;QAC1BoB,QAAQ,EAAE,QAAQ;QAClBC,MAAM,EAAE,yCAAyC;QACjDC,SAAS,EAAE,oBAAoB;QAC/BC,QAAQ,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,eAAe,CAAC;QAC1DC,gBAAgB,EAAE,CAChB,iBAAiB,EACjB,wBAAwB,EACxB,4BAA4B,EAC5B,uBAAuB,EACvB,wBAAwB;MAE5B,CAAC,CAAC;MAEFV,WAAW,CAACI,IAAI,CAAC;QACff,EAAE,EAAE,qBAAqBc,SAAS,IAAIH,WAAW,CAACW,MAAM,EAAE;QAC1DN,IAAI,EAAE,mBAAmB;QACzBnB,IAAI,EAAE,2BAA2B;QACjCoB,QAAQ,EAAE,MAAM;QAChBC,MAAM,EAAE,gDAAgD;QACxDC,SAAS,EAAE,cAAc;QACzBC,QAAQ,EAAE,CAAC,iBAAiB,EAAE,UAAU,EAAE,UAAU,EAAE,KAAK,CAAC;QAC5DC,gBAAgB,EAAE,CAChB,wBAAwB,EACxB,sBAAsB,EACtB,2BAA2B,EAC3B,sBAAsB,EACtB,2BAA2B;MAE/B,CAAC,CAAC;IACJ;;IAEA;IACAV,WAAW,CAACY,OAAO,CAACC,WAAW,IAAI;MACjCA,WAAW,CAACC,SAAS,GAAG;QACtBC,gBAAgB,EAAEC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE;QAAE;QACvDC,SAAS,EAAEH,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC;QAAE;QAC3CE,mBAAmB,EAAEJ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE;QAAE;QAC1DG,mBAAmB,EAAER,WAAW,CAACP,QAAQ,KAAK,UAAU,GAAG,WAAW,GAAG;MAC3E,CAAC;IACH,CAAC,CAAC;IAEF,OAAON,WAAW;EACpB,CAAC;EAED,MAAMsB,uBAAuB,GAAG,MAAOC,IAAI,IAAK;IAC9ChD,mBAAmB,CAACgD,IAAI,CAAC;IACzBtD,WAAW,CAAC,IAAI,CAAC;IAEjBgB,UAAU,CAAC;MACTC,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE;IACX,CAAC,CAAC;;IAEF;IACA,MAAMqC,WAAW,GAAG;MAClB,GAAGD,IAAI;MACPnD,QAAQ;MACRqD,QAAQ,EAAEC,cAAc,CAACH,IAAI,CAAC;MAC9BI,WAAW,EAAEC,kBAAkB,CAACL,IAAI;IACtC,CAAC;IAED,MAAM/D,0BAA0B,CAACqE,iBAAiB,CAACL,WAAW,CAAC;;IAE/D;IACA,MAAMM,sBAAsB,GAAG,MAAMtE,0BAA0B,CAACuE,oBAAoB,CAAC,CAAC;;IAEtF;IACA,MAAMC,cAAc,GAAG,MAAMlC,sBAAsB,CAAC;MAClD,GAAGyB,IAAI;MACPnD;IACF,CAAC,CAAC;;IAEF;IACA,MAAM6D,eAAe,GAAG,CAAC,GAAGD,cAAc,EAAE,GAAGF,sBAAsB,CAAC;IAEtEnD,eAAe,CAACsD,eAAe,CAAC;IAChChE,WAAW,CAAC,KAAK,CAAC;IAClBE,cAAc,CAAC,iBAAiB,CAAC;IAEjC+D,iBAAiB,CAACD,eAAe,CAAC;EACpC,CAAC;EAED,MAAMP,cAAc,GAAIH,IAAI,IAAK;IAC/B,MAAMY,IAAI,GAAG,GAAGZ,IAAI,CAACtB,OAAO,IAAIsB,IAAI,CAACrB,UAAU,EAAE,CAACkC,WAAW,CAAC,CAAC;IAC/D,IAAID,IAAI,CAACE,QAAQ,CAAC,MAAM,CAAC,IAAIF,IAAI,CAACE,QAAQ,CAAC,UAAU,CAAC,EAAE,OAAO,YAAY;IAC3E,IAAIF,IAAI,CAACE,QAAQ,CAAC,QAAQ,CAAC,IAAIF,IAAI,CAACE,QAAQ,CAAC,SAAS,CAAC,EAAE,OAAO,YAAY;IAC5E,IAAIF,IAAI,CAACE,QAAQ,CAAC,SAAS,CAAC,IAAIF,IAAI,CAACE,QAAQ,CAAC,MAAM,CAAC,EAAE,OAAO,SAAS;IACvE,IAAIF,IAAI,CAACE,QAAQ,CAAC,QAAQ,CAAC,IAAIF,IAAI,CAACE,QAAQ,CAAC,UAAU,CAAC,EAAE,OAAO,QAAQ;IACzE,OAAO,SAAS;EAClB,CAAC;EAED,MAAMT,kBAAkB,GAAIL,IAAI,IAAK;IACnC;IACA;IACA,MAAMe,mBAAmB,GAAG;MAC1B,YAAY,EAAE,CAAC,WAAW,EAAE,QAAQ,EAAE,QAAQ,CAAC;MAC/C,YAAY,EAAE,CAAC,cAAc,EAAE,QAAQ,EAAE,QAAQ,CAAC;MAClD,SAAS,EAAE,CAAC,UAAU,EAAE,iBAAiB,EAAE,aAAa,CAAC;MACzD,QAAQ,EAAE,CAAC,QAAQ,EAAE,SAAS,EAAE,QAAQ;IAC1C,CAAC;IAED,MAAMb,QAAQ,GAAGC,cAAc,CAACH,IAAI,CAAC;IACrC,OAAOe,mBAAmB,CAACb,QAAQ,CAAC,IAAI,EAAE;EAC5C,CAAC;EAED,MAAMS,iBAAiB,GAAIxD,YAAY,IAAK;IAC1C,MAAM6D,aAAa,GAAG7D,YAAY,CAAC8D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACjC,SAAS,KAAK,cAAc,IAAIiC,CAAC,CAACjC,SAAS,KAAK,sBAAsB,CAAC;IACxH,MAAMkC,KAAK,GAAGhE,YAAY,CAAC8D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACjC,SAAS,KAAK,mBAAmB,IAAIiC,CAAC,CAACjC,SAAS,KAAK,iBAAiB,CAAC;IAEhHvB,UAAU,CAAC;MACTC,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE;AACf;AACA,iCAAiCoD,aAAa,CAAC5B,MAAM;AACrD,EAAE4B,aAAa,CAACI,GAAG,CAACC,CAAC,IAAI,KAAKA,CAAC,CAACvC,IAAI,KAAKuC,CAAC,CAACrC,MAAM,EAAE,CAAC,CAACsC,IAAI,CAAC,IAAI,CAAC;AAC/D;AACA,2BAA2BH,KAAK,CAAC/B,MAAM;AACvC,EAAE+B,KAAK,CAACC,GAAG,CAACG,CAAC,IAAI,KAAKA,CAAC,CAACzC,IAAI,KAAKyC,CAAC,CAACvC,MAAM,EAAE,CAAC,CAACsC,IAAI,CAAC,IAAI,CAAC;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACI,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IAAA,IAAAC,qBAAA;IACrC/E,WAAW,CAAC,IAAI,CAAC;;IAEjB;IACA,MAAMgF,YAAY,GAAGzF,0BAA0B,CAAC0F,QAAQ,CAAC,CAAC;;IAE1D;IACA,MAAMjB,eAAe,GAAG,CAAC,GAAGvD,YAAY,CAAC;;IAEzC;IACAuE,YAAY,CAACvE,YAAY,CAACkC,OAAO,CAACuC,kBAAkB,IAAI;MACtD,IAAI,CAAClB,eAAe,CAACmB,IAAI,CAACX,CAAC,IAAIA,CAAC,CAACpD,EAAE,KAAK8D,kBAAkB,CAAC9D,EAAE,CAAC,EAAE;QAC9D4C,eAAe,CAAC7B,IAAI,CAAC+C,kBAAkB,CAAC;MAC1C;IACF,CAAC,CAAC;IAEFE,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAErB,eAAe,CAAC;IAEhE,IAAI;MACF;MACA,MAAMzE,0BAA0B,CAAC+F,gBAAgB,CAAC,CAAC;;MAEnD;MACA,IAAIjF,gBAAgB,CAACkF,cAAc,EAAE;QACnC,MAAMjG,8BAA8B,CAACkG,4BAA4B,CAC/DnF,gBAAgB,CAACkF,cAAc,EAC/BvB,eACF,CAAC;MACH;IACF,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACdL,OAAO,CAACK,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;;IAEA;IACA;IACA,MAAMC,iBAAiB,GAAG1B,eAAe,CAACU,GAAG,CAAC,CAAC9B,WAAW,EAAE+C,GAAG,MAAM;MACnEvE,EAAE,EAAEwB,WAAW,CAACxB,EAAE,IAAI,eAAeuE,GAAG,EAAE;MAC1CvD,IAAI,EAAEQ,WAAW,CAACR,IAAI;MACtBnB,IAAI,EAAE2B,WAAW,CAAC3B,IAAI,IAAI,SAAS;MACnCoB,QAAQ,EAAEO,WAAW,CAACP,QAAQ,IAAI,QAAQ;MAC1CC,MAAM,EAAEM,WAAW,CAACN,MAAM,IAAI,uBAAuB;MACrDC,SAAS,EAAEK,WAAW,CAACL,SAAS,IAAI,YAAY;MAChDE,gBAAgB,EAAEG,WAAW,CAACH,gBAAgB,IAAIG,WAAW,CAACgD,MAAM,IAAI,EAAE;MAC1EA,MAAM,EAAEhD,WAAW,CAACgD,MAAM,IAAIhD,WAAW,CAACH,gBAAgB,IAAI,EAAE;MAChED,QAAQ,EAAEI,WAAW,CAACJ,QAAQ,IAAI,EAAE;MACpCqD,QAAQ,EAAEjD,WAAW,CAACiD,QAAQ,IAAI,EAAE;MACpCC,SAAS,EAAElD,WAAW,CAACkD,SAAS,IAAI,CAAC;MACrCC,QAAQ,EAAEnD,WAAW,CAACmD,QAAQ,IAAI,CAAC;MACnCC,SAAS,EAAEpD,WAAW,CAACoD,SAAS,IAAI,SAAS;MAC7CC,gBAAgB,EAAErD,WAAW,CAACqD,gBAAgB,IAAI,CAAC;MACnDC,eAAe,EAAEtD,WAAW,CAACsD,eAAe,IAAI,CAAC;MACjDC,eAAe,EAAEvD,WAAW,CAACuD,eAAe,IAAI,CAAC;MACjDC,KAAK,EAAExD,WAAW,CAACwD,KAAK,IAAI,QAAQ;MACpCC,QAAQ,EAAEzD,WAAW,CAACyD,QAAQ,IAAI,CAACzD,WAAW,CAACN,MAAM,CAAC;MACtDgE,KAAK,EAAE1D,WAAW,CAAC0D,KAAK,IAAI,EAAE;MAC9BC,KAAK,EAAE3D,WAAW,CAAC2D,KAAK,IAAI,EAAE;MAC9BC,UAAU,EAAE5D,WAAW,CAAC4D,UAAU,IAAI,KAAK;MAC3CC,WAAW,EAAE7D,WAAW,CAAC6D,WAAW,IAAI,CAAC;MACzC5D,SAAS,EAAED,WAAW,CAACC,SAAS,IAAI;QAClCC,gBAAgB,EAAE,EAAE;QACpBI,SAAS,EAAE,EAAE;QACbC,mBAAmB,EAAE,EAAE;QACvBC,mBAAmB,EAAE;MACvB;IACF,CAAC,CAAC,CAAC;IAEHgC,OAAO,CAACC,GAAG,CAAC,yCAAyC,EAAEK,iBAAiB,CAAC;IAEzE,MAAMgB,aAAa,GAAG;MACpB,GAAGrG,gBAAgB;MACnBkF,cAAc,EAAElF,gBAAgB,CAACkF,cAAc,IAAI9D,IAAI,CAACC,GAAG,CAAC,CAAC;MAC7DM,OAAO,EAAE3B,gBAAgB,CAAC2B,OAAO;MACjC2E,GAAG,EAAEtG,gBAAgB,CAACsG,GAAG;MACzBnD,QAAQ,EAAE,EAAAuB,qBAAA,GAAAC,YAAY,CAAC4B,cAAc,cAAA7B,qBAAA,uBAA3BA,qBAAA,CAA6BvB,QAAQ,KAAIC,cAAc,CAACpD,gBAAgB,CAAC;MACnFF,QAAQ;MACR8B,UAAU,EAAE5B,gBAAgB,CAAC4B,UAAU;MACvCxB,YAAY,EAAEuD,eAAe;MAAE;MAC/B0B,iBAAiB,EAAEA,iBAAiB;MAAE;MACtCmB,OAAO,EAAE,IAAI;MACbC,eAAe,EAAE;QACfxC,aAAa,EAAEN,eAAe,CAACO,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAC3B,SAAS,IAAI2B,CAAC,CAAC3B,SAAS,CAACC,gBAAgB,GAAG,EAAE,CAAC,CAACJ,MAAM;QACnG+B,KAAK,EAAET,eAAe,CAACO,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAC3B,SAAS,IAAI2B,CAAC,CAAC3B,SAAS,CAACK,SAAS,GAAG,EAAE,CAAC,CAACR,MAAM;QACpFqE,aAAa,EAAE/C,eAAe,CAACO,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACjC,SAAS,KAAK,iBAAiB,CAAC,CAACG;MAChF,CAAC;MACDsE,OAAO,EAAEhC,YAAY,CAACgC,OAAO,IAAI,EAAE;MACnCJ,cAAc,EAAE5B,YAAY,CAAC4B,cAAc;MAC3CN,KAAK,EAAEtB,YAAY,CAACsB;IACtB,CAAC;IAEDtG,WAAW,CAAC,KAAK,CAAC;IAClBL,kBAAkB,CAAC+G,aAAa,CAAC;EACnC,CAAC;EAED,oBACEjH,OAAA;IAAKwH,KAAK,EAAE;MACVC,OAAO,EAAE,MAAM;MACfC,MAAM,EAAE,MAAM;MACdC,UAAU,EAAE;IACd,CAAE;IAAAC,QAAA,gBAEA5H,OAAA;MAAKwH,KAAK,EAAE;QACVK,IAAI,EAAE,CAAC;QACPJ,OAAO,EAAE,MAAM;QACfK,aAAa,EAAE,QAAQ;QACvBC,QAAQ,EAAE,OAAO;QACjBC,MAAM,EAAE,QAAQ;QAChBC,KAAK,EAAE;MACT,CAAE;MAAAL,QAAA,gBAEA5H,OAAA;QAAKwH,KAAK,EAAE;UACVU,OAAO,EAAE,QAAQ;UACjBP,UAAU,EAAE,OAAO;UACnBQ,YAAY,EAAE;QAChB,CAAE;QAAAP,QAAA,eACA5H,OAAA;UAAKwH,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEW,UAAU,EAAE,QAAQ;YAAEC,GAAG,EAAE;UAAU,CAAE;UAAAT,QAAA,gBACpE5H,OAAA,CAACrB,SAAS;YAAC2J,IAAI,EAAE,EAAG;YAACd,KAAK,EAAE;cAAEe,KAAK,EAAE;YAAU;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACpD3I,OAAA;YAAA4H,QAAA,gBACE5H,OAAA;cAAIwH,KAAK,EAAE;gBAAEQ,MAAM,EAAE,CAAC;gBAAEY,QAAQ,EAAE,SAAS;gBAAEC,UAAU,EAAE;cAAM,CAAE;cAAAjB,QAAA,EAAC;YAElE;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACL3I,OAAA;cAAGwH,KAAK,EAAE;gBAAEQ,MAAM,EAAE,CAAC;gBAAEY,QAAQ,EAAE,UAAU;gBAAEL,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAAC;YAEjE;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN3I,OAAA;QAAKwH,KAAK,EAAE;UACVK,IAAI,EAAE,CAAC;UACPiB,SAAS,EAAE,MAAM;UACjBZ,OAAO,EAAE,MAAM;UACfT,OAAO,EAAE,MAAM;UACfK,aAAa,EAAE,QAAQ;UACvBO,GAAG,EAAE;QACP,CAAE;QAAAT,QAAA,GACCxH,QAAQ,CAAC6E,GAAG,CAACnD,OAAO,iBACnB9B,OAAA;UAAsBwH,KAAK,EAAE;YAC3BC,OAAO,EAAE,MAAM;YACfsB,cAAc,EAAEjH,OAAO,CAACN,IAAI,KAAK,MAAM,GAAG,UAAU,GAAG;UACzD,CAAE;UAAAoG,QAAA,eACA5H,OAAA;YAAKwH,KAAK,EAAE;cACVO,QAAQ,EAAE,KAAK;cACfG,OAAO,EAAE,MAAM;cACfc,YAAY,EAAE,SAAS;cACvBrB,UAAU,EAAE7F,OAAO,CAACN,IAAI,KAAK,MAAM,GAAG,SAAS,GAAG,OAAO;cACzD+G,KAAK,EAAEzG,OAAO,CAACN,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG,SAAS;cACpDyH,SAAS,EAAE;YACb,CAAE;YAAArB,QAAA,GACC9F,OAAO,CAACN,IAAI,KAAK,IAAI,iBACpBxB,OAAA;cAAKwH,KAAK,EAAE;gBAAEC,OAAO,EAAE,MAAM;gBAAEW,UAAU,EAAE,QAAQ;gBAAEC,GAAG,EAAE,QAAQ;gBAAEa,YAAY,EAAE;cAAS,CAAE;cAAAtB,QAAA,gBAC3F5H,OAAA,CAACb,KAAK;gBAACmJ,IAAI,EAAE,EAAG;gBAACd,KAAK,EAAE;kBAAEe,KAAK,EAAE;gBAAU;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAE,CAAC,eAChD3I,OAAA;gBAAMwH,KAAK,EAAE;kBAAEoB,QAAQ,EAAE,SAAS;kBAAEC,UAAU,EAAE,KAAK;kBAAEN,KAAK,EAAE;gBAAU,CAAE;gBAAAX,QAAA,EAAC;cAE3E;gBAAAY,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CACN,eAED3I,OAAA;cAAKwH,KAAK,EAAE;gBAAE2B,UAAU,EAAE;cAAW,CAAE;cAAAvB,QAAA,EAAE9F,OAAO,CAACL;YAAO;cAAA+G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,EAG9D7G,OAAO,CAACJ,OAAO,iBACd1B,OAAA;cAAKwH,KAAK,EAAE;gBAAE4B,SAAS,EAAE,MAAM;gBAAE3B,OAAO,EAAE,MAAM;gBAAEK,aAAa,EAAE,QAAQ;gBAAEO,GAAG,EAAE;cAAU,CAAE;cAAAT,QAAA,EACzF9F,OAAO,CAACJ,OAAO,CAACuD,GAAG,CAACoE,MAAM,iBACzBrJ,OAAA;gBAEEsJ,OAAO,EAAEA,CAAA,KAAMnH,uBAAuB,CAACkH,MAAM,CAAC1H,EAAE,CAAE;gBAClD6F,KAAK,EAAE;kBACLU,OAAO,EAAE,SAAS;kBAClBP,UAAU,EAAE,SAAS;kBACrB4B,MAAM,EAAE,mBAAmB;kBAC3BP,YAAY,EAAE,QAAQ;kBACtBQ,SAAS,EAAE,MAAM;kBACjBC,MAAM,EAAE,SAAS;kBACjBC,UAAU,EAAE;gBACd,CAAE;gBACFC,YAAY,EAAEC,CAAC,IAAI;kBACjBA,CAAC,CAACC,aAAa,CAACrC,KAAK,CAACG,UAAU,GAAG,SAAS;kBAC5CiC,CAAC,CAACC,aAAa,CAACrC,KAAK,CAACsC,SAAS,GAAG,iBAAiB;gBACrD,CAAE;gBACFC,YAAY,EAAEH,CAAC,IAAI;kBACjBA,CAAC,CAACC,aAAa,CAACrC,KAAK,CAACG,UAAU,GAAG,SAAS;kBAC5CiC,CAAC,CAACC,aAAa,CAACrC,KAAK,CAACsC,SAAS,GAAG,eAAe;gBACnD,CAAE;gBAAAlC,QAAA,gBAEF5H,OAAA;kBAAKwH,KAAK,EAAE;oBAAEqB,UAAU,EAAE,KAAK;oBAAEK,YAAY,EAAE;kBAAU,CAAE;kBAAAtB,QAAA,EACxDyB,MAAM,CAACzH;gBAAK;kBAAA4G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACV,CAAC,eACN3I,OAAA;kBAAKwH,KAAK,EAAE;oBAAEoB,QAAQ,EAAE,UAAU;oBAAEL,KAAK,EAAE;kBAAU,CAAE;kBAAAX,QAAA,EACpDyB,MAAM,CAACxH;gBAAW;kBAAA2G,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAChB,CAAC;cAAA,GAzBDU,MAAM,CAAC1H,EAAE;gBAAA6G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA0BR,CACT;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE;QAAC,GA1DE7G,OAAO,CAACH,EAAE;UAAA6G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OA2Df,CACN,CAAC,EAEDrI,QAAQ,iBACPN,OAAA;UAAKwH,KAAK,EAAE;YAAEC,OAAO,EAAE,MAAM;YAAEW,UAAU,EAAE,QAAQ;YAAEC,GAAG,EAAE,QAAQ;YAAEE,KAAK,EAAE;UAAU,CAAE;UAAAX,QAAA,gBACrF5H,OAAA,CAACV,MAAM;YAACgJ,IAAI,EAAE,EAAG;YAAC0B,SAAS,EAAC;UAAc;YAAAxB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7C3I,OAAA;YAAA4H,QAAA,EAAM;UAAyB;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnC,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAGLnI,WAAW,KAAK,sBAAsB,iBACrCR,OAAA;QAAKwH,KAAK,EAAE;UACVU,OAAO,EAAE,MAAM;UACfP,UAAU,EAAE,OAAO;UACnBsC,SAAS,EAAE;QACb,CAAE;QAAArC,QAAA,eACA5H,OAAA;UAAMkK,QAAQ,EAAGN,CAAC,IAAK;YACrBA,CAAC,CAACO,cAAc,CAAC,CAAC;YAClB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAACT,CAAC,CAACU,MAAM,CAAC;YACvC1G,uBAAuB,CAAC;cACtBrB,OAAO,EAAE6H,QAAQ,CAACG,GAAG,CAAC,SAAS,CAAC;cAChCrD,GAAG,EAAEkD,QAAQ,CAACG,GAAG,CAAC,KAAK,CAAC;cACxB/H,UAAU,EAAE4H,QAAQ,CAACG,GAAG,CAAC,YAAY;YACvC,CAAC,CAAC;UACJ,CAAE;UAAA3C,QAAA,gBACA5H,OAAA;YACE2C,IAAI,EAAC,SAAS;YACd6H,WAAW,EAAE9J,QAAQ,KAAK,QAAQ,GAAG,qBAAqB,GAAG,mBAAoB;YACjF+J,QAAQ;YACRjD,KAAK,EAAE;cACLS,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE,SAAS;cAClBqB,MAAM,EAAE,mBAAmB;cAC3BP,YAAY,EAAE,QAAQ;cACtBE,YAAY,EAAE;YAChB;UAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACF3I,OAAA;YACE2C,IAAI,EAAC,KAAK;YACV6H,WAAW,EAAC,aAAa;YACzBhJ,IAAI,EAAC,KAAK;YACViJ,QAAQ;YACRjD,KAAK,EAAE;cACLS,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE,SAAS;cAClBqB,MAAM,EAAE,mBAAmB;cAC3BP,YAAY,EAAE,QAAQ;cACtBE,YAAY,EAAE;YAChB;UAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACF3I,OAAA;YACE2C,IAAI,EAAC,YAAY;YACjB6H,WAAW,EACT9J,QAAQ,KAAK,OAAO,GAAG,8EAA8E,GACrGA,QAAQ,KAAK,QAAQ,GAAG,4CAA4C,GACpE,4EACD;YACD+J,QAAQ;YACRjD,KAAK,EAAE;cACLS,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE,SAAS;cAClBqB,MAAM,EAAE,mBAAmB;cAC3BP,YAAY,EAAE,QAAQ;cACtBE,YAAY,EAAE,QAAQ;cACtBwB,SAAS,EAAE,MAAM;cACjBC,MAAM,EAAE;YACV;UAAE;YAAAnC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACF3I,OAAA;YACEwB,IAAI,EAAC,QAAQ;YACbgG,KAAK,EAAE;cACLS,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE,SAAS;cAClBP,UAAU,EAAE,SAAS;cACrBY,KAAK,EAAE,OAAO;cACdgB,MAAM,EAAE,MAAM;cACdP,YAAY,EAAE,QAAQ;cACtBH,UAAU,EAAE,KAAK;cACjBY,MAAM,EAAE;YACV,CAAE;YAAA7B,QAAA,EACH;UAED;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ,CACN,EAGAnI,WAAW,KAAK,iBAAiB,iBAChCR,OAAA;QAAKwH,KAAK,EAAE;UACVU,OAAO,EAAE,MAAM;UACfP,UAAU,EAAE,OAAO;UACnBsC,SAAS,EAAE,mBAAmB;UAC9BxC,OAAO,EAAE,MAAM;UACfK,aAAa,EAAE,QAAQ;UACvBO,GAAG,EAAE;QACP,CAAE;QAAAT,QAAA,gBACA5H,OAAA;UACEsJ,OAAO,EAAEA,CAAA,KAAMnI,wBAAwB,CAAC,IAAI,CAAE;UAC9CqG,KAAK,EAAE;YACLS,KAAK,EAAE,MAAM;YACbC,OAAO,EAAE,SAAS;YAClBP,UAAU,EAAE,OAAO;YACnBY,KAAK,EAAE,SAAS;YAChBgB,MAAM,EAAE,mBAAmB;YAC3BP,YAAY,EAAE,QAAQ;YACtBH,UAAU,EAAE,KAAK;YACjBY,MAAM,EAAE,SAAS;YACjBhC,OAAO,EAAE,MAAM;YACfW,UAAU,EAAE,QAAQ;YACpBW,cAAc,EAAE,QAAQ;YACxBV,GAAG,EAAE;UACP,CAAE;UAAAT,QAAA,gBAEF5H,OAAA,CAAClB,KAAK;YAACwJ,IAAI,EAAE;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,mCAErB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAERzH,qBAAqB,iBACpBlB,OAAA;UAAKwH,KAAK,EAAE;YACVU,OAAO,EAAE,MAAM;YACfP,UAAU,EAAE,SAAS;YACrBqB,YAAY,EAAE,QAAQ;YACtBE,YAAY,EAAE;UAChB,CAAE;UAAAtB,QAAA,gBACA5H,OAAA;YACE2B,EAAE,EAAC,yBAAyB;YAC5B6I,WAAW,EAAC,mEAAmE;YAC/EhD,KAAK,EAAE;cACLS,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE,QAAQ;cACjBqB,MAAM,EAAE,mBAAmB;cAC3BP,YAAY,EAAE,UAAU;cACxBE,YAAY,EAAE;YAChB;UAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACF3I,OAAA;YACE2B,EAAE,EAAC,2BAA2B;YAC9B6I,WAAW,EAAC,qCAAqC;YACjDhD,KAAK,EAAE;cACLS,KAAK,EAAE,MAAM;cACbC,OAAO,EAAE,QAAQ;cACjBqB,MAAM,EAAE,mBAAmB;cAC3BP,YAAY,EAAE,UAAU;cACxBE,YAAY,EAAE;YAChB;UAAE;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACF3I,OAAA;YACEsJ,OAAO,EAAEA,CAAA,KAAM;cACb,MAAM3G,IAAI,GAAGiI,QAAQ,CAACC,cAAc,CAAC,yBAAyB,CAAC,CAACC,KAAK;cACrE,MAAM3E,MAAM,GAAGyE,QAAQ,CAACC,cAAc,CAAC,2BAA2B,CAAC,CAACC,KAAK,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC9F,GAAG,CAAC+F,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;cAEvG,IAAItI,IAAI,EAAE;gBACR,MAAMuI,iBAAiB,GAAG;kBACxBvJ,EAAE,EAAE,UAAUK,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;kBAC1BU,IAAI;kBACJnB,IAAI,EAAE,oBAAoB;kBAC1BoB,QAAQ,EAAE,QAAQ;kBAClBC,MAAM,EAAE,gDAAgD;kBACxDC,SAAS,EAAE,iBAAiB;kBAC5BE,gBAAgB,EAAEmD,MAAM;kBACxB/C,SAAS,EAAE;oBACTC,gBAAgB,EAAE,EAAE;oBACpBI,SAAS,EAAE,EAAE;oBACbC,mBAAmB,EAAE,EAAE;oBACvBC,mBAAmB,EAAE;kBACvB;gBACF,CAAC;gBAED1C,eAAe,CAAC,CAAC,GAAGD,YAAY,EAAEkK,iBAAiB,CAAC,CAAC;gBACrD/J,wBAAwB,CAAC,KAAK,CAAC;gBAC/BI,UAAU,CAAC;kBACTC,IAAI,EAAE,IAAI;kBACVC,OAAO,EAAE,UAAUkB,IAAI;gBACzB,CAAC,CAAC;cACJ;YACF,CAAE;YACF6E,KAAK,EAAE;cACLU,OAAO,EAAE,aAAa;cACtBP,UAAU,EAAE,SAAS;cACrBY,KAAK,EAAE,OAAO;cACdgB,MAAM,EAAE,MAAM;cACdP,YAAY,EAAE,UAAU;cACxBS,MAAM,EAAE;YACV,CAAE;YAAA7B,QAAA,EACH;UAED;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CACN,eAED3I,OAAA;UACEsJ,OAAO,EAAEjE,kBAAmB;UAC5BmC,KAAK,EAAE;YACLS,KAAK,EAAE,MAAM;YACbC,OAAO,EAAE,SAAS;YAClBP,UAAU,EAAE,SAAS;YACrBY,KAAK,EAAE,OAAO;YACdgB,MAAM,EAAE,MAAM;YACdP,YAAY,EAAE,QAAQ;YACtBH,UAAU,EAAE,KAAK;YACjBY,MAAM,EAAE,SAAS;YACjBhC,OAAO,EAAE,MAAM;YACfW,UAAU,EAAE,QAAQ;YACpBW,cAAc,EAAE,QAAQ;YACxBV,GAAG,EAAE;UACP,CAAE;UAAAT,QAAA,gBAEF5H,OAAA,CAACZ,GAAG;YAACkJ,IAAI,EAAE;UAAG;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,wCAEnB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN3I,OAAA;MAAKwH,KAAK,EAAE;QACVS,KAAK,EAAE,OAAO;QACdN,UAAU,EAAE,OAAO;QACnBwD,UAAU,EAAE,mBAAmB;QAC/BjD,OAAO,EAAE,QAAQ;QACjBY,SAAS,EAAE;MACb,CAAE;MAAAlB,QAAA,gBACA5H,OAAA;QAAIwH,KAAK,EAAE;UAAEQ,MAAM,EAAE,YAAY;UAAEY,QAAQ,EAAE,UAAU;UAAEC,UAAU,EAAE;QAAM,CAAE;QAAAjB,QAAA,EAAC;MAE9E;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAEJ3H,YAAY,CAACiC,MAAM,GAAG,CAAC,iBACtBjD,OAAA;QAAKwH,KAAK,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEK,aAAa,EAAE,QAAQ;UAAEO,GAAG,EAAE;QAAO,CAAE;QAAAT,QAAA,gBAEpE5H,OAAA;UAAKwH,KAAK,EAAE;YACVU,OAAO,EAAE,MAAM;YACfP,UAAU,EAAE,SAAS;YACrBqB,YAAY,EAAE,QAAQ;YACtBO,MAAM,EAAE;UACV,CAAE;UAAA3B,QAAA,gBACA5H,OAAA;YAAKwH,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEW,UAAU,EAAE,QAAQ;cAAEC,GAAG,EAAE,QAAQ;cAAEa,YAAY,EAAE;YAAS,CAAE;YAAAtB,QAAA,gBAC3F5H,OAAA,CAACN,MAAM;cAAC4I,IAAI,EAAE,EAAG;cAACd,KAAK,EAAE;gBAAEe,KAAK,EAAE;cAAU;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACjD3I,OAAA;cAAMwH,KAAK,EAAE;gBAAEqB,UAAU,EAAE,KAAK;gBAAEN,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAAC;YAAgB;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1E,CAAC,eACN3I,OAAA;YAAKwH,KAAK,EAAE;cAAEoB,QAAQ,EAAE,MAAM;cAAEC,UAAU,EAAE,MAAM;cAAEN,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EACpE5G,YAAY,CAAC8D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAC3B,SAAS,IAAI2B,CAAC,CAAC3B,SAAS,CAACC,gBAAgB,GAAG,EAAE,CAAC,CAACJ;UAAM;YAAAuF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/E,CAAC,eACN3I,OAAA;YAAKwH,KAAK,EAAE;cAAEoB,QAAQ,EAAE,SAAS;cAAEL,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAC;UAEvD;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3I,OAAA;UAAKwH,KAAK,EAAE;YACVU,OAAO,EAAE,MAAM;YACfP,UAAU,EAAE,SAAS;YACrBqB,YAAY,EAAE,QAAQ;YACtBO,MAAM,EAAE;UACV,CAAE;UAAA3B,QAAA,gBACA5H,OAAA;YAAKwH,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEW,UAAU,EAAE,QAAQ;cAAEC,GAAG,EAAE,QAAQ;cAAEa,YAAY,EAAE;YAAS,CAAE;YAAAtB,QAAA,gBAC3F5H,OAAA,CAACnB,aAAa;cAACyJ,IAAI,EAAE,EAAG;cAACd,KAAK,EAAE;gBAAEe,KAAK,EAAE;cAAU;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACxD3I,OAAA;cAAMwH,KAAK,EAAE;gBAAEqB,UAAU,EAAE,KAAK;gBAAEN,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAAC;YAAa;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC,eACN3I,OAAA;YAAKwH,KAAK,EAAE;cAAEoB,QAAQ,EAAE,MAAM;cAAEC,UAAU,EAAE,MAAM;cAAEN,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EACpE5G,YAAY,CAAC8D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAC3B,SAAS,IAAI2B,CAAC,CAAC3B,SAAS,CAACK,SAAS,GAAG,EAAE,CAAC,CAACR;UAAM;YAAAuF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxE,CAAC,eACN3I,OAAA;YAAKwH,KAAK,EAAE;cAAEoB,QAAQ,EAAE,SAAS;cAAEL,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAC;UAEvD;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3I,OAAA;UAAKwH,KAAK,EAAE;YACVU,OAAO,EAAE,MAAM;YACfP,UAAU,EAAE,SAAS;YACrBqB,YAAY,EAAE,QAAQ;YACtBO,MAAM,EAAE;UACV,CAAE;UAAA3B,QAAA,gBACA5H,OAAA;YAAKwH,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEW,UAAU,EAAE,QAAQ;cAAEC,GAAG,EAAE,QAAQ;cAAEa,YAAY,EAAE;YAAS,CAAE;YAAAtB,QAAA,gBAC3F5H,OAAA,CAACjB,SAAS;cAACuJ,IAAI,EAAE,EAAG;cAACd,KAAK,EAAE;gBAAEe,KAAK,EAAE;cAAU;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACpD3I,OAAA;cAAMwH,KAAK,EAAE;gBAAEqB,UAAU,EAAE,KAAK;gBAAEN,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAAC;YAAa;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvE,CAAC,eACN3I,OAAA;YAAKwH,KAAK,EAAE;cAAEoB,QAAQ,EAAE,MAAM;cAAEC,UAAU,EAAE,MAAM;cAAEN,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EACpE5G,YAAY,CAAC8D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACjC,SAAS,KAAK,iBAAiB,IAAIiC,CAAC,CAACjC,SAAS,KAAK,cAAc,CAAC,CAACG;UAAM;YAAAuF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAClG,CAAC,eACN3I,OAAA;YAAKwH,KAAK,EAAE;cAAEoB,QAAQ,EAAE,SAAS;cAAEL,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,EAAC;UAEvD;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGN3I,OAAA;UAAKwH,KAAK,EAAE;YACVU,OAAO,EAAE,MAAM;YACfP,UAAU,EAAE,SAAS;YACrBqB,YAAY,EAAE,QAAQ;YACtBO,MAAM,EAAE;UACV,CAAE;UAAA3B,QAAA,gBACA5H,OAAA;YAAKwH,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEW,UAAU,EAAE,QAAQ;cAAEC,GAAG,EAAE,QAAQ;cAAEa,YAAY,EAAE;YAAS,CAAE;YAAAtB,QAAA,gBAC3F5H,OAAA,CAACf,MAAM;cAACqJ,IAAI,EAAE,EAAG;cAACd,KAAK,EAAE;gBAAEe,KAAK,EAAE;cAAU;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACjD3I,OAAA;cAAMwH,KAAK,EAAE;gBAAEqB,UAAU,EAAE,KAAK;gBAAEN,KAAK,EAAE;cAAU,CAAE;cAAAX,QAAA,EAAC;YAAc;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxE,CAAC,eACN3I,OAAA;YAAIwH,KAAK,EAAE;cAAEQ,MAAM,EAAE,CAAC;cAAEoD,WAAW,EAAE,SAAS;cAAExC,QAAQ,EAAE,UAAU;cAAEL,KAAK,EAAE;YAAU,CAAE;YAAAX,QAAA,gBACvF5H,OAAA;cAAA4H,QAAA,EAAI;YAAuB;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAChC3I,OAAA;cAAA4H,QAAA,EAAI;YAAyB;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAClC3I,OAAA;cAAA4H,QAAA,EAAI;YAAiB;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAC1B3I,OAAA;cAAA4H,QAAA,EAAI;YAAkB;cAAAY,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACxI,EAAA,CAj5BIF,iBAAiB;AAAAoL,EAAA,GAAjBpL,iBAAiB;AAm5BvB,eAAeA,iBAAiB;AAAC,IAAAoL,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}