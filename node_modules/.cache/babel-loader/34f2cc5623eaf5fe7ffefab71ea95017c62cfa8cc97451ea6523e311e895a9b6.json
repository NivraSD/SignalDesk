{"ast":null,"code":"import _objectSpread from\"/Users/jonathanliebowitz/Desktop/SignalDesk/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Play,Pause,CheckCircle,AlertCircle,Clock,TrendingUp,Users,FileText,BarChart3,ArrowLeft,RefreshCw,Target,Zap}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CampaignExecutionDashboard=()=>{const{campaignId}=useParams();const navigate=useNavigate();const[campaign,setCampaign]=useState(null);const[tasks,setTasks]=useState([]);const[metrics,setMetrics]=useState({});const[loading,setLoading]=useState(true);const[activeTab,setActiveTab]=useState('overview');useEffect(()=>{loadCampaignData();},[campaignId]);const loadCampaignData=async()=>{setLoading(true);try{// Load campaign data from localStorage or API\nconst storedCampaigns=JSON.parse(localStorage.getItem('strategic_campaigns')||'[]');const campaignData=storedCampaigns.find(c=>c.id===campaignId);if(campaignData){var _campaignData$pillars;setCampaign(campaignData);// Generate tasks based on campaign pillars\nconst generatedTasks=((_campaignData$pillars=campaignData.pillars)===null||_campaignData$pillars===void 0?void 0:_campaignData$pillars.map((pillar,index)=>({id:\"task-\".concat(index),name:pillar.title,description:pillar.description,status:pillar.status||'pending',progress:pillar.progress||0,assignee:pillar.assignee||'Unassigned',dueDate:pillar.dueDate||'TBD',mcp:pillar.mcp||'Content Generator'})))||[];setTasks(generatedTasks);// Mock metrics\nsetMetrics({completion:Math.round(generatedTasks.filter(t=>t.status==='completed').length/generatedTasks.length*100)||0,activeTasksCount:generatedTasks.filter(t=>t.status==='in_progress').length,completedTasksCount:generatedTasks.filter(t=>t.status==='completed').length,totalTasksCount:generatedTasks.length,engagement:85,reach:'12.5K',sentiment:92});}}catch(error){console.error('Error loading campaign:',error);}finally{setLoading(false);}};const updateTaskStatus=async(taskId,newStatus)=>{setTasks(prevTasks=>prevTasks.map(task=>task.id===taskId?_objectSpread(_objectSpread({},task),{},{status:newStatus}):task));// Update metrics\nconst updatedTasks=tasks.map(task=>task.id===taskId?_objectSpread(_objectSpread({},task),{},{status:newStatus}):task);setMetrics(prev=>_objectSpread(_objectSpread({},prev),{},{completion:Math.round(updatedTasks.filter(t=>t.status==='completed').length/updatedTasks.length*100),activeTasksCount:updatedTasks.filter(t=>t.status==='in_progress').length,completedTasksCount:updatedTasks.filter(t=>t.status==='completed').length}));};const executeTask=async task=>{updateTaskStatus(task.id,'in_progress');// Simulate task execution\nsetTimeout(()=>{updateTaskStatus(task.id,'completed');},3000);// In production, this would trigger the appropriate MCP\nconsole.log(\"Executing task \".concat(task.name,\" with MCP: \").concat(task.mcp));};const getStatusIcon=status=>{switch(status){case'completed':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-green-500\"});case'in_progress':return/*#__PURE__*/_jsx(RefreshCw,{className:\"w-5 h-5 text-blue-500 animate-spin\"});case'pending':return/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5 text-gray-400\"});default:return/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-yellow-500\"});}};const getStatusColor=status=>{switch(status){case'completed':return'bg-green-100 text-green-800';case'in_progress':return'bg-blue-100 text-blue-800';case'pending':return'bg-gray-100 text-gray-800';default:return'bg-yellow-100 text-yellow-800';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(RefreshCw,{className:\"w-8 h-8 animate-spin text-blue-600\"})});}if(!campaign){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center h-screen\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-16 h-16 text-gray-400 mb-4\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"Campaign Not Found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/projects/demo-project/strategic-planning'),className:\"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:\"Back to Strategic Planning\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full bg-gray-50 overflow-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/projects/demo-project/strategic-planning'),className:\"p-2 hover:bg-gray-100 rounded-lg\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold\",children:campaign.objective||'Campaign Execution'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Real-time campaign monitoring and control\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),\"Refresh\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Play,{className:\"w-4 h-4\"}),\"Execute All\"]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-blue-100 rounded-lg\",children:/*#__PURE__*/_jsx(Target,{className:\"w-6 h-6 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Completion\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold\",children:[metrics.completion,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-green-100 rounded-lg\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6 text-green-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Completed\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold\",children:[metrics.completedTasksCount,\"/\",metrics.totalTasksCount]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-purple-100 rounded-lg\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"w-6 h-6 text-purple-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Engagement\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-2xl font-bold\",children:[metrics.engagement,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-orange-100 rounded-lg\",children:/*#__PURE__*/_jsx(Users,{className:\"w-6 h-6 text-orange-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Reach\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",children:metrics.reach})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white border-b px-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-6\",children:['overview','tasks','timeline','analytics'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab),className:\"py-3 px-1 border-b-2 capitalize \".concat(activeTab===tab?'border-blue-600 text-blue-600 font-medium':'border-transparent text-gray-600 hover:text-gray-900'),children:tab},tab))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Campaign Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Objective\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:campaign.objective})]}),campaign.context&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Context\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:campaign.context})]}),campaign.timeline&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Timeline\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:campaign.timeline})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Progress Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Overall Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[metrics.completion,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(metrics.completion,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",children:metrics.completedTasksCount}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Completed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:metrics.activeTasksCount}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-400\",children:metrics.totalTasksCount-metrics.completedTasksCount-metrics.activeTasksCount}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Pending\"})]})]})]})]})]}),activeTab==='tasks'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Execution Tasks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage and monitor campaign tasks\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y\",children:tasks.map(task=>/*#__PURE__*/_jsx(\"div\",{className:\"p-6 hover:bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-4\",children:[getStatusIcon(task.status),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900\",children:task.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:task.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs \".concat(getStatusColor(task.status)),children:task.status.replace('_',' ')}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-3 h-3\"}),task.mcp]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600 flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3\"}),task.dueDate]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[task.status==='pending'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>executeTask(task),className:\"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm\",children:\"Execute\"}),task.status==='in_progress'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateTaskStatus(task.id,'completed'),className:\"px-3 py-1 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm\",children:\"Mark Complete\"})]})]})},task.id))})]}),activeTab==='timeline'&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Execution Timeline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:tasks.map((task,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full flex items-center justify-center \".concat(task.status==='completed'?'bg-green-100':task.status==='in_progress'?'bg-blue-100':'bg-gray-100'),children:getStatusIcon(task.status)}),index<tasks.length-1&&/*#__PURE__*/_jsx(\"div\",{className:\"w-0.5 h-16 bg-gray-300 mt-2\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 pb-8\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:task.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:task.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-2\",children:[\"Due: \",task.dueDate]})]})]},task.id))})]}),activeTab==='analytics'&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-5 h-5\"}),\"Performance Metrics\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Engagement Rate\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[metrics.engagement,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-500 h-2 rounded-full\",style:{width:\"\".concat(metrics.engagement,\"%\")}})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-600\",children:\"Sentiment Score\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[metrics.sentiment,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-500 h-2 rounded-full\",style:{width:\"\".concat(metrics.sentiment,\"%\")}})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5\"}),\"Key Insights\"]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-green-500 mt-0.5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Campaign performing above target metrics\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 text-blue-500 mt-0.5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Engagement increasing by 15% week-over-week\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5 text-purple-500 mt-0.5\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-700\",children:\"Audience reach expanded to new demographics\"})]})]})]})]})]})]});};export default CampaignExecutionDashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}