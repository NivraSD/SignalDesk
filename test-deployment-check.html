<!DOCTYPE html>
<html>
<head>
    <title>Deployment Check</title>
</head>
<body>
    <h1>Checking Deployment...</h1>
    <div id="results"></div>
    <script>
        async function checkDeployment() {
            const results = document.getElementById('results');
            
            // Check if the page loads
            try {
                const response = await fetch('https://signaldesk-nivra-sd.vercel.app/');
                const html = await response.text();
                
                // Look for v3 indicators
                const hasV3 = html.includes('IntelligenceOrchestratorV3') || 
                              html.includes('opportunity-detector-v3');
                
                if (hasV3) {
                    results.innerHTML = '<p style="color: green;">✅ V3 code detected in deployment!</p>';
                } else {
                    results.innerHTML = '<p style="color: red;">❌ V3 code NOT found in deployment</p>';
                }
                
                // Check bundle size (new code should be larger)
                const scriptTags = html.match(/<script[^>]*src="([^"]*)"[^>]*>/g) || [];
                results.innerHTML += `<p>Found ${scriptTags.length} script bundles</p>`;
                
            } catch (error) {
                results.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
            }
        }
        
        checkDeployment();
    </script>
</body>
</html>
