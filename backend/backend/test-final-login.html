<!DOCTYPE html>
<html>
<head>
    <title>SignalDesk Final Login Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 40px; max-width: 600px; margin: 0 auto; }
        .success { background: #4CAF50; color: white; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .error { background: #f44336; color: white; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .info { background: #2196F3; color: white; padding: 20px; border-radius: 8px; margin: 20px 0; }
        button { padding: 15px 30px; font-size: 16px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #45a049; }
        pre { background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ðŸš€ SignalDesk Final Login Test</h1>
    
    <div class="info">
        <h3>âœ… Status Update:</h3>
        <ul>
            <li>Old Vercel backend (signal-desk) - DELETED âœ…</li>
            <li>Railway backend - WORKING âœ…</li>
            <li>Frontend forced to use correct URL âœ…</li>
        </ul>
    </div>

    <button onclick="testLogin()">Test Login Now</button>
    
    <div id="results"></div>

    <div class="info">
        <h3>Your Platform URLs:</h3>
        <ul>
            <li><strong>Frontend:</strong> <a href="https://frontend-p0rvzi1f9-nivra-sd.vercel.app" target="_blank" style="color: white;">https://frontend-p0rvzi1f9-nivra-sd.vercel.app</a></li>
            <li><strong>Backend:</strong> <a href="https://signaldesk-production.up.railway.app" target="_blank" style="color: white;">https://signaldesk-production.up.railway.app</a></li>
        </ul>
    </div>

    <script>
        const BACKEND = 'https://signaldesk-production.up.railway.app';
        
        async function testLogin() {
            const results = document.getElementById('results');
            results.innerHTML = '<div class="info">Testing login...</div>';
            
            try {
                const response = await fetch(`${BACKEND}/api/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Origin': 'https://frontend-p0rvzi1f9-nivra-sd.vercel.app'
                    },
                    body: JSON.stringify({
                        email: 'demo@signaldesk.com',
                        password: 'demo123'
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    results.innerHTML = `
                        <div class="success">
                            <h2>âœ… SUCCESS! Everything is working!</h2>
                            <p>Login successful - Your platform is fully operational!</p>
                            <pre>${JSON.stringify(data.user, null, 2)}</pre>
                            <p><strong>Token received:</strong> ${data.token.substring(0, 50)}...</p>
                            <br>
                            <p><strong>Next Step:</strong> Go to your frontend and login!</p>
                            <a href="https://frontend-p0rvzi1f9-nivra-sd.vercel.app" target="_blank">
                                <button style="background: #2196F3;">Go to SignalDesk Frontend â†’</button>
                            </a>
                        </div>
                    `;
                } else {
                    results.innerHTML = `<div class="error">Login failed: ${JSON.stringify(data)}</div>`;
                }
            } catch (error) {
                results.innerHTML = `<div class="error">Error: ${error.message}</div>`;
            }
        }
        
        // Auto-test on load
        setTimeout(testLogin, 1000);
    </script>
</body>
</html>