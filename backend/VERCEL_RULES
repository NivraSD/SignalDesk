## 🚨 CRITICAL VERCEL DEPLOYMENT INSTRUCTIONS 🚨

### ABSOLUTE REQUIREMENTS FOR VERCEL DEPLOYMENT:

1. **SignalDesk deploys from the ROOT directory (`/`), NOT from `/frontend`**

   - The frontend files (package.json, src/, public/, etc.) MUST be in the repository root
   - Vercel project name: `signaldesk` (NOT "frontend")
   - Root Directory setting in Vercel: Leave EMPTY or set to `.`

2. **NEVER put API keys or secrets in vercel.json**

   - ALL environment variables go in Vercel Dashboard → Settings → Environment Variables
   - Required variables:
     - `REACT_APP_SUPABASE_URL`
     - `REACT_APP_SUPABASE_ANON_KEY`
   - These should NEVER be in vercel.json, package.json, or any committed file

3. **Correct vercel.json configuration:**

   ```json
   {
     "buildCommand": "npm run build",
     "outputDirectory": "build",
     "framework": "create-react-app",
     "installCommand": "npm install --legacy-peer-deps",
     "rewrites": [{ "source": "/(.*)", "destination": "/index.html" }]
   }
   ```

   - NO "env" section
   - NO "rootDirectory" setting
   - NO hardcoded values

4. **Repository Structure:**

   ```
   /SignalDesk (root)
   ├── package.json         ← Frontend package.json at ROOT
   ├── src/                 ← Frontend source at ROOT
   ├── public/              ← Frontend public at ROOT
   ├── build/               ← Build output at ROOT
   ├── vercel.json          ← Vercel config at ROOT
   ├── .gitignore           ← Must include .env* files
   ├── frontend/            ← Legacy directory (can have duplicate files)
   └── backend/             ← Backend directory (not deployed to Vercel)
   ```

5. **If deployment shows old/cached code:**

   - DO NOT restructure the entire repository
   - DO NOT move 164,000 files around
   - Simply: Vercel Dashboard → Settings → Functions → Clear Cache
   - Or: Push a small change to trigger rebuild

6. **Environment Variables in Vercel Dashboard:**
   - Go to: Vercel Dashboard → Project Settings → Environment Variables
   - Add variables there, NOT in any files
   - Apply to: Production, Preview, Development

### WHAT NOT TO DO:

- ❌ NEVER run `vercel remove signaldesk`
- ❌ NEVER put secrets in vercel.json
- ❌ NEVER deploy from /frontend subdirectory
- ❌ NEVER create a project called "frontend" in Vercel
- ❌ NEVER commit .env files to the repository
