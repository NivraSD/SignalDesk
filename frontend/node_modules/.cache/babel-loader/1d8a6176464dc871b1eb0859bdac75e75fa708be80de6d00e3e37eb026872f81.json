{"ast":null,"code":"import React,{useState}from\"react\";import SaveToMemoryVaultButton from\"./MemoryVault/SaveToMemoryVaultButton\";import{useProject}from\"../contexts/ProjectContext\";import API_BASE_URL from'../config/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AIAssistant=()=>{const[message,setMessage]=useState(\"\");const[messages,setMessages]=useState([]);const[loading,setLoading]=useState(false);const{activeProject}=useProject();const getConversationContent=()=>{if(messages.length===0)return\"\";return messages.map(msg=>\"\".concat(msg.role===\"user\"?\"User\":\"Assistant\",\": \").concat(msg.content)).join(\"\\n\\n\");};const sendMessage=async e=>{e.preventDefault();if(!message.trim())return;// Add user message to chat\nconst userMessage={role:\"user\",content:message};setMessages(prev=>[...prev,userMessage]);setMessage(\"\");setLoading(true);try{const res=await fetch(\"\".concat(API_BASE_URL,\"/content/ai-generate\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(localStorage.getItem(\"token\")||\"\")},body:JSON.stringify({prompt:message,type:\"consultation\",tone:\"helpful\",projectId:\"1\"})});const data=await res.json();// Add AI response to chat\nconst aiMessage={role:\"assistant\",content:data.content||\"No response received\"};setMessages(prev=>[...prev,aiMessage]);}catch(error){console.error(\"Error:\",error);setMessages(prev=>[...prev,{role:\"assistant\",content:\"Error: Failed to get response\"}]);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"2rem\",maxWidth:\"900px\",margin:\"0 auto\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:\"2rem\"},children:\"AI Assistant\"}),/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid #ddd\",borderRadius:\"8px\",height:\"500px\",display:\"flex\",flexDirection:\"column\",backgroundColor:\"white\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:\"1rem\",overflowY:\"auto\",backgroundColor:\"#f9f9f9\"},children:[messages.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",color:\"#666\",padding:\"2rem\"},children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDC4B Hello! I'm your AI assistant.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ask me anything about PR, content creation, or media strategy!\"})]}):messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"1rem\",textAlign:msg.role===\"user\"?\"right\":\"left\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"inline-block\",padding:\"0.75rem 1rem\",borderRadius:\"12px\",maxWidth:\"70%\",backgroundColor:msg.role===\"user\"?\"#007bff\":\"#e9ecef\",color:msg.role===\"user\"?\"white\":\"black\",textAlign:\"left\"},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.role===\"user\"?\"You\":\"AI\",\":\"]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"0.25rem\",whiteSpace:\"pre-wrap\"},children:msg.content})]})},index)),loading&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",color:\"#666\"},children:/*#__PURE__*/_jsx(\"p\",{children:\"AI is thinking...\"})})]}),messages.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:\"16px\"},children:/*#__PURE__*/_jsx(SaveToMemoryVaultButton,{content:getConversationContent(),title:\"AI Conversation - \".concat(new Date().toLocaleDateString()),type:\"conversation\",source:\"ai-assistant\",folder_type:\"research\",tags:[\"ai-chat\",\"conversation\"],metadata:{messageCount:messages.length,projectName:activeProject===null||activeProject===void 0?void 0:activeProject.name,timestamp:new Date().toISOString()}})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:sendMessage,style:{padding:\"1rem\",borderTop:\"1px solid #ddd\",display:\"flex\",gap:\"1rem\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:message,onChange:e=>setMessage(e.target.value),placeholder:\"Ask me anything...\",disabled:loading,style:{flex:1,padding:\"0.75rem\",borderRadius:\"8px\",border:\"1px solid #ddd\",fontSize:\"1rem\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!message.trim(),style:{padding:\"0.75rem 2rem\",backgroundColor:\"#007bff\",color:\"white\",border:\"none\",borderRadius:\"8px\",cursor:\"pointer\",fontSize:\"1rem\",opacity:loading||!message.trim()?0.6:1},children:\"Send\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"2rem\",padding:\"1rem\",backgroundColor:\"#f8f9fa\",borderRadius:\"8px\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Try asking:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Help me write a press release for a product launch\"}),/*#__PURE__*/_jsx(\"li\",{children:\"What are best practices for media pitching?\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Create a crisis communication plan template\"}),/*#__PURE__*/_jsx(\"li\",{children:\"How do I build relationships with journalists?\"})]})]})]});};export default AIAssistant;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}