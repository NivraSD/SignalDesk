{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/niv-simple/NivChat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NivChat = ({\n  messages,\n  loading,\n  onSendMessage,\n  onSaveAsArtifact\n}) => {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const [savedMessages, setSavedMessages] = useState(new Set());\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  // Debug logging\n  console.log('🎯 NivChat mounted with onSaveAsArtifact:', !!onSaveAsArtifact);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const trimmedValue = inputValue.trim();\n    if (trimmedValue && !loading) {\n      onSendMessage(trimmedValue);\n      setInputValue('');\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n  const autoResize = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n    }\n  };\n  useEffect(() => {\n    autoResize();\n  }, [inputValue]);\n  const chatStyles = {\n    container: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    },\n    messagesContainer: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '16px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '16px'\n    },\n    message: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '4px'\n    },\n    userMessage: {\n      alignSelf: 'flex-end',\n      maxWidth: '80%'\n    },\n    assistantMessage: {\n      alignSelf: 'flex-start',\n      maxWidth: '80%'\n    },\n    messageContent: {\n      padding: '12px 16px',\n      borderRadius: '12px',\n      lineHeight: '1.5',\n      fontSize: '14px'\n    },\n    userContent: {\n      backgroundColor: '#3b82f6',\n      color: 'white'\n    },\n    assistantContent: {\n      backgroundColor: 'white',\n      color: '#1e293b',\n      border: '1px solid #e2e8f0'\n    },\n    inputContainer: {\n      padding: '16px',\n      borderTop: '1px solid #e2e8f0',\n      backgroundColor: 'white'\n    },\n    form: {\n      display: 'flex',\n      gap: '8px',\n      alignItems: 'flex-end'\n    },\n    textarea: {\n      flex: 1,\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      fontSize: '14px',\n      lineHeight: '1.5',\n      resize: 'none',\n      minHeight: '44px',\n      maxHeight: '120px',\n      fontFamily: 'inherit',\n      outline: 'none',\n      transition: 'border-color 0.2s ease'\n    },\n    button: {\n      padding: '12px 16px',\n      backgroundColor: '#3b82f6',\n      color: 'white',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '14px',\n      fontWeight: '500',\n      cursor: 'pointer',\n      transition: 'all 0.2s ease',\n      minWidth: '60px',\n      height: '44px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    buttonDisabled: {\n      backgroundColor: '#94a3b8',\n      cursor: 'not-allowed'\n    },\n    loadingDots: {\n      display: 'flex',\n      gap: '2px'\n    },\n    dot: {\n      width: '4px',\n      height: '4px',\n      borderRadius: '50%',\n      backgroundColor: '#64748b',\n      animation: 'pulse 1.5s ease-in-out infinite'\n    },\n    timestamp: {\n      fontSize: '12px',\n      color: '#64748b',\n      marginTop: '4px'\n    },\n    userTimestamp: {\n      textAlign: 'right'\n    },\n    assistantTimestamp: {\n      textAlign: 'left'\n    },\n    saveButton: {\n      marginTop: '8px',\n      padding: '6px 12px',\n      backgroundColor: '#10b981',\n      color: 'white',\n      border: 'none',\n      borderRadius: '6px',\n      fontSize: '13px',\n      fontWeight: '500',\n      cursor: 'pointer',\n      transition: 'all 0.2s ease',\n      display: 'inline-flex',\n      alignItems: 'center',\n      gap: '6px'\n    },\n    savedIndicator: {\n      marginTop: '8px',\n      padding: '6px 12px',\n      backgroundColor: '#f0fdf4',\n      color: '#10b981',\n      border: '1px solid #86efac',\n      borderRadius: '6px',\n      fontSize: '13px',\n      fontWeight: '500',\n      display: 'inline-flex',\n      alignItems: 'center',\n      gap: '6px'\n    }\n  };\n  const formatTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString([], {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Check if a message contains substantial content worth saving\n  const isSubstantialContent = content => {\n    if (!content) return false;\n\n    // Check for strategic/tactical value indicators\n    const strategicPhrases = ['strategic framework', 'tactical approach', 'comprehensive plan', 'actionable strategy', 'here\\'s how', 'implementation', 'step-by-step', 'action plan', 'campaign', 'strategy', 'approach', 'framework', 'methodology', 'blueprint', 'roadmap', 'timeline', 'objectives', 'kpis', 'metrics'];\n    const lowerContent = content.toLowerCase();\n    const hasStrategicValue = strategicPhrases.some(phrase => lowerContent.includes(phrase));\n\n    // Check for structural indicators\n    const hasMultipleParagraphs = content.split('\\n\\n').length > 1;\n    const hasListItems = content.includes('•') || content.includes('-') || /\\d+\\./.test(content);\n    const hasStructure = content.includes(':') && content.length > 200;\n    const isLongEnough = content.length > 250;\n\n    // Check for actionable content\n    const hasActionableContent = /\\b(step \\d|phase \\d|first|second|third|next|then|finally)\\b/i.test(content);\n    const result = hasStrategicValue || hasMultipleParagraphs && isLongEnough || hasListItems && hasStructure || hasActionableContent;\n    console.log('📊 Content analysis:', {\n      length: content.length,\n      hasStrategicValue,\n      hasMultipleParagraphs,\n      hasListItems,\n      hasStructure,\n      isLongEnough,\n      hasActionableContent,\n      result\n    });\n    return result;\n  };\n  const handleSaveAsArtifact = (message, index) => {\n    if (onSaveAsArtifact) {\n      // Determine a title based on content\n      let title = 'Strategic Insight';\n      const lowerContent = message.content.toLowerCase();\n\n      // More intelligent title detection\n      if (lowerContent.includes('media list') || lowerContent.includes('journalist')) {\n        title = 'Media List Strategy';\n      } else if (lowerContent.includes('press release') || lowerContent.includes('announcement')) {\n        title = 'Press Release';\n      } else if (lowerContent.includes('social media') || lowerContent.includes('twitter') || lowerContent.includes('linkedin')) {\n        title = 'Social Media Strategy';\n      } else if (lowerContent.includes('crisis') || lowerContent.includes('damage control')) {\n        title = 'Crisis Management Plan';\n      } else if (lowerContent.includes('campaign') && lowerContent.includes('launch')) {\n        title = 'Launch Campaign Strategy';\n      } else if (lowerContent.includes('opportunity') || lowerContent.includes('opportunities')) {\n        title = 'Opportunity Analysis';\n      } else if (lowerContent.includes('competitive') || lowerContent.includes('competitor')) {\n        title = 'Competitive Analysis';\n      } else if (lowerContent.includes('framework') || lowerContent.includes('methodology')) {\n        title = 'Strategic Framework';\n      } else if (lowerContent.includes('action plan') || lowerContent.includes('tactical')) {\n        title = 'Tactical Action Plan';\n      } else if (lowerContent.includes('message') || lowerContent.includes('talking')) {\n        title = 'Key Messaging';\n      } else if (lowerContent.includes('faq') || lowerContent.includes('question')) {\n        title = 'FAQ Document';\n      } else if (lowerContent.includes('strategy')) {\n        title = 'PR Strategy';\n      } else if (lowerContent.includes('plan')) {\n        title = 'Strategic Plan';\n      }\n\n      // Create artifact from the message\n      const artifact = {\n        id: `artifact_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        type: 'document',\n        title: title,\n        created: new Date().toISOString(),\n        content: {\n          text: message.content,\n          formatted: true\n        }\n      };\n      onSaveAsArtifact(artifact);\n      setSavedMessages(prev => new Set(prev).add(index));\n    }\n  };\n  const LoadingMessage = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      ...chatStyles.message,\n      ...chatStyles.assistantMessage\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        ...chatStyles.messageContent,\n        ...chatStyles.assistantContent\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: chatStyles.loadingDots,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...chatStyles.dot,\n            animationDelay: '0s'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...chatStyles.dot,\n            animationDelay: '0.2s'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...chatStyles.dot,\n            animationDelay: '0.4s'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 302,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: chatStyles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes pulse {\n            0%, 80%, 100% {\n              opacity: 0.3;\n            }\n            40% {\n              opacity: 1;\n            }\n          }\n          \n          .niv-chat-textarea:focus {\n            border-color: #3b82f6 !important;\n            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n          }\n          \n          .niv-chat-button:hover:not(:disabled) {\n            background-color: #2563eb !important;\n          }\n          \n          .niv-chat-button:active:not(:disabled) {\n            transform: translateY(1px);\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: chatStyles.messagesContainer,\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...chatStyles.message,\n          ...(message.role === 'user' ? chatStyles.userMessage : chatStyles.assistantMessage)\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...chatStyles.messageContent,\n            ...(message.role === 'user' ? chatStyles.userContent : chatStyles.assistantContent)\n          },\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            ...chatStyles.timestamp,\n            ...(message.role === 'user' ? chatStyles.userTimestamp : chatStyles.assistantTimestamp)\n          },\n          children: formatTime(message.timestamp || Date.now())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), (_message$content => {\n          const shouldShowSave = message.role === 'assistant' && isSubstantialContent(message.content) && onSaveAsArtifact;\n          console.log('🔍 Save button check for message', index, {\n            role: message.role,\n            contentLength: (_message$content = message.content) === null || _message$content === void 0 ? void 0 : _message$content.length,\n            isSubstantial: message.role === 'assistant' ? isSubstantialContent(message.content) : false,\n            hasHandler: !!onSaveAsArtifact,\n            shouldShow: shouldShowSave\n          });\n          return shouldShowSave;\n        })() && (savedMessages.has(index) ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: chatStyles.savedIndicator,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Saved to Workspace\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          style: chatStyles.saveButton,\n          onClick: () => handleSaveAsArtifact(message, index),\n          onMouseEnter: e => e.target.style.backgroundColor = '#059669',\n          onMouseLeave: e => e.target.style.backgroundColor = '#10b981',\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCBE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Save to Workspace\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 17\n        }, this))]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(LoadingMessage, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: chatStyles.inputContainer,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        style: chatStyles.form,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: inputValue,\n          onChange: e => setInputValue(e.target.value),\n          onKeyDown: handleKeyDown,\n          placeholder: \"Ask me to create media lists, press releases, strategic plans, or anything else...\",\n          style: chatStyles.textarea,\n          className: \"niv-chat-textarea\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !inputValue.trim() || loading,\n          style: {\n            ...chatStyles.button,\n            ...(!inputValue.trim() || loading ? chatStyles.buttonDisabled : {})\n          },\n          className: \"niv-chat-button\",\n          children: loading ? '...' : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n};\n_s(NivChat, \"aqTTV2LH2sNvC8P/XZdpvJD8KLg=\");\n_c = NivChat;\nexport default NivChat;\nvar _c;\n$RefreshReg$(_c, \"NivChat\");","map":{"version":3,"names":["React","useState","useRef","useEffect","jsxDEV","_jsxDEV","NivChat","messages","loading","onSendMessage","onSaveAsArtifact","_s","inputValue","setInputValue","savedMessages","setSavedMessages","Set","messagesEndRef","textareaRef","console","log","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSubmit","e","preventDefault","trimmedValue","trim","handleKeyDown","key","shiftKey","autoResize","textarea","style","height","Math","min","scrollHeight","chatStyles","container","display","flexDirection","messagesContainer","flex","overflowY","padding","gap","message","userMessage","alignSelf","maxWidth","assistantMessage","messageContent","borderRadius","lineHeight","fontSize","userContent","backgroundColor","color","assistantContent","border","inputContainer","borderTop","form","alignItems","resize","minHeight","maxHeight","fontFamily","outline","transition","button","fontWeight","cursor","minWidth","justifyContent","buttonDisabled","loadingDots","dot","width","animation","timestamp","marginTop","userTimestamp","textAlign","assistantTimestamp","saveButton","savedIndicator","formatTime","Date","toLocaleTimeString","hour","minute","isSubstantialContent","content","strategicPhrases","lowerContent","toLowerCase","hasStrategicValue","some","phrase","includes","hasMultipleParagraphs","split","length","hasListItems","test","hasStructure","isLongEnough","hasActionableContent","result","handleSaveAsArtifact","index","title","artifact","id","now","random","toString","substr","type","created","toISOString","text","formatted","prev","add","LoadingMessage","children","animationDelay","fileName","_jsxFileName","lineNumber","columnNumber","map","role","_message$content","shouldShowSave","contentLength","isSubstantial","hasHandler","shouldShow","has","onClick","onMouseEnter","target","onMouseLeave","ref","onSubmit","value","onChange","onKeyDown","placeholder","className","disabled","_c","$RefreshReg$"],"sources":["/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/niv-simple/NivChat.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\n\nconst NivChat = ({ messages, loading, onSendMessage, onSaveAsArtifact }) => {\n  const [inputValue, setInputValue] = useState('');\n  const [savedMessages, setSavedMessages] = useState(new Set());\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  \n  // Debug logging\n  console.log('🎯 NivChat mounted with onSaveAsArtifact:', !!onSaveAsArtifact);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const trimmedValue = inputValue.trim();\n    if (trimmedValue && !loading) {\n      onSendMessage(trimmedValue);\n      setInputValue('');\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  const autoResize = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';\n    }\n  };\n\n  useEffect(() => {\n    autoResize();\n  }, [inputValue]);\n\n  const chatStyles = {\n    container: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: '100%'\n    },\n    messagesContainer: {\n      flex: 1,\n      overflowY: 'auto',\n      padding: '16px',\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '16px'\n    },\n    message: {\n      display: 'flex',\n      flexDirection: 'column',\n      gap: '4px'\n    },\n    userMessage: {\n      alignSelf: 'flex-end',\n      maxWidth: '80%'\n    },\n    assistantMessage: {\n      alignSelf: 'flex-start',\n      maxWidth: '80%'\n    },\n    messageContent: {\n      padding: '12px 16px',\n      borderRadius: '12px',\n      lineHeight: '1.5',\n      fontSize: '14px'\n    },\n    userContent: {\n      backgroundColor: '#3b82f6',\n      color: 'white'\n    },\n    assistantContent: {\n      backgroundColor: 'white',\n      color: '#1e293b',\n      border: '1px solid #e2e8f0'\n    },\n    inputContainer: {\n      padding: '16px',\n      borderTop: '1px solid #e2e8f0',\n      backgroundColor: 'white'\n    },\n    form: {\n      display: 'flex',\n      gap: '8px',\n      alignItems: 'flex-end'\n    },\n    textarea: {\n      flex: 1,\n      padding: '12px 16px',\n      border: '1px solid #e2e8f0',\n      borderRadius: '8px',\n      fontSize: '14px',\n      lineHeight: '1.5',\n      resize: 'none',\n      minHeight: '44px',\n      maxHeight: '120px',\n      fontFamily: 'inherit',\n      outline: 'none',\n      transition: 'border-color 0.2s ease'\n    },\n    button: {\n      padding: '12px 16px',\n      backgroundColor: '#3b82f6',\n      color: 'white',\n      border: 'none',\n      borderRadius: '8px',\n      fontSize: '14px',\n      fontWeight: '500',\n      cursor: 'pointer',\n      transition: 'all 0.2s ease',\n      minWidth: '60px',\n      height: '44px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    buttonDisabled: {\n      backgroundColor: '#94a3b8',\n      cursor: 'not-allowed'\n    },\n    loadingDots: {\n      display: 'flex',\n      gap: '2px'\n    },\n    dot: {\n      width: '4px',\n      height: '4px',\n      borderRadius: '50%',\n      backgroundColor: '#64748b',\n      animation: 'pulse 1.5s ease-in-out infinite'\n    },\n    timestamp: {\n      fontSize: '12px',\n      color: '#64748b',\n      marginTop: '4px'\n    },\n    userTimestamp: {\n      textAlign: 'right'\n    },\n    assistantTimestamp: {\n      textAlign: 'left'\n    },\n    saveButton: {\n      marginTop: '8px',\n      padding: '6px 12px',\n      backgroundColor: '#10b981',\n      color: 'white',\n      border: 'none',\n      borderRadius: '6px',\n      fontSize: '13px',\n      fontWeight: '500',\n      cursor: 'pointer',\n      transition: 'all 0.2s ease',\n      display: 'inline-flex',\n      alignItems: 'center',\n      gap: '6px'\n    },\n    savedIndicator: {\n      marginTop: '8px',\n      padding: '6px 12px',\n      backgroundColor: '#f0fdf4',\n      color: '#10b981',\n      border: '1px solid #86efac',\n      borderRadius: '6px',\n      fontSize: '13px',\n      fontWeight: '500',\n      display: 'inline-flex',\n      alignItems: 'center',\n      gap: '6px'\n    }\n  };\n\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString([], { \n      hour: '2-digit', \n      minute: '2-digit' \n    });\n  };\n\n  // Check if a message contains substantial content worth saving\n  const isSubstantialContent = (content) => {\n    if (!content) return false;\n    \n    // Check for strategic/tactical value indicators\n    const strategicPhrases = [\n      'strategic framework',\n      'tactical approach',\n      'comprehensive plan',\n      'actionable strategy',\n      'here\\'s how',\n      'implementation',\n      'step-by-step',\n      'action plan',\n      'campaign',\n      'strategy',\n      'approach',\n      'framework',\n      'methodology',\n      'blueprint',\n      'roadmap',\n      'timeline',\n      'objectives',\n      'kpis',\n      'metrics'\n    ];\n    \n    const lowerContent = content.toLowerCase();\n    const hasStrategicValue = strategicPhrases.some(phrase => lowerContent.includes(phrase));\n    \n    // Check for structural indicators\n    const hasMultipleParagraphs = content.split('\\n\\n').length > 1;\n    const hasListItems = content.includes('•') || content.includes('-') || /\\d+\\./.test(content);\n    const hasStructure = content.includes(':') && content.length > 200;\n    const isLongEnough = content.length > 250;\n    \n    // Check for actionable content\n    const hasActionableContent = /\\b(step \\d|phase \\d|first|second|third|next|then|finally)\\b/i.test(content);\n    \n    const result = hasStrategicValue || (hasMultipleParagraphs && isLongEnough) || \n           (hasListItems && hasStructure) || hasActionableContent;\n    \n    console.log('📊 Content analysis:', {\n      length: content.length,\n      hasStrategicValue,\n      hasMultipleParagraphs,\n      hasListItems,\n      hasStructure,\n      isLongEnough,\n      hasActionableContent,\n      result\n    });\n    \n    return result;\n  };\n\n  const handleSaveAsArtifact = (message, index) => {\n    if (onSaveAsArtifact) {\n      // Determine a title based on content\n      let title = 'Strategic Insight';\n      const lowerContent = message.content.toLowerCase();\n      \n      // More intelligent title detection\n      if (lowerContent.includes('media list') || lowerContent.includes('journalist')) {\n        title = 'Media List Strategy';\n      } else if (lowerContent.includes('press release') || lowerContent.includes('announcement')) {\n        title = 'Press Release';\n      } else if (lowerContent.includes('social media') || lowerContent.includes('twitter') || lowerContent.includes('linkedin')) {\n        title = 'Social Media Strategy';\n      } else if (lowerContent.includes('crisis') || lowerContent.includes('damage control')) {\n        title = 'Crisis Management Plan';\n      } else if (lowerContent.includes('campaign') && lowerContent.includes('launch')) {\n        title = 'Launch Campaign Strategy';\n      } else if (lowerContent.includes('opportunity') || lowerContent.includes('opportunities')) {\n        title = 'Opportunity Analysis';\n      } else if (lowerContent.includes('competitive') || lowerContent.includes('competitor')) {\n        title = 'Competitive Analysis';\n      } else if (lowerContent.includes('framework') || lowerContent.includes('methodology')) {\n        title = 'Strategic Framework';\n      } else if (lowerContent.includes('action plan') || lowerContent.includes('tactical')) {\n        title = 'Tactical Action Plan';\n      } else if (lowerContent.includes('message') || lowerContent.includes('talking')) {\n        title = 'Key Messaging';\n      } else if (lowerContent.includes('faq') || lowerContent.includes('question')) {\n        title = 'FAQ Document';\n      } else if (lowerContent.includes('strategy')) {\n        title = 'PR Strategy';\n      } else if (lowerContent.includes('plan')) {\n        title = 'Strategic Plan';\n      }\n\n      // Create artifact from the message\n      const artifact = {\n        id: `artifact_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        type: 'document',\n        title: title,\n        created: new Date().toISOString(),\n        content: {\n          text: message.content,\n          formatted: true\n        }\n      };\n\n      onSaveAsArtifact(artifact);\n      setSavedMessages(prev => new Set(prev).add(index));\n    }\n  };\n\n  const LoadingMessage = () => (\n    <div style={{ ...chatStyles.message, ...chatStyles.assistantMessage }}>\n      <div style={{ ...chatStyles.messageContent, ...chatStyles.assistantContent }}>\n        <div style={chatStyles.loadingDots}>\n          <div style={{ ...chatStyles.dot, animationDelay: '0s' }}></div>\n          <div style={{ ...chatStyles.dot, animationDelay: '0.2s' }}></div>\n          <div style={{ ...chatStyles.dot, animationDelay: '0.4s' }}></div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div style={chatStyles.container}>\n      <style>\n        {`\n          @keyframes pulse {\n            0%, 80%, 100% {\n              opacity: 0.3;\n            }\n            40% {\n              opacity: 1;\n            }\n          }\n          \n          .niv-chat-textarea:focus {\n            border-color: #3b82f6 !important;\n            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n          }\n          \n          .niv-chat-button:hover:not(:disabled) {\n            background-color: #2563eb !important;\n          }\n          \n          .niv-chat-button:active:not(:disabled) {\n            transform: translateY(1px);\n          }\n        `}\n      </style>\n\n      <div style={chatStyles.messagesContainer}>\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            style={{\n              ...chatStyles.message,\n              ...(message.role === 'user' ? chatStyles.userMessage : chatStyles.assistantMessage)\n            }}\n          >\n            <div\n              style={{\n                ...chatStyles.messageContent,\n                ...(message.role === 'user' ? chatStyles.userContent : chatStyles.assistantContent)\n              }}\n            >\n              {message.content}\n            </div>\n            <div\n              style={{\n                ...chatStyles.timestamp,\n                ...(message.role === 'user' ? chatStyles.userTimestamp : chatStyles.assistantTimestamp)\n              }}\n            >\n              {formatTime(message.timestamp || Date.now())}\n            </div>\n            {/* Show save button for substantial assistant messages */}\n            {(() => {\n              const shouldShowSave = message.role === 'assistant' && \n                                    isSubstantialContent(message.content) && \n                                    onSaveAsArtifact;\n              console.log('🔍 Save button check for message', index, {\n                role: message.role,\n                contentLength: message.content?.length,\n                isSubstantial: message.role === 'assistant' ? isSubstantialContent(message.content) : false,\n                hasHandler: !!onSaveAsArtifact,\n                shouldShow: shouldShowSave\n              });\n              return shouldShowSave;\n            })() && (\n              savedMessages.has(index) ? (\n                <div style={chatStyles.savedIndicator}>\n                  <span>✓</span>\n                  <span>Saved to Workspace</span>\n                </div>\n              ) : (\n                <button\n                  style={chatStyles.saveButton}\n                  onClick={() => handleSaveAsArtifact(message, index)}\n                  onMouseEnter={(e) => e.target.style.backgroundColor = '#059669'}\n                  onMouseLeave={(e) => e.target.style.backgroundColor = '#10b981'}\n                >\n                  <span>💾</span>\n                  <span>Save to Workspace</span>\n                </button>\n              )\n            )}\n          </div>\n        ))}\n        \n        {loading && <LoadingMessage />}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div style={chatStyles.inputContainer}>\n        <form onSubmit={handleSubmit} style={chatStyles.form}>\n          <textarea\n            ref={textareaRef}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Ask me to create media lists, press releases, strategic plans, or anything else...\"\n            style={chatStyles.textarea}\n            className=\"niv-chat-textarea\"\n            disabled={loading}\n          />\n          <button\n            type=\"submit\"\n            disabled={!inputValue.trim() || loading}\n            style={{\n              ...chatStyles.button,\n              ...((!inputValue.trim() || loading) ? chatStyles.buttonDisabled : {})\n            }}\n            className=\"niv-chat-button\"\n          >\n            {loading ? '...' : 'Send'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default NivChat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}