{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./IntelligenceDisplayV3.css';import intelligenceOrchestratorV3 from'../services/intelligenceOrchestratorV3';import{RocketIcon,AlertIcon,TrendingUpIcon,TargetIcon,ChartIcon,BuildingIcon}from'./Icons/NeonIcons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IntelligenceDisplayV3=_ref=>{var _intelligence$statist7,_intelligence$statist8,_intelligence$statist9,_intelligence$statist0;let{organization,refreshTrigger=0}=_ref;const[loading,setLoading]=useState(false);const[loadingPhase,setLoadingPhase]=useState('');const[loadingProgress,setLoadingProgress]=useState(0);const[intelligence,setIntelligence]=useState(null);const[activeTab,setActiveTab]=useState('executive');const[error,setError]=useState(null);useEffect(()=>{console.log('ðŸš€ IntelligenceDisplayV3 mounted at:',new Date().toISOString());console.log('ðŸ“Š Initial organization:',organization);},[]);// Only log on actual mount\nuseEffect(()=>{console.log('ðŸ“Š V3 useEffect triggered:',{organization:organization,refreshTrigger:refreshTrigger,hasOrgName:!!(organization!==null&&organization!==void 0&&organization.name)});fetchIntelligence();},[organization,refreshTrigger]);const fetchIntelligence=async()=>{var _orgToUse;console.log('ðŸ” V3 fetchIntelligence called, organization:',organization);// Try to get organization from multiple sources\nlet orgToUse=organization;if(!((_orgToUse=orgToUse)!==null&&_orgToUse!==void 0&&_orgToUse.name)){var _orgToUse2,_orgToUse3;console.log('âš ï¸ No organization name, checking localStorage...');// Check signaldesk_organization first\nconst savedOrgDirect=localStorage.getItem('signaldesk_organization');if(savedOrgDirect){try{orgToUse=JSON.parse(savedOrgDirect);console.log('ðŸ“¦ Found organization in signaldesk_organization:',orgToUse);}catch(e){console.error('Error parsing signaldesk_organization:',e);}}// If still no org, check signaldesk_onboarding\nif(!((_orgToUse2=orgToUse)!==null&&_orgToUse2!==void 0&&_orgToUse2.name)){const savedOnboarding=localStorage.getItem('signaldesk_onboarding');if(savedOnboarding){try{var _onboardingData$organ;const onboardingData=JSON.parse(savedOnboarding);if((_onboardingData$organ=onboardingData.organization)!==null&&_onboardingData$organ!==void 0&&_onboardingData$organ.name){orgToUse=onboardingData.organization;console.log('ðŸ“¦ Found organization in signaldesk_onboarding:',orgToUse);}}catch(e){console.error('Error parsing signaldesk_onboarding:',e);}}}// Last resort: default to Toyota\nif(!((_orgToUse3=orgToUse)!==null&&_orgToUse3!==void 0&&_orgToUse3.name)){console.log('ðŸ­ Using default organization: Toyota');orgToUse={name:'Toyota',industry:'automotive'};}}setLoading(true);setError(null);setLoadingPhase('Discovery');setLoadingProgress(0);console.log('ðŸš€ Starting V3 orchestration with:',orgToUse);// Simulate progress through phases\nconst progressInterval=setInterval(()=>{setLoadingProgress(prev=>Math.min(prev+2,95));},200);// Update phases based on timing\nconst gatheringTimeout=setTimeout(()=>setLoadingPhase('Gathering'),2000);const synthesizingTimeout=setTimeout(()=>setLoadingPhase('Synthesizing'),5000);try{var _result$tabs,_result$tabs2;const result=await intelligenceOrchestratorV3.orchestrate(orgToUse);clearInterval(progressInterval);clearTimeout(gatheringTimeout);clearTimeout(synthesizingTimeout);setLoadingProgress(100);console.log('ðŸ“¦ V3 Orchestration result:',{success:result.success,hasTabsData:!!result.tabs,tabKeys:result.tabs?Object.keys(result.tabs):[],error:result.error});// Debug: Log the actual executive and predictions data\nif((_result$tabs=result.tabs)!==null&&_result$tabs!==void 0&&_result$tabs.executive){console.log('ðŸŽ¯ Executive Tab Data:',result.tabs.executive);}if((_result$tabs2=result.tabs)!==null&&_result$tabs2!==void 0&&_result$tabs2.predictions){console.log('ðŸ”® Predictions Tab Data:',result.tabs.predictions);}if(result.success){var _result$tabs3;setIntelligence(result);// Auto-switch to executive tab if current tab doesn't exist\nif(!((_result$tabs3=result.tabs)!==null&&_result$tabs3!==void 0&&_result$tabs3[activeTab])){console.log('ðŸ”„ Switching to executive tab');setActiveTab('executive');}}else{console.error('âŒ Orchestration failed:',result.error);setError(result.error);}}catch(err){console.error('âŒ V3 fetchIntelligence error:',err);console.error('Error details:',{message:err.message,stack:err.stack,organization:orgToUse});clearInterval(progressInterval);clearTimeout(gatheringTimeout);clearTimeout(synthesizingTimeout);setError(err.message);}finally{setLoading(false);}};const tabs=[{id:'executive',name:'Strategic Brief',Icon:RocketIcon,color:'#ff00ff'},{id:'market',name:'Market Context',Icon:TrendingUpIcon,color:'#00ff88'},{id:'entities',name:'Key Players',Icon:TargetIcon,color:'#00ffcc'},{id:'strategy',name:'Actions',Icon:ChartIcon,color:'#ffcc00'},{id:'predictions',name:'What\\'s Next',Icon:BuildingIcon,color:'#8800ff'}];const renderExecutiveTab=data=>{var _intelligence$statist,_intelligence$statist2,_intelligence$statist3,_intelligence$statist4,_intelligence$statist5,_intelligence$statist6;if(!data)return null;// Synthesize information from ALL tabs if strategic data is missing\nconst synthesizedHeadline=data.strategic_headline||\"Strategic Update: \".concat((intelligence===null||intelligence===void 0?void 0:(_intelligence$statist=intelligence.statistics)===null||_intelligence$statist===void 0?void 0:_intelligence$statist.entities_tracked)||0,\" entities tracked, \").concat((intelligence===null||intelligence===void 0?void 0:(_intelligence$statist2=intelligence.statistics)===null||_intelligence$statist2===void 0?void 0:_intelligence$statist2.actions_captured)||0,\" actions detected\");const synthesizedSummary=data.strategic_summary||\"Monitoring \".concat((intelligence===null||intelligence===void 0?void 0:(_intelligence$statist3=intelligence.statistics)===null||_intelligence$statist3===void 0?void 0:_intelligence$statist3.entities_tracked)||0,\" key entities across competitors, regulators, and stakeholders. \")+\"\".concat((intelligence===null||intelligence===void 0?void 0:(_intelligence$statist4=intelligence.statistics)===null||_intelligence$statist4===void 0?void 0:_intelligence$statist4.actions_captured)||0,\" significant actions detected with \").concat((intelligence===null||intelligence===void 0?void 0:(_intelligence$statist5=intelligence.statistics)===null||_intelligence$statist5===void 0?void 0:_intelligence$statist5.critical_items)||0,\" requiring attention. \")+\"Market trends show \".concat((intelligence===null||intelligence===void 0?void 0:(_intelligence$statist6=intelligence.statistics)===null||_intelligence$statist6===void 0?void 0:_intelligence$statist6.topics_monitored)||0,\" active topics being tracked for strategic implications.\");return/*#__PURE__*/_jsxs(\"div\",{className:\"v3-executive-tab\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"executive-headline\",children:synthesizedHeadline}),/*#__PURE__*/_jsx(\"p\",{className:\"executive-summary\",children:synthesizedSummary}),data.key_insights&&/*#__PURE__*/_jsxs(\"div\",{className:\"key-insights\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Key Strategic Insights\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.key_insights.map((insight,idx)=>/*#__PURE__*/_jsx(\"li\",{children:insight},idx))})]}),data.situation_assessment&&/*#__PURE__*/_jsxs(\"div\",{className:\"situation-assessment\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Situation Assessment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"assessment-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"assessment-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Competitive Position:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:data.situation_assessment.position})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"assessment-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Market Momentum:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:data.situation_assessment.momentum})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"assessment-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Risk Level:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",style:{color:urgencyColors[data.situation_assessment.risk_level]},children:data.situation_assessment.risk_level})]})]})]}),data.immediate_priorities&&/*#__PURE__*/_jsxs(\"div\",{className:\"immediate-priorities\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Immediate Priorities\"}),/*#__PURE__*/_jsx(\"ol\",{children:data.immediate_priorities.map((priority,idx)=>/*#__PURE__*/_jsx(\"li\",{children:priority},idx))})]})]});};const renderEntitiesTab=data=>{var _data$competitor_acti,_data$regulatory_deve,_data$stakeholder_pos,_data$competitor_acti2,_data$regulatory_deve2,_data$stakeholder_pos2;if(!data)return null;const totalEntities=(((_data$competitor_acti=data.competitor_actions)===null||_data$competitor_acti===void 0?void 0:_data$competitor_acti.length)||0)+(((_data$regulatory_deve=data.regulatory_developments)===null||_data$regulatory_deve===void 0?void 0:_data$regulatory_deve.length)||0)+(((_data$stakeholder_pos=data.stakeholder_positions)===null||_data$stakeholder_pos===void 0?void 0:_data$stakeholder_pos.length)||0);return/*#__PURE__*/_jsxs(\"div\",{className:\"v3-entities-tab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entities-overview\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"entities-context\",children:[\"Tracking \",totalEntities,\" key entity movements across competitors, regulators, and stakeholders. These actions directly impact market dynamics and strategic positioning.\"]})}),((_data$competitor_acti2=data.competitor_actions)===null||_data$competitor_acti2===void 0?void 0:_data$competitor_acti2.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"entity-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Competitor Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"entity-cards\",children:data.competitor_actions.map((action,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"entity-action-card competitor\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entity-name\",children:action.entity}),/*#__PURE__*/_jsx(\"div\",{className:\"entity-action\",children:action.action}),/*#__PURE__*/_jsx(\"div\",{className:\"strategic-impact\",children:action.strategic_impact}),action.response_needed!=='monitor only'&&/*#__PURE__*/_jsx(\"div\",{className:\"response-needed\",children:action.response_needed})]},idx))})]}),((_data$regulatory_deve2=data.regulatory_developments)===null||_data$regulatory_deve2===void 0?void 0:_data$regulatory_deve2.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"entity-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Regulatory Developments\"}),/*#__PURE__*/_jsx(\"div\",{className:\"entity-cards\",children:data.regulatory_developments.map((dev,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"entity-action-card regulatory\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entity-name\",children:dev.entity}),/*#__PURE__*/_jsx(\"div\",{className:\"entity-action\",children:dev.development}),/*#__PURE__*/_jsx(\"div\",{className:\"compliance-impact\",children:dev.compliance_impact}),/*#__PURE__*/_jsx(\"div\",{className:\"timeline\",children:dev.timeline})]},idx))})]}),((_data$stakeholder_pos2=data.stakeholder_positions)===null||_data$stakeholder_pos2===void 0?void 0:_data$stakeholder_pos2.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"entity-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Stakeholder Positions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"entity-cards\",children:data.stakeholder_positions.map((stake,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"entity-action-card stakeholder\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"entity-name\",children:stake.entity}),/*#__PURE__*/_jsx(\"div\",{className:\"entity-position\",children:stake.position}),/*#__PURE__*/_jsxs(\"div\",{className:\"influence-level\",children:[\"Influence: \",stake.influence_level]}),/*#__PURE__*/_jsx(\"div\",{className:\"engagement-strategy\",children:stake.engagement_strategy})]},idx))})]})]});};const renderMarketTab=data=>{var _data$trending_opport,_data$emerging_risks,_data$trending_opport2,_data$emerging_risks2;if(!data)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"v3-market-tab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"market-overview\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"market-context\",children:[\"Current market intelligence reveals \",((_data$trending_opport=data.trending_opportunities)===null||_data$trending_opport===void 0?void 0:_data$trending_opport.length)||0,\" emerging opportunities and \",((_data$emerging_risks=data.emerging_risks)===null||_data$emerging_risks===void 0?void 0:_data$emerging_risks.length)||0,\" potential risks that could impact strategic positioning.\"]})}),((_data$trending_opport2=data.trending_opportunities)===null||_data$trending_opport2===void 0?void 0:_data$trending_opport2.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"market-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Emerging Opportunities\"}),/*#__PURE__*/_jsx(\"div\",{className:\"opportunity-cards\",children:data.trending_opportunities.map((opp,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"opportunity-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"trend-name\",children:opp.trend}),/*#__PURE__*/_jsx(\"div\",{className:\"opportunity\",children:opp.opportunity}),/*#__PURE__*/_jsxs(\"div\",{className:\"timing\",children:[\"Timing: \",opp.timing]}),opp.first_mover_advantage&&/*#__PURE__*/_jsx(\"div\",{className:\"first-mover\",children:\"\\u26A1 First Mover Advantage\"})]},idx))})]}),((_data$emerging_risks2=data.emerging_risks)===null||_data$emerging_risks2===void 0?void 0:_data$emerging_risks2.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"market-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Emerging Risks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"risk-cards\",children:data.emerging_risks.map((risk,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"risk-card probability-\".concat(risk.probability),children:[/*#__PURE__*/_jsx(\"div\",{className:\"risk-name\",children:risk.risk}),/*#__PURE__*/_jsx(\"div\",{className:\"risk-impact\",children:risk.impact}),/*#__PURE__*/_jsxs(\"div\",{className:\"risk-probability\",children:[\"Probability: \",risk.probability]}),/*#__PURE__*/_jsx(\"div\",{className:\"mitigation\",children:risk.mitigation})]},idx))})]})]});};const renderStrategyTab=data=>{var _data$recommendations,_data$recommendations2,_data$positioning$key,_data$positioning$vul;if(!data)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"v3-strategy-tab\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"strategy-overview\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"strategy-context\",children:[\"Based on current intelligence, \",((_data$recommendations=data.recommendations)===null||_data$recommendations===void 0?void 0:_data$recommendations.length)||0,\" strategic actions recommended to maintain competitive advantage and respond to market movements.\"]})}),((_data$recommendations2=data.recommendations)===null||_data$recommendations2===void 0?void 0:_data$recommendations2.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"recommendations-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Strategic Recommendations\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recommendations-list\",children:data.recommendations.map((rec,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"priority-badge\",children:[\"Priority \",rec.priority]}),/*#__PURE__*/_jsx(\"div\",{className:\"action\",children:rec.action}),/*#__PURE__*/_jsx(\"div\",{className:\"rationale\",children:rec.rationale}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"owner\",children:[\"Owner: \",rec.owner]}),/*#__PURE__*/_jsxs(\"span\",{className:\"timeline\",children:[\"Timeline: \",rec.timeline]})]})]},idx))})]}),data.positioning&&/*#__PURE__*/_jsxs(\"div\",{className:\"positioning-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Competitive Positioning\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"positioning-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"position-status\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Current Position\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value\",children:data.positioning.current_position})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-metrics\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Narrative Control:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(data.positioning.narrative_control),children:data.positioning.narrative_control})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"metric\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Momentum:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"status \".concat(data.positioning.momentum),children:data.positioning.momentum})]})]}),((_data$positioning$key=data.positioning.key_advantages)===null||_data$positioning$key===void 0?void 0:_data$positioning$key.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"advantages\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Key Advantages\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.positioning.key_advantages.map((adv,idx)=>/*#__PURE__*/_jsx(\"li\",{children:adv},idx))})]}),((_data$positioning$vul=data.positioning.vulnerabilities)===null||_data$positioning$vul===void 0?void 0:_data$positioning$vul.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"vulnerabilities\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Vulnerabilities\"}),/*#__PURE__*/_jsx(\"ul\",{children:data.positioning.vulnerabilities.map((vul,idx)=>/*#__PURE__*/_jsx(\"li\",{children:vul},idx))})]})]})]})]});};const renderPredictionsTab=data=>{var _data$cascades,_data$predictions,_data$second_order_ef;if(!data)return null;return/*#__PURE__*/_jsxs(\"div\",{className:\"v3-predictions-tab\",children:[((_data$cascades=data.cascades)===null||_data$cascades===void 0?void 0:_data$cascades.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"cascades-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Potential Cascades\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cascade-cards\",children:data.cascades.map((cascade,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"cascade-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cascade-trigger\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"trigger-label\",children:\"If:\"}),\" \",cascade.trigger]}),/*#__PURE__*/_jsx(\"div\",{className:\"cascade-arrow\",children:\"\\u2192\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cascade-effects\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"effect-label\",children:\"Then:\"}),/*#__PURE__*/_jsx(\"ul\",{children:cascade.effects.map((effect,eidx)=>/*#__PURE__*/_jsx(\"li\",{children:effect},eidx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cascade-probability\",children:[\"Probability: \",/*#__PURE__*/_jsx(\"span\",{className:\"prob-\".concat(cascade.probability),children:cascade.probability})]})]},idx))})]}),((_data$predictions=data.predictions)===null||_data$predictions===void 0?void 0:_data$predictions.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"predictions-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Strategic Predictions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prediction-timeline\",children:data.predictions.map((pred,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"prediction-timeframe\",children:pred.timeframe}),/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"prediction-what\",children:pred.prediction}),/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-basis\",children:[\"Based on: \",pred.basis]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-confidence\",children:[\"Confidence: \",/*#__PURE__*/_jsxs(\"span\",{className:\"conf-\".concat(pred.confidence),children:[pred.confidence,\"%\"]})]})]})]},idx))})]}),((_data$second_order_ef=data.second_order_effects)===null||_data$second_order_ef===void 0?void 0:_data$second_order_ef.length)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"second-order-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Second-Order Effects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"effects-list\",children:data.second_order_effects.map((effect,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"second-order-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"effect-primary\",children:effect.primary_change}),/*#__PURE__*/_jsxs(\"div\",{className:\"effect-secondary\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"arrow\",children:\"\\u27F9\"}),effect.secondary_impact]}),/*#__PURE__*/_jsxs(\"div\",{className:\"effect-action\",children:[\"Recommended action: \",effect.recommended_action]})]},idx))})]})]});};const renderTabContent=()=>{if(!(intelligence!==null&&intelligence!==void 0&&intelligence.tabs))return null;const tabData=intelligence.tabs[activeTab];switch(activeTab){case'executive':return renderExecutiveTab(tabData);case'entities':return renderEntitiesTab(tabData);case'market':return renderMarketTab(tabData);case'strategy':return renderStrategyTab(tabData);case'predictions':return renderPredictionsTab(tabData);default:return/*#__PURE__*/_jsx(\"div\",{children:\"No data available for this tab\"});}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"intelligence-display-v3 loading\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"phase-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"phase-name\",children:loadingPhase}),/*#__PURE__*/_jsxs(\"div\",{className:\"phase-steps\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step \".concat(loadingPhase==='Discovery'?'active':loadingProgress>30?'complete':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step-label\",children:\"Discovery\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step \".concat(loadingPhase==='Gathering'?'active':loadingProgress>60?'complete':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-icon\",children:\"\\uD83D\\uDCE1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step-label\",children:\"Gathering\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step \".concat(loadingPhase==='Synthesizing'?'active':''),children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-icon\",children:\"\\uD83E\\uDDE0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step-label\",children:\"Synthesizing\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(loadingProgress,\"%\")}})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-message\",children:\"Analyzing with Claude Sonnet 4...\"})]})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-display-v3 error\",children:[/*#__PURE__*/_jsx(AlertIcon,{size:24,color:\"#ff0064\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Intelligence gathering failed: \",error]}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchIntelligence,children:\"Retry\"})]});}if(!intelligence){return/*#__PURE__*/_jsx(\"div\",{className:\"intelligence-display-v3 empty\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No intelligence data available\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-display-v3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tab-navigation\",children:tabs.map(tab=>/*#__PURE__*/_jsxs(\"button\",{className:\"tab-button \".concat(activeTab===tab.id?'active':''),onClick:()=>setActiveTab(tab.id),style:{'--tab-color':tab.color},children:[/*#__PURE__*/_jsx(tab.Icon,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:tab.name})]},tab.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:renderTabContent()}),/*#__PURE__*/_jsxs(\"div\",{className:\"intelligence-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"statistics\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Entities: \",((_intelligence$statist7=intelligence.statistics)===null||_intelligence$statist7===void 0?void 0:_intelligence$statist7.entities_tracked)||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Actions: \",((_intelligence$statist8=intelligence.statistics)===null||_intelligence$statist8===void 0?void 0:_intelligence$statist8.actions_captured)||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Topics: \",((_intelligence$statist9=intelligence.statistics)===null||_intelligence$statist9===void 0?void 0:_intelligence$statist9.topics_monitored)||0]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Critical: \",((_intelligence$statist0=intelligence.statistics)===null||_intelligence$statist0===void 0?void 0:_intelligence$statist0.critical_items)||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timestamp\",children:[\"Last updated: \",new Date(intelligence.timestamp).toLocaleTimeString()]})]})]});};export default IntelligenceDisplayV3;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}