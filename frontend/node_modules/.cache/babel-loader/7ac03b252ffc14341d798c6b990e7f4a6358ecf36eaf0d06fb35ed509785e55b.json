{"ast":null,"code":"// Content Generator Module - Simplified content type launcher\nimport React,{useState,useEffect}from'react';import{FileText,Sparkles,Copy,Download,Check,AlertCircle,Edit3,MessageSquare,FileQuestion,Megaphone,Mail,Hash,Bot,Save,ArrowLeft,Wand2,X,Send}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ContentGeneratorModule=_ref=>{let{onAIMessage,generatedContent,onContentUpdate,currentContentType,// NEW: Real-time Niv integration props\nnivGeneratedData,onNivEdit,isNivGenerating}=_ref;const[content,setContent]=useState(generatedContent||'');// Start in edit mode when there's content OR when Niv is generating\nconst[editMode,setEditMode]=useState(!!generatedContent||!!isNivGenerating||false);const[copied,setCopied]=useState(false);const[saved,setSaved]=useState(false);const[aiEditPrompt,setAiEditPrompt]=useState('');const[showAiEdit,setShowAiEdit]=useState(false);// NEW: Niv real-time generation state\nconst[nivEditInput,setNivEditInput]=useState('');const[showNivEdit,setShowNivEdit]=useState(false);// Content type options\nconst contentTypes=[{id:'press-release',name:'Press Release',icon:Megaphone,color:'#8b5cf6',description:'Official announcements and news releases'},{id:'thought-leadership',name:'Thought Leadership',icon:Sparkles,color:'#ec4899',description:'Expert insights and industry perspective'},{id:'social-post',name:'Social Media Post',icon:Hash,color:'#10b981',description:'LinkedIn, Twitter, and social content'},{id:'media-pitch',name:'Media Pitch',icon:MessageSquare,color:'#14b8a6',description:'Journalist outreach and story pitches'},{id:'qa-doc',name:'Q&A Document',icon:FileQuestion,color:'#3b82f6',description:'FAQs and question responses'},{id:'crisis-response',name:'Crisis Response',icon:AlertCircle,color:'#ef4444',description:'Crisis communications and responses'},{id:'corporate-messaging',name:'Corporate Messaging',icon:FileText,color:'#f59e0b',description:'Internal communications and company messaging'}];// Listen for generated content from parent\nuseEffect(()=>{if(generatedContent&&generatedContent.trim()){setContent(generatedContent);// Automatically enable edit mode when new content is received\nsetEditMode(true);}},[generatedContent]);// NEW: Handle Niv's real-time generation\nuseEffect(()=>{if(nivGeneratedData!==null&&nivGeneratedData!==void 0&&nivGeneratedData.initialContent){setContent(nivGeneratedData.initialContent);setEditMode(true);setShowNivEdit(true);// Enable Niv editing mode\n}},[nivGeneratedData]);// NEW: Handle Niv editing requests\nconst handleNivEdit=async editRequest=>{if(onNivEdit){await onNivEdit({currentContent:content,editRequest,contentType:currentContentType});}setNivEditInput('');};// Handle content type selection - triggers AI assistant\nconst handleContentTypeSelect=contentType=>{if(onAIMessage){// Send message to AI assistant with explicit content type\nonAIMessage({type:'user',content:\"I want to create a \".concat(contentType.name.toLowerCase()),contentTypeId:contentType.id,// Pass explicit type ID\ncontentTypeName:contentType.name// Pass exact name\n});}};// Copy, edit, save, and download functions (keep the good stuff)\nconst handleCopy=()=>{navigator.clipboard.writeText(content);setCopied(true);setTimeout(()=>setCopied(false),2000);};const handleDownload=()=>{const blob=new Blob([content],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"\".concat(currentContentType||'content',\"-\").concat(Date.now(),\".txt\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};const handleContentEdit=newContent=>{setContent(newContent);if(onContentUpdate){onContentUpdate(newContent);}};const handleSave=async()=>{if(onContentUpdate){onContentUpdate(content);}setSaved(true);setTimeout(()=>setSaved(false),2000);// Signal that content is saved and AI can reset conversation state\nif(onAIMessage){onAIMessage({type:'content_saved',content:'Content saved to Memory Vault successfully!'});}};const handleAiEdit=async()=>{if(!aiEditPrompt.trim())return;if(onAIMessage){onAIMessage({type:'edit_request',content:aiEditPrompt,currentContent:content,metadata:{contentType:currentContentType}});}setShowAiEdit(false);setAiEditPrompt('');};const handleReturnToGenerator=()=>{setContent('');if(onContentUpdate){onContentUpdate('');}};return/*#__PURE__*/_jsx(\"div\",{style:{height:'100%',display:'flex',flexDirection:'column',color:'#e8e8e8'},children:content?/*#__PURE__*/_jsxs(\"div\",{style:{height:'100%',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem 1.5rem',borderBottom:'1px solid rgba(255, 255, 255, 0.08)',background:'rgba(0, 0, 0, 0.3)',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:currentContentType&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'rgba(124, 58, 237, 0.8)',color:'white',padding:'0.25rem 0.5rem',borderRadius:'12px',fontSize:'11px',fontWeight:'500',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(Bot,{size:12}),\"AI Generated\"]})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleReturnToGenerator,style:{padding:'0.4rem 0.8rem',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'6px',color:'#9ca3af',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'12px'},children:[/*#__PURE__*/_jsx(ArrowLeft,{size:14}),\"Back\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setEditMode(!editMode),style:{padding:'0.5rem 1rem',background:editMode?'#7c3aed':'#10b981',border:'none',borderRadius:'6px',color:'white',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'13px',fontWeight:'500',transition:'all 0.2s'},children:[/*#__PURE__*/_jsx(Edit3,{size:14}),editMode?'Preview':'Edit']}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCopy,style:{padding:'0.4rem 0.8rem',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'6px',color:copied?'#10b981':'#9ca3af',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'12px'},children:[copied?/*#__PURE__*/_jsx(Check,{size:14}):/*#__PURE__*/_jsx(Copy,{size:14}),copied?'Copied!':'Copy']}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAiEdit(!showAiEdit),style:{padding:'0.4rem 0.8rem',background:'rgba(147, 51, 234, 0.2)',border:'1px solid rgba(147, 51, 234, 0.3)',borderRadius:'6px',color:'#c084fc',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'12px'},children:[/*#__PURE__*/_jsx(Wand2,{size:14}),\"AI Edit\"]})]})]}),showAiEdit&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(147, 51, 234, 0.1)',borderBottom:'1px solid rgba(147, 51, 234, 0.2)',display:'flex',gap:'0.5rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"How would you like to edit this content?\",value:aiEditPrompt,onChange:e=>setAiEditPrompt(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleAiEdit(),style:{flex:1,padding:'0.5rem',background:'rgba(0, 0, 0, 0.3)',border:'1px solid rgba(255, 255, 255, 0.08)',borderRadius:'6px',color:'#e8e8e8',fontSize:'12px'}}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleAiEdit,disabled:!aiEditPrompt.trim(),style:{padding:'0.5rem 1rem',background:aiEditPrompt.trim()?'#9333ea':'rgba(255, 255, 255, 0.05)',border:'none',borderRadius:'6px',color:aiEditPrompt.trim()?'white':'#6b7280',cursor:aiEditPrompt.trim()?'pointer':'not-allowed',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'12px'},children:[/*#__PURE__*/_jsx(Send,{size:14}),\"Apply\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowAiEdit(false);setAiEditPrompt('');},style:{padding:'0.5rem',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'6px',color:'#9ca3af',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{size:14})})]}),showNivEdit&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(59, 130, 246, 0.1)',borderBottom:'1px solid rgba(59, 130, 246, 0.2)',display:'flex',gap:'0.5rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(Bot,{size:16,style:{color:'#3b82f6'}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:nivEditInput,onChange:e=>setNivEditInput(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleNivEdit(nivEditInput),placeholder:\"Tell Niv how to edit this content...\",style:{flex:1,padding:'0.5rem',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(59, 130, 246, 0.3)',borderRadius:'6px',color:'#e8e8e8',fontSize:'14px'}}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleNivEdit(nivEditInput),disabled:!nivEditInput.trim(),style:{padding:'0.5rem 0.8rem',background:nivEditInput.trim()?'rgba(59, 130, 246, 0.2)':'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(59, 130, 246, 0.3)',borderRadius:'6px',color:nivEditInput.trim()?'#60a5fa':'#6b7280',cursor:nivEditInput.trim()?'pointer':'not-allowed',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'12px'},children:[/*#__PURE__*/_jsx(Sparkles,{size:14}),\"Ask Niv\"]})]}),isNivGenerating&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'rgba(16, 185, 129, 0.1)',borderBottom:'1px solid rgba(16, 185, 129, 0.2)',color:'#10b981',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-pulse\",children:/*#__PURE__*/_jsx(Bot,{size:16})}),\"Niv is generating content strategically...\"]}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1,padding:'1.5rem',overflow:'auto'},children:editMode?/*#__PURE__*/_jsx(\"textarea\",{value:content,onChange:e=>handleContentEdit(e.target.value),placeholder:\"Start typing or paste your content here...\",style:{width:'100%',height:'100%',background:'rgba(0, 0, 0, 0.5)',border:'2px solid #10b981',borderRadius:'8px',padding:'1rem',color:'#e8e8e8',fontSize:'14px',lineHeight:'1.6',fontFamily:'system-ui, -apple-system, sans-serif',resize:'none',minHeight:'300px',outline:'none',boxShadow:'0 0 0 3px rgba(16, 185, 129, 0.1)'}}):/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-wrap',fontSize:'14px',lineHeight:'1.6',color:'#e8e8e8',background:'rgba(0, 0, 0, 0.2)',padding:'1rem',borderRadius:'8px',minHeight:'300px'},children:content})}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem 1.5rem',borderTop:'1px solid rgba(255, 255, 255, 0.08)',background:'rgba(0, 0, 0, 0.3)',display:'flex',gap:'0.5rem',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,style:{padding:'0.5rem 1.5rem',background:saved?'rgba(16, 185, 129, 0.2)':'linear-gradient(135deg, #7c3aed 0%, #6366f1 100%)',border:saved?'1px solid rgba(16, 185, 129, 0.3)':'none',borderRadius:'6px',color:saved?'#10b981':'white',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'13px',fontWeight:'500'},children:[saved?/*#__PURE__*/_jsx(Check,{size:16}):/*#__PURE__*/_jsx(Save,{size:16}),saved?'Saved!':'Save to Memory Vault']}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownload,style:{padding:'0.5rem 1.5rem',background:'rgba(255, 255, 255, 0.05)',border:'1px solid rgba(255, 255, 255, 0.1)',borderRadius:'6px',color:'#9ca3af',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'13px',fontWeight:'500'},children:[/*#__PURE__*/_jsx(Download,{size:16}),\"Download\"]})]})]}):/*#__PURE__*//* Content Type Selector */_jsxs(\"div\",{style:{padding:'2rem',height:'100%',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(Sparkles,{size:48,style:{color:'#8b5cf6',marginBottom:'1rem'}}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'24px',fontWeight:'600',color:'#e8e8e8',marginBottom:'0.5rem'},children:\"Content Generator\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px',color:'#6b7280',margin:0},children:\"Select a content type to start the AI conversation\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',width:'100%',maxWidth:'800px'},children:contentTypes.map(type=>{const Icon=type.icon;return/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleContentTypeSelect(type),style:{padding:'1.5rem',background:'rgba(255, 255, 255, 0.03)',border:'1px solid rgba(255, 255, 255, 0.08)',borderRadius:'12px',color:'#e8e8e8',cursor:'pointer',display:'flex',flexDirection:'column',alignItems:'center',gap:'0.75rem',transition:'all 0.3s',textAlign:'center'},onMouseEnter:e=>{e.currentTarget.style.background=\"\".concat(type.color,\"10\");e.currentTarget.style.borderColor=\"\".concat(type.color,\"40\");e.currentTarget.style.transform='translateY(-4px)';},onMouseLeave:e=>{e.currentTarget.style.background='rgba(255, 255, 255, 0.03)';e.currentTarget.style.borderColor='rgba(255, 255, 255, 0.08)';e.currentTarget.style.transform='translateY(0)';},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'48px',height:'48px',borderRadius:'12px',background:\"\".concat(type.color,\"20\"),display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Icon,{size:24,style:{color:type.color}})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'16px',fontWeight:'600',marginBottom:'0.25rem'},children:type.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'13px',color:'#6b7280',lineHeight:'1.4'},children:type.description})]})]},type.id);})})]})});};export default ContentGeneratorModule;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}