{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/pages/NivDirect.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport nivDirectService from '../services/nivDirectService';\nimport '../components/NivRealtimeChat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NivDirect = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [artifacts, setArtifacts] = useState([]);\n  const [selectedArtifact, setSelectedArtifact] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [apiKeyModalOpen, setApiKeyModalOpen] = useState(false);\n  const [apiKeys, setApiKeys] = useState({\n    claude: localStorage.getItem('claude_api_key') || '',\n    openai: localStorage.getItem('openai_api_key') || ''\n  });\n  useEffect(() => {\n    // Load conversation history on mount\n    loadHistory();\n\n    // Add welcome message\n    setMessages([{\n      role: 'assistant',\n      content: \"Hi! I'm Niv, your PR strategist. I can help you create media lists, press releases, strategic plans, social content, key messaging, and FAQ documents. What would you like to work on today?\"\n    }]);\n\n    // Check if API keys are configured\n    if (!apiKeys.claude && !apiKeys.openai) {\n      setApiKeyModalOpen(true);\n    }\n  }, []);\n  const loadHistory = async () => {\n    const history = await nivDirectService.loadConversationHistory();\n    if (history.length > 0) {\n      setMessages(history);\n    }\n    const savedArtifacts = await nivDirectService.loadArtifacts();\n    setArtifacts(savedArtifacts);\n  };\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() || loading) return;\n    const userMessage = inputValue.trim();\n    setInputValue('');\n    setLoading(true);\n\n    // Add user message to chat\n    const newMessages = [...messages, {\n      role: 'user',\n      content: userMessage\n    }];\n    setMessages(newMessages);\n    try {\n      const response = await nivDirectService.processMessage(userMessage, messages);\n\n      // Add AI response\n      setMessages([...newMessages, {\n        role: 'assistant',\n        content: response.chatMessage\n      }]);\n\n      // Add artifact if created\n      if (response.artifact) {\n        setArtifacts(prev => [response.artifact, ...prev]);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages([...newMessages, {\n        role: 'assistant',\n        content: `Error: ${error.message}. Please configure your API keys in settings.`\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const saveApiKeys = () => {\n    localStorage.setItem('claude_api_key', apiKeys.claude);\n    localStorage.setItem('openai_api_key', apiKeys.openai);\n    nivDirectService.claudeApiKey = apiKeys.claude;\n    nivDirectService.openaiApiKey = apiKeys.openai;\n    setApiKeyModalOpen(false);\n  };\n  const renderArtifact = artifact => {\n    if (!artifact) return null;\n    const content = artifact.content;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        height: '100%',\n        overflowY: 'auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px',\n          borderBottom: '1px solid #e2e8f0',\n          paddingBottom: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0\n          },\n          children: artifact.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: '#64748b'\n          },\n          children: [\"Created: \", new Date(artifact.created).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          whiteSpace: 'pre-wrap',\n          lineHeight: '1.6'\n        },\n        children: typeof content === 'string' ? content : content.formatted || content.raw || JSON.stringify(content, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px',\n          padding: '10px',\n          backgroundColor: '#f8fafc',\n          borderRadius: '8px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const blob = new Blob([JSON.stringify(artifact, null, 2)], {\n              type: 'application/json'\n            });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = `${artifact.title.replace(/\\s+/g, '_')}.json`;\n            a.click();\n          },\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#3b82f6',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer',\n            marginRight: '10px'\n          },\n          children: \"Export\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigator.clipboard.writeText(typeof content === 'string' ? content : JSON.stringify(content, null, 2)),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#10b981',\n            color: 'white',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer'\n          },\n          children: \"Copy to Clipboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      height: '100vh',\n      backgroundColor: '#f8fafc'\n    },\n    children: [apiKeyModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0,0,0,0.5)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          padding: '30px',\n          borderRadius: '12px',\n          width: '500px',\n          boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Configure API Keys\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: '20px'\n          },\n          children: \"Add at least one API key to use Niv. Keys are stored locally in your browser.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: '500'\n            },\n            children: \"Claude API Key (Recommended)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: apiKeys.claude,\n            onChange: e => setApiKeys({\n              ...apiKeys,\n              claude: e.target.value\n            }),\n            placeholder: \"sk-ant-...\",\n            style: {\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #e2e8f0',\n              borderRadius: '6px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: '500'\n            },\n            children: \"OpenAI API Key (Fallback)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: apiKeys.openai,\n            onChange: e => setApiKeys({\n              ...apiKeys,\n              openai: e.target.value\n            }),\n            placeholder: \"sk-...\",\n            style: {\n              width: '100%',\n              padding: '10px',\n              border: '1px solid #e2e8f0',\n              borderRadius: '6px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setApiKeyModalOpen(false),\n            style: {\n              padding: '10px 20px',\n              border: '1px solid #e2e8f0',\n              backgroundColor: 'white',\n              borderRadius: '6px',\n              cursor: 'pointer'\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: saveApiKeys,\n            disabled: !apiKeys.claude && !apiKeys.openai,\n            style: {\n              padding: '10px 20px',\n              backgroundColor: apiKeys.claude || apiKeys.openai ? '#3b82f6' : '#cbd5e1',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: apiKeys.claude || apiKeys.openai ? 'pointer' : 'not-allowed'\n            },\n            children: \"Save Keys\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        borderRight: '1px solid #e2e8f0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          backgroundColor: 'white',\n          borderBottom: '1px solid #e2e8f0',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            margin: 0,\n            fontSize: '24px'\n          },\n          children: \"Niv - PR Strategist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setApiKeyModalOpen(true),\n          style: {\n            padding: '8px 16px',\n            backgroundColor: '#f1f5f9',\n            border: '1px solid #e2e8f0',\n            borderRadius: '6px',\n            cursor: 'pointer'\n          },\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          padding: '20px'\n        },\n        children: [messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '16px',\n            display: 'flex',\n            justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxWidth: '70%',\n              padding: '12px 16px',\n              borderRadius: '12px',\n              backgroundColor: msg.role === 'user' ? '#3b82f6' : 'white',\n              color: msg.role === 'user' ? 'white' : '#1e293b',\n              border: msg.role === 'assistant' ? '1px solid #e2e8f0' : 'none',\n              whiteSpace: 'pre-wrap'\n            },\n            children: msg.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this)\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-start'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: '12px 16px',\n              borderRadius: '12px',\n              backgroundColor: 'white',\n              border: '1px solid #e2e8f0'\n            },\n            children: \"Thinking...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          backgroundColor: 'white',\n          borderTop: '1px solid #e2e8f0'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: inputValue,\n            onChange: e => setInputValue(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && !e.shiftKey && handleSendMessage(),\n            placeholder: \"Ask Niv anything about PR strategy...\",\n            disabled: loading,\n            style: {\n              flex: 1,\n              padding: '12px',\n              border: '1px solid #e2e8f0',\n              borderRadius: '8px',\n              fontSize: '14px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSendMessage,\n            disabled: loading || !inputValue.trim(),\n            style: {\n              padding: '12px 24px',\n              backgroundColor: loading || !inputValue.trim() ? '#cbd5e1' : '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '8px',\n              cursor: loading || !inputValue.trim() ? 'not-allowed' : 'pointer'\n            },\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '400px',\n        backgroundColor: 'white',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          borderBottom: '1px solid #e2e8f0'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0,\n            fontSize: '18px'\n          },\n          children: \"Artifacts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto'\n        },\n        children: artifacts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '20px',\n            textAlign: 'center',\n            color: '#64748b'\n          },\n          children: \"No artifacts yet. Ask Niv to create PR materials.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px'\n          },\n          children: artifacts.map(artifact => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setSelectedArtifact(artifact),\n            style: {\n              padding: '12px',\n              marginBottom: '8px',\n              backgroundColor: (selectedArtifact === null || selectedArtifact === void 0 ? void 0 : selectedArtifact.id) === artifact.id ? '#eff6ff' : '#f8fafc',\n              border: `1px solid ${(selectedArtifact === null || selectedArtifact === void 0 ? void 0 : selectedArtifact.id) === artifact.id ? '#3b82f6' : '#e2e8f0'}`,\n              borderRadius: '8px',\n              cursor: 'pointer',\n              transition: 'all 0.2s'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: '500',\n                marginBottom: '4px'\n              },\n              children: artifact.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '12px',\n                color: '#64748b'\n              },\n              children: new Date(artifact.created).toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 19\n            }, this)]\n          }, artifact.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), selectedArtifact && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '600px',\n        backgroundColor: 'white',\n        borderLeft: '1px solid #e2e8f0',\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '20px',\n          borderBottom: '1px solid #e2e8f0',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            margin: 0,\n            fontSize: '18px'\n          },\n          children: \"Workspace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSelectedArtifact(null),\n          style: {\n            padding: '6px 12px',\n            backgroundColor: '#f1f5f9',\n            border: 'none',\n            borderRadius: '6px',\n            cursor: 'pointer'\n          },\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto'\n        },\n        children: renderArtifact(selectedArtifact)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 5\n  }, this);\n};\n_s(NivDirect, \"Fna057X9z24Br1Zu3/BizY+jDF8=\");\n_c = NivDirect;\nexport default NivDirect;\nvar _c;\n$RefreshReg$(_c, \"NivDirect\");","map":{"version":3,"names":["React","useState","useEffect","nivDirectService","jsxDEV","_jsxDEV","NivDirect","_s","messages","setMessages","artifacts","setArtifacts","selectedArtifact","setSelectedArtifact","loading","setLoading","inputValue","setInputValue","apiKeyModalOpen","setApiKeyModalOpen","apiKeys","setApiKeys","claude","localStorage","getItem","openai","loadHistory","role","content","history","loadConversationHistory","length","savedArtifacts","loadArtifacts","handleSendMessage","trim","userMessage","newMessages","response","processMessage","chatMessage","artifact","prev","error","console","message","saveApiKeys","setItem","claudeApiKey","openaiApiKey","renderArtifact","style","padding","height","overflowY","children","marginBottom","borderBottom","paddingBottom","margin","title","fileName","_jsxFileName","lineNumber","columnNumber","color","Date","created","toLocaleString","whiteSpace","lineHeight","formatted","raw","JSON","stringify","marginTop","backgroundColor","borderRadius","onClick","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","replace","click","border","cursor","marginRight","navigator","clipboard","writeText","display","position","top","left","right","bottom","alignItems","justifyContent","zIndex","width","boxShadow","fontWeight","value","onChange","e","target","placeholder","gap","disabled","flex","flexDirection","borderRight","fontSize","map","msg","idx","maxWidth","borderTop","onKeyPress","key","shiftKey","textAlign","id","transition","toLocaleTimeString","borderLeft","_c","$RefreshReg$"],"sources":["/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/pages/NivDirect.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport nivDirectService from '../services/nivDirectService';\nimport '../components/NivRealtimeChat.css';\n\nconst NivDirect = () => {\n  const [messages, setMessages] = useState([]);\n  const [artifacts, setArtifacts] = useState([]);\n  const [selectedArtifact, setSelectedArtifact] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const [apiKeyModalOpen, setApiKeyModalOpen] = useState(false);\n  const [apiKeys, setApiKeys] = useState({\n    claude: localStorage.getItem('claude_api_key') || '',\n    openai: localStorage.getItem('openai_api_key') || ''\n  });\n\n  useEffect(() => {\n    // Load conversation history on mount\n    loadHistory();\n    \n    // Add welcome message\n    setMessages([{\n      role: 'assistant',\n      content: \"Hi! I'm Niv, your PR strategist. I can help you create media lists, press releases, strategic plans, social content, key messaging, and FAQ documents. What would you like to work on today?\"\n    }]);\n\n    // Check if API keys are configured\n    if (!apiKeys.claude && !apiKeys.openai) {\n      setApiKeyModalOpen(true);\n    }\n  }, []);\n\n  const loadHistory = async () => {\n    const history = await nivDirectService.loadConversationHistory();\n    if (history.length > 0) {\n      setMessages(history);\n    }\n    \n    const savedArtifacts = await nivDirectService.loadArtifacts();\n    setArtifacts(savedArtifacts);\n  };\n\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() || loading) return;\n\n    const userMessage = inputValue.trim();\n    setInputValue('');\n    setLoading(true);\n\n    // Add user message to chat\n    const newMessages = [...messages, { role: 'user', content: userMessage }];\n    setMessages(newMessages);\n\n    try {\n      const response = await nivDirectService.processMessage(userMessage, messages);\n      \n      // Add AI response\n      setMessages([...newMessages, { \n        role: 'assistant', \n        content: response.chatMessage \n      }]);\n\n      // Add artifact if created\n      if (response.artifact) {\n        setArtifacts(prev => [response.artifact, ...prev]);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages([...newMessages, {\n        role: 'assistant',\n        content: `Error: ${error.message}. Please configure your API keys in settings.`\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const saveApiKeys = () => {\n    localStorage.setItem('claude_api_key', apiKeys.claude);\n    localStorage.setItem('openai_api_key', apiKeys.openai);\n    nivDirectService.claudeApiKey = apiKeys.claude;\n    nivDirectService.openaiApiKey = apiKeys.openai;\n    setApiKeyModalOpen(false);\n  };\n\n  const renderArtifact = (artifact) => {\n    if (!artifact) return null;\n\n    const content = artifact.content;\n    \n    return (\n      <div style={{ padding: '20px', height: '100%', overflowY: 'auto' }}>\n        <div style={{ marginBottom: '20px', borderBottom: '1px solid #e2e8f0', paddingBottom: '10px' }}>\n          <h2 style={{ margin: 0 }}>{artifact.title}</h2>\n          <small style={{ color: '#64748b' }}>\n            Created: {new Date(artifact.created).toLocaleString()}\n          </small>\n        </div>\n        \n        <div style={{ whiteSpace: 'pre-wrap', lineHeight: '1.6' }}>\n          {typeof content === 'string' ? content : content.formatted || content.raw || JSON.stringify(content, null, 2)}\n        </div>\n\n        <div style={{ marginTop: '20px', padding: '10px', backgroundColor: '#f8fafc', borderRadius: '8px' }}>\n          <button\n            onClick={() => {\n              const blob = new Blob([JSON.stringify(artifact, null, 2)], { type: 'application/json' });\n              const url = URL.createObjectURL(blob);\n              const a = document.createElement('a');\n              a.href = url;\n              a.download = `${artifact.title.replace(/\\s+/g, '_')}.json`;\n              a.click();\n            }}\n            style={{\n              padding: '8px 16px',\n              backgroundColor: '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              marginRight: '10px'\n            }}\n          >\n            Export\n          </button>\n          <button\n            onClick={() => navigator.clipboard.writeText(\n              typeof content === 'string' ? content : JSON.stringify(content, null, 2)\n            )}\n            style={{\n              padding: '8px 16px',\n              backgroundColor: '#10b981',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: 'pointer'\n            }}\n          >\n            Copy to Clipboard\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div style={{ display: 'flex', height: '100vh', backgroundColor: '#f8fafc' }}>\n      {/* API Key Modal */}\n      {apiKeyModalOpen && (\n        <div style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0,0,0,0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000\n        }}>\n          <div style={{\n            backgroundColor: 'white',\n            padding: '30px',\n            borderRadius: '12px',\n            width: '500px',\n            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)'\n          }}>\n            <h2>Configure API Keys</h2>\n            <p style={{ color: '#64748b', marginBottom: '20px' }}>\n              Add at least one API key to use Niv. Keys are stored locally in your browser.\n            </p>\n            \n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n                Claude API Key (Recommended)\n              </label>\n              <input\n                type=\"password\"\n                value={apiKeys.claude}\n                onChange={(e) => setApiKeys({ ...apiKeys, claude: e.target.value })}\n                placeholder=\"sk-ant-...\"\n                style={{\n                  width: '100%',\n                  padding: '10px',\n                  border: '1px solid #e2e8f0',\n                  borderRadius: '6px'\n                }}\n              />\n            </div>\n\n            <div style={{ marginBottom: '20px' }}>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: '500' }}>\n                OpenAI API Key (Fallback)\n              </label>\n              <input\n                type=\"password\"\n                value={apiKeys.openai}\n                onChange={(e) => setApiKeys({ ...apiKeys, openai: e.target.value })}\n                placeholder=\"sk-...\"\n                style={{\n                  width: '100%',\n                  padding: '10px',\n                  border: '1px solid #e2e8f0',\n                  borderRadius: '6px'\n                }}\n              />\n            </div>\n\n            <div style={{ display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n              <button\n                onClick={() => setApiKeyModalOpen(false)}\n                style={{\n                  padding: '10px 20px',\n                  border: '1px solid #e2e8f0',\n                  backgroundColor: 'white',\n                  borderRadius: '6px',\n                  cursor: 'pointer'\n                }}\n              >\n                Cancel\n              </button>\n              <button\n                onClick={saveApiKeys}\n                disabled={!apiKeys.claude && !apiKeys.openai}\n                style={{\n                  padding: '10px 20px',\n                  backgroundColor: apiKeys.claude || apiKeys.openai ? '#3b82f6' : '#cbd5e1',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '6px',\n                  cursor: apiKeys.claude || apiKeys.openai ? 'pointer' : 'not-allowed'\n                }}\n              >\n                Save Keys\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Chat Panel */}\n      <div style={{ flex: 1, display: 'flex', flexDirection: 'column', borderRight: '1px solid #e2e8f0' }}>\n        <div style={{ \n          padding: '20px', \n          backgroundColor: 'white', \n          borderBottom: '1px solid #e2e8f0',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <h1 style={{ margin: 0, fontSize: '24px' }}>Niv - PR Strategist</h1>\n          <button\n            onClick={() => setApiKeyModalOpen(true)}\n            style={{\n              padding: '8px 16px',\n              backgroundColor: '#f1f5f9',\n              border: '1px solid #e2e8f0',\n              borderRadius: '6px',\n              cursor: 'pointer'\n            }}\n          >\n            Settings\n          </button>\n        </div>\n\n        <div style={{ flex: 1, overflowY: 'auto', padding: '20px' }}>\n          {messages.map((msg, idx) => (\n            <div\n              key={idx}\n              style={{\n                marginBottom: '16px',\n                display: 'flex',\n                justifyContent: msg.role === 'user' ? 'flex-end' : 'flex-start'\n              }}\n            >\n              <div\n                style={{\n                  maxWidth: '70%',\n                  padding: '12px 16px',\n                  borderRadius: '12px',\n                  backgroundColor: msg.role === 'user' ? '#3b82f6' : 'white',\n                  color: msg.role === 'user' ? 'white' : '#1e293b',\n                  border: msg.role === 'assistant' ? '1px solid #e2e8f0' : 'none',\n                  whiteSpace: 'pre-wrap'\n                }}\n              >\n                {msg.content}\n              </div>\n            </div>\n          ))}\n          {loading && (\n            <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\n              <div style={{\n                padding: '12px 16px',\n                borderRadius: '12px',\n                backgroundColor: 'white',\n                border: '1px solid #e2e8f0'\n              }}>\n                Thinking...\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div style={{ padding: '20px', backgroundColor: 'white', borderTop: '1px solid #e2e8f0' }}>\n          <div style={{ display: 'flex', gap: '10px' }}>\n            <input\n              type=\"text\"\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && handleSendMessage()}\n              placeholder=\"Ask Niv anything about PR strategy...\"\n              disabled={loading}\n              style={{\n                flex: 1,\n                padding: '12px',\n                border: '1px solid #e2e8f0',\n                borderRadius: '8px',\n                fontSize: '14px'\n              }}\n            />\n            <button\n              onClick={handleSendMessage}\n              disabled={loading || !inputValue.trim()}\n              style={{\n                padding: '12px 24px',\n                backgroundColor: loading || !inputValue.trim() ? '#cbd5e1' : '#3b82f6',\n                color: 'white',\n                border: 'none',\n                borderRadius: '8px',\n                cursor: loading || !inputValue.trim() ? 'not-allowed' : 'pointer'\n              }}\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Artifacts Panel */}\n      <div style={{ width: '400px', backgroundColor: 'white', display: 'flex', flexDirection: 'column' }}>\n        <div style={{ padding: '20px', borderBottom: '1px solid #e2e8f0' }}>\n          <h2 style={{ margin: 0, fontSize: '18px' }}>Artifacts</h2>\n        </div>\n        \n        <div style={{ flex: 1, overflowY: 'auto' }}>\n          {artifacts.length === 0 ? (\n            <div style={{ padding: '20px', textAlign: 'center', color: '#64748b' }}>\n              No artifacts yet. Ask Niv to create PR materials.\n            </div>\n          ) : (\n            <div style={{ padding: '10px' }}>\n              {artifacts.map((artifact) => (\n                <div\n                  key={artifact.id}\n                  onClick={() => setSelectedArtifact(artifact)}\n                  style={{\n                    padding: '12px',\n                    marginBottom: '8px',\n                    backgroundColor: selectedArtifact?.id === artifact.id ? '#eff6ff' : '#f8fafc',\n                    border: `1px solid ${selectedArtifact?.id === artifact.id ? '#3b82f6' : '#e2e8f0'}`,\n                    borderRadius: '8px',\n                    cursor: 'pointer',\n                    transition: 'all 0.2s'\n                  }}\n                >\n                  <div style={{ fontWeight: '500', marginBottom: '4px' }}>{artifact.title}</div>\n                  <div style={{ fontSize: '12px', color: '#64748b' }}>\n                    {new Date(artifact.created).toLocaleTimeString()}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Workspace Panel */}\n      {selectedArtifact && (\n        <div style={{ \n          width: '600px', \n          backgroundColor: 'white', \n          borderLeft: '1px solid #e2e8f0',\n          display: 'flex',\n          flexDirection: 'column'\n        }}>\n          <div style={{ \n            padding: '20px', \n            borderBottom: '1px solid #e2e8f0',\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          }}>\n            <h2 style={{ margin: 0, fontSize: '18px' }}>Workspace</h2>\n            <button\n              onClick={() => setSelectedArtifact(null)}\n              style={{\n                padding: '6px 12px',\n                backgroundColor: '#f1f5f9',\n                border: 'none',\n                borderRadius: '6px',\n                cursor: 'pointer'\n              }}\n            >\n              Close\n            </button>\n          </div>\n          \n          <div style={{ flex: 1, overflowY: 'auto' }}>\n            {renderArtifact(selectedArtifact)}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default NivDirect;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}