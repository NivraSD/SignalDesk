{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/StakeholderIntelligence/StakeholderAIAdvisor.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { MessageCircle, HelpCircle, Send, X, Sparkles, Users, TrendingUp, Shield, AlertCircle } from 'lucide-react';\nimport API_BASE_URL from '../../config/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StakeholderAIAdvisor = ({\n  stakeholderStrategy,\n  priorityStakeholders,\n  intelligenceFindings,\n  context = 'insights',\n  onSourceSuggestion\n}) => {\n  _s();\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [showHelp, setShowHelp] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Get stakeholder names for context\n  const getStakeholderNames = () => {\n    if (!(stakeholderStrategy !== null && stakeholderStrategy !== void 0 && stakeholderStrategy.stakeholderGroups)) return [];\n    return priorityStakeholders.map(id => {\n      const stakeholder = stakeholderStrategy.stakeholderGroups.find(s => String(s.id || s.name) === id);\n      return stakeholder === null || stakeholder === void 0 ? void 0 : stakeholder.name;\n    }).filter(Boolean);\n  };\n\n  // Example prompts based on context\n  const getContextualPrompts = () => {\n    const stakeholderNames = getStakeholderNames();\n    const prompts = [];\n    if (context === 'source_configuration') {\n      var _stakeholderStrategy$;\n      // Source configuration specific prompts\n      if (stakeholderNames.length > 0) {\n        prompts.push({\n          icon: Users,\n          text: `Find sources for ${stakeholderNames[0]}`,\n          query: `What are the best sources to monitor for information about ${stakeholderNames[0]}?`\n        });\n      }\n      prompts.push({\n        icon: Sparkles,\n        text: \"Suggest industry sources\",\n        query: `What are the key industry publications and sources for ${(stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : (_stakeholderStrategy$ = stakeholderStrategy.profile) === null || _stakeholderStrategy$ === void 0 ? void 0 : _stakeholderStrategy$.industry) || 'our industry'}?`\n      });\n      prompts.push({\n        icon: Shield,\n        text: \"Find regulatory sources\",\n        query: \"What regulatory and compliance sources should we monitor?\"\n      });\n      prompts.push({\n        icon: TrendingUp,\n        text: \"Social media monitoring\",\n        query: \"Which social media platforms and accounts should we monitor for stakeholder insights?\"\n      });\n    } else {\n      // Strategic insights prompts\n      if (stakeholderNames.length > 0) {\n        prompts.push({\n          icon: Users,\n          text: `How should I engage with ${stakeholderNames[0]}?`,\n          query: `What's the best approach to engage with ${stakeholderNames[0]} given their influence and current sentiment?`\n        });\n      }\n      if (intelligenceFindings.length > 0) {\n        prompts.push({\n          icon: TrendingUp,\n          text: \"What are the sentiment trends?\",\n          query: \"Based on recent intelligence, what are the key sentiment trends across our stakeholders?\"\n        });\n      }\n      prompts.push({\n        icon: Shield,\n        text: \"Identify relationship risks\",\n        query: \"What are the main risks in our stakeholder relationships and how can we mitigate them?\"\n      });\n      prompts.push({\n        icon: Sparkles,\n        text: \"Suggest quick wins\",\n        query: \"What are some quick wins to improve stakeholder relationships?\"\n      });\n    }\n    return prompts;\n  };\n  const sendMessage = async message => {\n    if (!message.trim()) return;\n    const userMessage = {\n      role: 'user',\n      content: message\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n    try {\n      var _stakeholderStrategy$2, _stakeholderStrategy$3, _stakeholderStrategy$4;\n      // Build context for the AI\n      const contextData = {\n        company: (stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : (_stakeholderStrategy$2 = stakeholderStrategy.profile) === null || _stakeholderStrategy$2 === void 0 ? void 0 : _stakeholderStrategy$2.company) || 'the organization',\n        industry: (stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : (_stakeholderStrategy$3 = stakeholderStrategy.profile) === null || _stakeholderStrategy$3 === void 0 ? void 0 : _stakeholderStrategy$3.industry) || 'your industry',\n        stakeholders: (stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : stakeholderStrategy.stakeholderGroups) || [],\n        priorityStakeholders: getStakeholderNames(),\n        recentFindings: intelligenceFindings.slice(0, 5),\n        overview: stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : stakeholderStrategy.overview,\n        stakeholderTopics: stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : (_stakeholderStrategy$4 = stakeholderStrategy.stakeholderGroups) === null || _stakeholderStrategy$4 === void 0 ? void 0 : _stakeholderStrategy$4.reduce((acc, s) => {\n          if (s.topics && s.topics.length > 0) {\n            acc[s.name] = {\n              topics: s.topics,\n              goals: s.goals,\n              fears: s.fears\n            };\n          }\n          return acc;\n        }, {})\n      };\n      const response = await fetch(`${API_BASE_URL}/ai/advisor`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: message,\n          context: {\n            ...contextData,\n            type: context === 'source_configuration' ? 'source_discovery' : 'stakeholder_advice',\n            stakeholders: (stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : stakeholderStrategy.stakeholderGroups) || []\n          },\n          conversationHistory: messages\n        })\n      });\n      if (!response.ok) throw new Error('Failed to get AI response');\n      const data = await response.json();\n      const aiMessage = {\n        role: 'assistant',\n        content: data.response || data.message || 'I can help you understand and manage your stakeholder relationships. What would you like to know?'\n      };\n      setMessages(prev => [...prev, aiMessage]);\n\n      // Check if response contains source suggestions\n      if (context === 'source_configuration' && data.sources && onSourceSuggestion) {\n        // Parse source suggestions from AI response\n        data.sources.forEach(source => {\n          if (source.stakeholderId && source.url && source.name) {\n            onSourceSuggestion({\n              stakeholderId: source.stakeholderId,\n              source: {\n                name: source.name,\n                url: source.url,\n                type: source.type || 'web',\n                extractionMethod: source.extractionMethod || 'auto'\n              }\n            });\n          }\n        });\n      }\n    } catch (error) {\n      console.error('AI Advisor error:', error);\n      // Provide helpful fallback response\n      const fallbackMessage = {\n        role: 'assistant',\n        content: generateFallbackResponse(message)\n      };\n      setMessages(prev => [...prev, fallbackMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const generateFallbackResponse = query => {\n    const lowerQuery = query.toLowerCase();\n    if (context === 'source_configuration') {\n      // Source configuration specific fallback responses\n      if (lowerQuery.includes('source') || lowerQuery.includes('monitor')) {\n        var _stakeholderStrategy$5, _stakeholderStrategy$6, _stakeholderStrategy$7, _stakeholderStrategy$8;\n        const stakeholderName = (stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : (_stakeholderStrategy$5 = stakeholderStrategy.stakeholderGroups) === null || _stakeholderStrategy$5 === void 0 ? void 0 : (_stakeholderStrategy$6 = _stakeholderStrategy$5[0]) === null || _stakeholderStrategy$6 === void 0 ? void 0 : _stakeholderStrategy$6.name) || 'stakeholders';\n        const topics = (stakeholderStrategy === null || stakeholderStrategy === void 0 ? void 0 : (_stakeholderStrategy$7 = stakeholderStrategy.stakeholderGroups) === null || _stakeholderStrategy$7 === void 0 ? void 0 : (_stakeholderStrategy$8 = _stakeholderStrategy$7[0]) === null || _stakeholderStrategy$8 === void 0 ? void 0 : _stakeholderStrategy$8.topics) || [];\n        const topicsText = topics.length > 0 ? `\\n\\nBased on your tracked topics (${topics.join(', ')}), I recommend setting up alerts and filters for these specific keywords when configuring sources.` : '';\n        return `Here are some recommended sources for monitoring ${stakeholderName}:${topicsText}\\n\\n**News & Media**\\n• Google News alerts for \"${stakeholderName}\"\\n• Industry-specific publications\\n• Press release distribution sites\\n\\n**Social Media**\\n• Twitter/X - Follow relevant accounts and hashtags\\n• LinkedIn - Company pages and industry groups\\n• Reddit - Relevant subreddits\\n\\n**Regulatory & Official**\\n• Government websites and databases\\n• SEC filings (for public companies)\\n• Industry regulatory bodies\\n\\n**Analytics & Data**\\n• Google Trends for keyword tracking\\n• Industry research reports\\n• Market intelligence platforms\\n\\nWould you like specific recommendations for any of these categories?`;\n      }\n      if (lowerQuery.includes('industry') || lowerQuery.includes('publication')) {\n        return `Key industry sources to monitor:\\n\\n**General Business**\\n• Wall Street Journal\\n• Financial Times\\n• Bloomberg\\n• Reuters\\n\\n**Tech Industry**\\n• TechCrunch\\n• The Verge\\n• Wired\\n• VentureBeat\\n\\n**Trade Publications**\\n• Industry-specific magazines\\n• Professional association publications\\n• Conference proceedings\\n\\n**Research**\\n• Gartner reports\\n• Forrester research\\n• Industry analyst firms\\n\\nI can provide more specific recommendations based on your industry.`;\n      }\n      return `I can help you find the best sources to monitor your stakeholders. Try asking:\\n\\n• \"What sources should I monitor for [stakeholder name]?\"\\n• \"Find social media accounts for [industry] influencers\"\\n• \"What regulatory sources are important for [industry]?\"\\n• \"Suggest news sources for tracking [topic]\"\\n\\nWhat would you like to explore?`;\n    } else {\n      // Original fallback responses for strategic insights\n      if (lowerQuery.includes('engage') || lowerQuery.includes('approach')) {\n        return \"To effectively engage stakeholders:\\n\\n1. **Understand their priorities** - Review their concerns and interests\\n2. **Tailor your communication** - Use language and channels they prefer\\n3. **Show value alignment** - Demonstrate how your goals align with theirs\\n4. **Be consistent** - Regular, transparent communication builds trust\\n5. **Listen actively** - Their feedback is crucial for relationship building\";\n      }\n      if (lowerQuery.includes('sentiment') || lowerQuery.includes('trend')) {\n        return \"To analyze stakeholder sentiment:\\n\\n1. **Monitor consistently** - Track mentions and feedback regularly\\n2. **Look for patterns** - Identify recurring themes in their communications\\n3. **Compare over time** - Note changes in tone or engagement levels\\n4. **Segment by group** - Different stakeholders may have different concerns\\n5. **Act on insights** - Use sentiment data to adjust your approach\";\n      }\n      if (lowerQuery.includes('risk')) {\n        return \"Key stakeholder relationship risks to monitor:\\n\\n1. **Communication gaps** - Lack of regular engagement\\n2. **Misaligned expectations** - Different views on outcomes\\n3. **Influence changes** - Shifts in stakeholder power dynamics\\n4. **Negative sentiment** - Growing dissatisfaction or concerns\\n5. **Competitive pressure** - Other organizations courting your stakeholders\";\n      }\n      if (lowerQuery.includes('quick win') || lowerQuery.includes('improve')) {\n        return \"Quick wins for stakeholder relationships:\\n\\n1. **Personal outreach** - Send personalized updates to key stakeholders\\n2. **Acknowledge concerns** - Show you're listening to their feedback\\n3. **Share successes** - Celebrate wins that benefit them\\n4. **Simplify processes** - Make it easier for them to work with you\\n5. **Surprise positively** - Exceed expectations in small ways\";\n      }\n      return \"I can help you with:\\n\\n• Stakeholder engagement strategies\\n• Sentiment analysis and trends\\n• Relationship risk management\\n• Communication planning\\n• Influence mapping\\n\\nWhat specific aspect of stakeholder management would you like to explore?\";\n    }\n  };\n  if (!isOpen) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: 'white',\n        borderRadius: '0.75rem',\n        padding: '1.5rem',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n        cursor: 'pointer',\n        transition: 'all 0.2s'\n      },\n      onClick: () => setIsOpen(true),\n      onMouseEnter: e => e.currentTarget.style.transform = 'translateY(-2px)',\n      onMouseLeave: e => e.currentTarget.style.transform = 'translateY(0)',\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.75rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '48px',\n            height: '48px',\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n            borderRadius: '12px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(MessageCircle, {\n            style: {\n              width: '24px',\n              height: '24px',\n              color: 'white'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: 0,\n              fontSize: '1.125rem',\n              fontWeight: '600',\n              color: '#111827'\n            },\n            children: \"AI Stakeholder Advisor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: '0.25rem 0 0 0',\n              fontSize: '0.875rem',\n              color: '#6b7280'\n            },\n            children: context === 'source_configuration' ? 'Get help finding sources to monitor your stakeholders' : 'Get insights and advice on managing stakeholder relationships'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Sparkles, {\n          style: {\n            width: '20px',\n            height: '20px',\n            color: '#9333ea'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: 'white',\n      borderRadius: '0.75rem',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      height: '450px',\n      gridColumn: 'span 2',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '1rem 1.5rem',\n        borderBottom: '1px solid #e5e7eb',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n          style: {\n            width: '20px',\n            height: '20px',\n            color: '#9333ea'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            fontSize: '1.125rem',\n            fontWeight: '600',\n            color: '#111827'\n          },\n          children: \"AI Stakeholder Advisor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowHelp(!showHelp),\n          style: {\n            padding: '0.5rem',\n            background: showHelp ? '#f3f4f6' : 'transparent',\n            border: 'none',\n            borderRadius: '0.375rem',\n            cursor: 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(HelpCircle, {\n            style: {\n              width: '18px',\n              height: '18px',\n              color: '#9333ea'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsOpen(false),\n          style: {\n            padding: '0.5rem',\n            background: 'transparent',\n            border: 'none',\n            cursor: 'pointer',\n            color: '#6b7280'\n          },\n          children: /*#__PURE__*/_jsxDEV(X, {\n            style: {\n              width: '20px',\n              height: '20px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), showHelp && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '60px',\n        right: '1rem',\n        width: '320px',\n        background: 'white',\n        border: '1px solid #e5e7eb',\n        borderRadius: '0.5rem',\n        boxShadow: '0 10px 25px rgba(0,0,0,0.1)',\n        padding: '1rem',\n        zIndex: 50\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '0.75rem'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            margin: '0 0 0.5rem 0',\n            fontSize: '0.875rem',\n            fontWeight: '600'\n          },\n          children: \"Suggested Questions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: '0.5rem'\n        },\n        children: getContextualPrompts().map((prompt, idx) => {\n          const Icon = prompt.icon;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setInputValue(prompt.query);\n              setShowHelp(false);\n            },\n            style: {\n              padding: '0.75rem',\n              background: '#f9fafb',\n              border: '1px solid #e5e7eb',\n              borderRadius: '0.375rem',\n              cursor: 'pointer',\n              textAlign: 'left',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '0.5rem',\n              transition: 'all 0.2s'\n            },\n            onMouseEnter: e => {\n              e.currentTarget.style.background = '#f3f4f6';\n              e.currentTarget.style.borderColor = '#9333ea';\n            },\n            onMouseLeave: e => {\n              e.currentTarget.style.background = '#f9fafb';\n              e.currentTarget.style.borderColor = '#e5e7eb';\n            },\n            children: [/*#__PURE__*/_jsxDEV(Icon, {\n              style: {\n                width: '16px',\n                height: '16px',\n                color: '#9333ea',\n                flexShrink: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: '0.875rem',\n                color: '#374151'\n              },\n              children: prompt.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        overflowY: 'auto',\n        padding: '1.5rem',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '1rem'\n      },\n      children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '2rem',\n          color: '#9ca3af'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n          style: {\n            width: '48px',\n            height: '48px',\n            margin: '0 auto 1rem',\n            opacity: 0.5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            marginBottom: '1rem'\n          },\n          children: context === 'source_configuration' ? \"I'm here to help you find the best sources to monitor your stakeholders.\" : \"I'm here to help you understand and improve stakeholder relationships.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '0.875rem'\n          },\n          children: context === 'source_configuration' ? \"Ask me about news sources, social media accounts, or industry publications.\" : \"Ask me about engagement strategies, sentiment analysis, or relationship risks.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this) : messages.map((message, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: message.role === 'user' ? 'flex-end' : 'flex-start'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            maxWidth: '80%',\n            padding: '0.75rem 1rem',\n            background: message.role === 'user' ? '#9333ea' : '#f3f4f6',\n            color: message.role === 'user' ? 'white' : '#111827',\n            borderRadius: '0.75rem',\n            fontSize: '0.875rem',\n            lineHeight: '1.5',\n            whiteSpace: 'pre-wrap'\n          },\n          children: message.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 15\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 13\n      }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'flex-start'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '0.75rem 1rem',\n            background: '#f3f4f6',\n            borderRadius: '0.75rem',\n            display: 'flex',\n            gap: '0.25rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '8px',\n              height: '8px',\n              background: '#9333ea',\n              borderRadius: '50%',\n              animation: 'pulse 1.5s infinite'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '8px',\n              height: '8px',\n              background: '#9333ea',\n              borderRadius: '50%',\n              animation: 'pulse 1.5s infinite 0.2s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '8px',\n              height: '8px',\n              background: '#9333ea',\n              borderRadius: '50%',\n              animation: 'pulse 1.5s infinite 0.4s'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '1rem 1.5rem',\n        borderTop: '1px solid #e5e7eb',\n        display: 'flex',\n        gap: '0.75rem',\n        alignItems: 'flex-end'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        onKeyPress: e => {\n          if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage(inputValue);\n          }\n        },\n        placeholder: context === 'source_configuration' ? \"Ask about sources to monitor...\" : \"Ask about stakeholder strategies...\",\n        style: {\n          flex: 1,\n          padding: '0.75rem',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          fontSize: '0.875rem',\n          outline: 'none',\n          transition: 'border-color 0.2s',\n          resize: 'none',\n          minHeight: '42px',\n          maxHeight: '120px',\n          overflowY: 'auto',\n          fontFamily: 'inherit',\n          lineHeight: '1.5'\n        },\n        rows: 1,\n        onInput: e => {\n          e.target.style.height = 'auto';\n          e.target.style.height = Math.min(e.target.scrollHeight, 120) + 'px';\n        },\n        onFocus: e => e.target.style.borderColor = '#9333ea',\n        onBlur: e => e.target.style.borderColor = '#e5e7eb'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => sendMessage(inputValue),\n        disabled: !inputValue.trim() || isLoading,\n        style: {\n          padding: '0.75rem 1rem',\n          background: inputValue.trim() && !isLoading ? '#9333ea' : '#e5e7eb',\n          color: 'white',\n          border: 'none',\n          borderRadius: '0.5rem',\n          cursor: inputValue.trim() && !isLoading ? 'pointer' : 'default',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem',\n          transition: 'all 0.2s',\n          flexShrink: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(Send, {\n          style: {\n            width: '16px',\n            height: '16px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes pulse {\n          0%, 100% { opacity: 0.3; }\n          50% { opacity: 1; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 5\n  }, this);\n};\n_s(StakeholderAIAdvisor, \"3nhk7XNIZ2BeKR+eOQNswGbJfOA=\");\n_c = StakeholderAIAdvisor;\nexport default StakeholderAIAdvisor;\nvar _c;\n$RefreshReg$(_c, \"StakeholderAIAdvisor\");","map":{"version":3,"names":["React","useState","MessageCircle","HelpCircle","Send","X","Sparkles","Users","TrendingUp","Shield","AlertCircle","API_BASE_URL","jsxDEV","_jsxDEV","StakeholderAIAdvisor","stakeholderStrategy","priorityStakeholders","intelligenceFindings","context","onSourceSuggestion","_s","isOpen","setIsOpen","messages","setMessages","inputValue","setInputValue","showHelp","setShowHelp","isLoading","setIsLoading","getStakeholderNames","stakeholderGroups","map","id","stakeholder","find","s","String","name","filter","Boolean","getContextualPrompts","stakeholderNames","prompts","_stakeholderStrategy$","length","push","icon","text","query","profile","industry","sendMessage","message","trim","userMessage","role","content","prev","_stakeholderStrategy$2","_stakeholderStrategy$3","_stakeholderStrategy$4","contextData","company","stakeholders","recentFindings","slice","overview","stakeholderTopics","reduce","acc","topics","goals","fears","response","fetch","method","headers","localStorage","getItem","body","JSON","stringify","type","conversationHistory","ok","Error","data","json","aiMessage","sources","forEach","source","stakeholderId","url","extractionMethod","error","console","fallbackMessage","generateFallbackResponse","lowerQuery","toLowerCase","includes","_stakeholderStrategy$5","_stakeholderStrategy$6","_stakeholderStrategy$7","_stakeholderStrategy$8","stakeholderName","topicsText","join","style","background","borderRadius","padding","boxShadow","cursor","transition","onClick","onMouseEnter","e","currentTarget","transform","onMouseLeave","children","display","alignItems","gap","width","height","justifyContent","color","fileName","_jsxFileName","lineNumber","columnNumber","flex","margin","fontSize","fontWeight","gridColumn","flexDirection","position","borderBottom","border","top","right","zIndex","marginBottom","prompt","idx","Icon","textAlign","borderColor","flexShrink","overflowY","opacity","maxWidth","lineHeight","whiteSpace","animation","borderTop","value","onChange","target","onKeyPress","key","shiftKey","preventDefault","placeholder","outline","resize","minHeight","maxHeight","fontFamily","rows","onInput","Math","min","scrollHeight","onFocus","onBlur","disabled","jsx","_c","$RefreshReg$"],"sources":["/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/src/components/StakeholderIntelligence/StakeholderAIAdvisor.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { MessageCircle, HelpCircle, Send, X, Sparkles, Users, TrendingUp, Shield, AlertCircle } from 'lucide-react';\nimport API_BASE_URL from '../../config/api';\n\nconst StakeholderAIAdvisor = ({ stakeholderStrategy, priorityStakeholders, intelligenceFindings, context = 'insights', onSourceSuggestion }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [showHelp, setShowHelp] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Get stakeholder names for context\n  const getStakeholderNames = () => {\n    if (!stakeholderStrategy?.stakeholderGroups) return [];\n    return priorityStakeholders\n      .map(id => {\n        const stakeholder = stakeholderStrategy.stakeholderGroups.find(s => String(s.id || s.name) === id);\n        return stakeholder?.name;\n      })\n      .filter(Boolean);\n  };\n\n  // Example prompts based on context\n  const getContextualPrompts = () => {\n    const stakeholderNames = getStakeholderNames();\n    const prompts = [];\n\n    if (context === 'source_configuration') {\n      // Source configuration specific prompts\n      if (stakeholderNames.length > 0) {\n        prompts.push({\n          icon: Users,\n          text: `Find sources for ${stakeholderNames[0]}`,\n          query: `What are the best sources to monitor for information about ${stakeholderNames[0]}?`\n        });\n      }\n\n      prompts.push({\n        icon: Sparkles,\n        text: \"Suggest industry sources\",\n        query: `What are the key industry publications and sources for ${stakeholderStrategy?.profile?.industry || 'our industry'}?`\n      });\n\n      prompts.push({\n        icon: Shield,\n        text: \"Find regulatory sources\",\n        query: \"What regulatory and compliance sources should we monitor?\"\n      });\n\n      prompts.push({\n        icon: TrendingUp,\n        text: \"Social media monitoring\",\n        query: \"Which social media platforms and accounts should we monitor for stakeholder insights?\"\n      });\n    } else {\n      // Strategic insights prompts\n      if (stakeholderNames.length > 0) {\n        prompts.push({\n          icon: Users,\n          text: `How should I engage with ${stakeholderNames[0]}?`,\n          query: `What's the best approach to engage with ${stakeholderNames[0]} given their influence and current sentiment?`\n        });\n      }\n\n      if (intelligenceFindings.length > 0) {\n        prompts.push({\n          icon: TrendingUp,\n          text: \"What are the sentiment trends?\",\n          query: \"Based on recent intelligence, what are the key sentiment trends across our stakeholders?\"\n        });\n      }\n\n      prompts.push({\n        icon: Shield,\n        text: \"Identify relationship risks\",\n        query: \"What are the main risks in our stakeholder relationships and how can we mitigate them?\"\n      });\n\n      prompts.push({\n        icon: Sparkles,\n        text: \"Suggest quick wins\",\n        query: \"What are some quick wins to improve stakeholder relationships?\"\n      });\n    }\n\n    return prompts;\n  };\n\n  const sendMessage = async (message) => {\n    if (!message.trim()) return;\n\n    const userMessage = { role: 'user', content: message };\n    setMessages(prev => [...prev, userMessage]);\n    setInputValue('');\n    setIsLoading(true);\n\n    try {\n      // Build context for the AI\n      const contextData = {\n        company: stakeholderStrategy?.profile?.company || 'the organization',\n        industry: stakeholderStrategy?.profile?.industry || 'your industry',\n        stakeholders: stakeholderStrategy?.stakeholderGroups || [],\n        priorityStakeholders: getStakeholderNames(),\n        recentFindings: intelligenceFindings.slice(0, 5),\n        overview: stakeholderStrategy?.overview,\n        stakeholderTopics: stakeholderStrategy?.stakeholderGroups?.reduce((acc, s) => {\n          if (s.topics && s.topics.length > 0) {\n            acc[s.name] = {\n              topics: s.topics,\n              goals: s.goals,\n              fears: s.fears\n            };\n          }\n          return acc;\n        }, {})\n      };\n\n      const response = await fetch(`${API_BASE_URL}/ai/advisor`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${localStorage.getItem('token')}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          query: message,\n          context: {\n            ...contextData,\n            type: context === 'source_configuration' ? 'source_discovery' : 'stakeholder_advice',\n            stakeholders: stakeholderStrategy?.stakeholderGroups || []\n          },\n          conversationHistory: messages\n        })\n      });\n\n      if (!response.ok) throw new Error('Failed to get AI response');\n      \n      const data = await response.json();\n      const aiMessage = { \n        role: 'assistant', \n        content: data.response || data.message || 'I can help you understand and manage your stakeholder relationships. What would you like to know?'\n      };\n      \n      setMessages(prev => [...prev, aiMessage]);\n      \n      // Check if response contains source suggestions\n      if (context === 'source_configuration' && data.sources && onSourceSuggestion) {\n        // Parse source suggestions from AI response\n        data.sources.forEach(source => {\n          if (source.stakeholderId && source.url && source.name) {\n            onSourceSuggestion({\n              stakeholderId: source.stakeholderId,\n              source: {\n                name: source.name,\n                url: source.url,\n                type: source.type || 'web',\n                extractionMethod: source.extractionMethod || 'auto'\n              }\n            });\n          }\n        });\n      }\n    } catch (error) {\n      console.error('AI Advisor error:', error);\n      // Provide helpful fallback response\n      const fallbackMessage = {\n        role: 'assistant',\n        content: generateFallbackResponse(message)\n      };\n      setMessages(prev => [...prev, fallbackMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const generateFallbackResponse = (query) => {\n    const lowerQuery = query.toLowerCase();\n    \n    if (context === 'source_configuration') {\n      // Source configuration specific fallback responses\n      if (lowerQuery.includes('source') || lowerQuery.includes('monitor')) {\n        const stakeholderName = stakeholderStrategy?.stakeholderGroups?.[0]?.name || 'stakeholders';\n        const topics = stakeholderStrategy?.stakeholderGroups?.[0]?.topics || [];\n        const topicsText = topics.length > 0 ? `\\n\\nBased on your tracked topics (${topics.join(', ')}), I recommend setting up alerts and filters for these specific keywords when configuring sources.` : '';\n        \n        return `Here are some recommended sources for monitoring ${stakeholderName}:${topicsText}\\n\\n**News & Media**\\n• Google News alerts for \"${stakeholderName}\"\\n• Industry-specific publications\\n• Press release distribution sites\\n\\n**Social Media**\\n• Twitter/X - Follow relevant accounts and hashtags\\n• LinkedIn - Company pages and industry groups\\n• Reddit - Relevant subreddits\\n\\n**Regulatory & Official**\\n• Government websites and databases\\n• SEC filings (for public companies)\\n• Industry regulatory bodies\\n\\n**Analytics & Data**\\n• Google Trends for keyword tracking\\n• Industry research reports\\n• Market intelligence platforms\\n\\nWould you like specific recommendations for any of these categories?`;\n      }\n      \n      if (lowerQuery.includes('industry') || lowerQuery.includes('publication')) {\n        return `Key industry sources to monitor:\\n\\n**General Business**\\n• Wall Street Journal\\n• Financial Times\\n• Bloomberg\\n• Reuters\\n\\n**Tech Industry**\\n• TechCrunch\\n• The Verge\\n• Wired\\n• VentureBeat\\n\\n**Trade Publications**\\n• Industry-specific magazines\\n• Professional association publications\\n• Conference proceedings\\n\\n**Research**\\n• Gartner reports\\n• Forrester research\\n• Industry analyst firms\\n\\nI can provide more specific recommendations based on your industry.`;\n      }\n      \n      return `I can help you find the best sources to monitor your stakeholders. Try asking:\\n\\n• \"What sources should I monitor for [stakeholder name]?\"\\n• \"Find social media accounts for [industry] influencers\"\\n• \"What regulatory sources are important for [industry]?\"\\n• \"Suggest news sources for tracking [topic]\"\\n\\nWhat would you like to explore?`;\n    } else {\n      // Original fallback responses for strategic insights\n      if (lowerQuery.includes('engage') || lowerQuery.includes('approach')) {\n        return \"To effectively engage stakeholders:\\n\\n1. **Understand their priorities** - Review their concerns and interests\\n2. **Tailor your communication** - Use language and channels they prefer\\n3. **Show value alignment** - Demonstrate how your goals align with theirs\\n4. **Be consistent** - Regular, transparent communication builds trust\\n5. **Listen actively** - Their feedback is crucial for relationship building\";\n      }\n      \n      if (lowerQuery.includes('sentiment') || lowerQuery.includes('trend')) {\n        return \"To analyze stakeholder sentiment:\\n\\n1. **Monitor consistently** - Track mentions and feedback regularly\\n2. **Look for patterns** - Identify recurring themes in their communications\\n3. **Compare over time** - Note changes in tone or engagement levels\\n4. **Segment by group** - Different stakeholders may have different concerns\\n5. **Act on insights** - Use sentiment data to adjust your approach\";\n      }\n      \n      if (lowerQuery.includes('risk')) {\n        return \"Key stakeholder relationship risks to monitor:\\n\\n1. **Communication gaps** - Lack of regular engagement\\n2. **Misaligned expectations** - Different views on outcomes\\n3. **Influence changes** - Shifts in stakeholder power dynamics\\n4. **Negative sentiment** - Growing dissatisfaction or concerns\\n5. **Competitive pressure** - Other organizations courting your stakeholders\";\n      }\n      \n      if (lowerQuery.includes('quick win') || lowerQuery.includes('improve')) {\n        return \"Quick wins for stakeholder relationships:\\n\\n1. **Personal outreach** - Send personalized updates to key stakeholders\\n2. **Acknowledge concerns** - Show you're listening to their feedback\\n3. **Share successes** - Celebrate wins that benefit them\\n4. **Simplify processes** - Make it easier for them to work with you\\n5. **Surprise positively** - Exceed expectations in small ways\";\n      }\n      \n      return \"I can help you with:\\n\\n• Stakeholder engagement strategies\\n• Sentiment analysis and trends\\n• Relationship risk management\\n• Communication planning\\n• Influence mapping\\n\\nWhat specific aspect of stakeholder management would you like to explore?\";\n    }\n  };\n\n  if (!isOpen) {\n    return (\n      <div style={{\n        background: 'white',\n        borderRadius: '0.75rem',\n        padding: '1.5rem',\n        boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n        cursor: 'pointer',\n        transition: 'all 0.2s'\n      }}\n      onClick={() => setIsOpen(true)}\n      onMouseEnter={(e) => e.currentTarget.style.transform = 'translateY(-2px)'}\n      onMouseLeave={(e) => e.currentTarget.style.transform = 'translateY(0)'}\n      >\n        <div style={{ display: 'flex', alignItems: 'center', gap: '0.75rem' }}>\n          <div style={{\n            width: '48px',\n            height: '48px',\n            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n            borderRadius: '12px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}>\n            <MessageCircle style={{ width: '24px', height: '24px', color: 'white' }} />\n          </div>\n          <div style={{ flex: 1 }}>\n            <h3 style={{ margin: 0, fontSize: '1.125rem', fontWeight: '600', color: '#111827' }}>\n              AI Stakeholder Advisor\n            </h3>\n            <p style={{ margin: '0.25rem 0 0 0', fontSize: '0.875rem', color: '#6b7280' }}>\n              {context === 'source_configuration' ? \n                'Get help finding sources to monitor your stakeholders' :\n                'Get insights and advice on managing stakeholder relationships'}\n            </p>\n          </div>\n          <Sparkles style={{ width: '20px', height: '20px', color: '#9333ea' }} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{\n      background: 'white',\n      borderRadius: '0.75rem',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\n      height: '450px',\n      gridColumn: 'span 2',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative'\n    }}>\n      {/* Header */}\n      <div style={{\n        padding: '1rem 1.5rem',\n        borderBottom: '1px solid #e5e7eb',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      }}>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n          <MessageCircle style={{ width: '20px', height: '20px', color: '#9333ea' }} />\n          <h3 style={{ margin: 0, fontSize: '1.125rem', fontWeight: '600', color: '#111827' }}>\n            AI Stakeholder Advisor\n          </h3>\n        </div>\n        <div style={{ display: 'flex', gap: '0.5rem' }}>\n          <button\n            onClick={() => setShowHelp(!showHelp)}\n            style={{\n              padding: '0.5rem',\n              background: showHelp ? '#f3f4f6' : 'transparent',\n              border: 'none',\n              borderRadius: '0.375rem',\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n          >\n            <HelpCircle style={{ width: '18px', height: '18px', color: '#9333ea' }} />\n          </button>\n          <button\n            onClick={() => setIsOpen(false)}\n            style={{\n              padding: '0.5rem',\n              background: 'transparent',\n              border: 'none',\n              cursor: 'pointer',\n              color: '#6b7280'\n            }}\n          >\n            <X style={{ width: '20px', height: '20px' }} />\n          </button>\n        </div>\n      </div>\n\n      {/* Help Menu */}\n      {showHelp && (\n        <div style={{\n          position: 'absolute',\n          top: '60px',\n          right: '1rem',\n          width: '320px',\n          background: 'white',\n          border: '1px solid #e5e7eb',\n          borderRadius: '0.5rem',\n          boxShadow: '0 10px 25px rgba(0,0,0,0.1)',\n          padding: '1rem',\n          zIndex: 50\n        }}>\n          <div style={{ marginBottom: '0.75rem' }}>\n            <h4 style={{ margin: '0 0 0.5rem 0', fontSize: '0.875rem', fontWeight: '600' }}>\n              Suggested Questions:\n            </h4>\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n            {getContextualPrompts().map((prompt, idx) => {\n              const Icon = prompt.icon;\n              return (\n                <button\n                  key={idx}\n                  onClick={() => {\n                    setInputValue(prompt.query);\n                    setShowHelp(false);\n                  }}\n                  style={{\n                    padding: '0.75rem',\n                    background: '#f9fafb',\n                    border: '1px solid #e5e7eb',\n                    borderRadius: '0.375rem',\n                    cursor: 'pointer',\n                    textAlign: 'left',\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '0.5rem',\n                    transition: 'all 0.2s'\n                  }}\n                  onMouseEnter={(e) => {\n                    e.currentTarget.style.background = '#f3f4f6';\n                    e.currentTarget.style.borderColor = '#9333ea';\n                  }}\n                  onMouseLeave={(e) => {\n                    e.currentTarget.style.background = '#f9fafb';\n                    e.currentTarget.style.borderColor = '#e5e7eb';\n                  }}\n                >\n                  <Icon style={{ width: '16px', height: '16px', color: '#9333ea', flexShrink: 0 }} />\n                  <span style={{ fontSize: '0.875rem', color: '#374151' }}>{prompt.text}</span>\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      )}\n\n      {/* Messages */}\n      <div style={{\n        flex: 1,\n        overflowY: 'auto',\n        padding: '1.5rem',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '1rem'\n      }}>\n        {messages.length === 0 ? (\n          <div style={{\n            textAlign: 'center',\n            padding: '2rem',\n            color: '#9ca3af'\n          }}>\n            <Sparkles style={{ width: '48px', height: '48px', margin: '0 auto 1rem', opacity: 0.5 }} />\n            <p style={{ marginBottom: '1rem' }}>\n              {context === 'source_configuration' ?\n                \"I'm here to help you find the best sources to monitor your stakeholders.\" :\n                \"I'm here to help you understand and improve stakeholder relationships.\"}\n            </p>\n            <p style={{ fontSize: '0.875rem' }}>\n              {context === 'source_configuration' ?\n                \"Ask me about news sources, social media accounts, or industry publications.\" :\n                \"Ask me about engagement strategies, sentiment analysis, or relationship risks.\"}\n            </p>\n          </div>\n        ) : (\n          messages.map((message, idx) => (\n            <div\n              key={idx}\n              style={{\n                display: 'flex',\n                justifyContent: message.role === 'user' ? 'flex-end' : 'flex-start'\n              }}\n            >\n              <div style={{\n                maxWidth: '80%',\n                padding: '0.75rem 1rem',\n                background: message.role === 'user' ? '#9333ea' : '#f3f4f6',\n                color: message.role === 'user' ? 'white' : '#111827',\n                borderRadius: '0.75rem',\n                fontSize: '0.875rem',\n                lineHeight: '1.5',\n                whiteSpace: 'pre-wrap'\n              }}>\n                {message.content}\n              </div>\n            </div>\n          ))\n        )}\n        {isLoading && (\n          <div style={{ display: 'flex', justifyContent: 'flex-start' }}>\n            <div style={{\n              padding: '0.75rem 1rem',\n              background: '#f3f4f6',\n              borderRadius: '0.75rem',\n              display: 'flex',\n              gap: '0.25rem'\n            }}>\n              <div style={{ width: '8px', height: '8px', background: '#9333ea', borderRadius: '50%', animation: 'pulse 1.5s infinite' }} />\n              <div style={{ width: '8px', height: '8px', background: '#9333ea', borderRadius: '50%', animation: 'pulse 1.5s infinite 0.2s' }} />\n              <div style={{ width: '8px', height: '8px', background: '#9333ea', borderRadius: '50%', animation: 'pulse 1.5s infinite 0.4s' }} />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Input */}\n      <div style={{\n        padding: '1rem 1.5rem',\n        borderTop: '1px solid #e5e7eb',\n        display: 'flex',\n        gap: '0.75rem',\n        alignItems: 'flex-end'\n      }}>\n        <textarea\n          value={inputValue}\n          onChange={(e) => setInputValue(e.target.value)}\n          onKeyPress={(e) => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              sendMessage(inputValue);\n            }\n          }}\n          placeholder={context === 'source_configuration' ? \n            \"Ask about sources to monitor...\" : \n            \"Ask about stakeholder strategies...\"}\n          style={{\n            flex: 1,\n            padding: '0.75rem',\n            border: '1px solid #e5e7eb',\n            borderRadius: '0.5rem',\n            fontSize: '0.875rem',\n            outline: 'none',\n            transition: 'border-color 0.2s',\n            resize: 'none',\n            minHeight: '42px',\n            maxHeight: '120px',\n            overflowY: 'auto',\n            fontFamily: 'inherit',\n            lineHeight: '1.5'\n          }}\n          rows={1}\n          onInput={(e) => {\n            e.target.style.height = 'auto';\n            e.target.style.height = Math.min(e.target.scrollHeight, 120) + 'px';\n          }}\n          onFocus={(e) => e.target.style.borderColor = '#9333ea'}\n          onBlur={(e) => e.target.style.borderColor = '#e5e7eb'}\n        />\n        <button\n          onClick={() => sendMessage(inputValue)}\n          disabled={!inputValue.trim() || isLoading}\n          style={{\n            padding: '0.75rem 1rem',\n            background: inputValue.trim() && !isLoading ? '#9333ea' : '#e5e7eb',\n            color: 'white',\n            border: 'none',\n            borderRadius: '0.5rem',\n            cursor: inputValue.trim() && !isLoading ? 'pointer' : 'default',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '0.5rem',\n            transition: 'all 0.2s',\n            flexShrink: 0\n          }}\n        >\n          <Send style={{ width: '16px', height: '16px' }} />\n        </button>\n      </div>\n\n      <style jsx>{`\n        @keyframes pulse {\n          0%, 100% { opacity: 0.3; }\n          50% { opacity: 1; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default StakeholderAIAdvisor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}