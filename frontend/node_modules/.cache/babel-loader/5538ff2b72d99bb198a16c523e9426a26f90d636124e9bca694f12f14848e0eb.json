{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./RailwayV2Enhanced.css';import IntelligenceDisplayV3 from'./IntelligenceDisplayV3';import OpportunityModule from'./Modules/OpportunityModule';import ExecutionModule from'./Modules/ExecutionModule';import MemoryVaultModule from'./Modules/MemoryVaultModule';import NivStrategicAdvisor from'./Niv/NivStrategicAdvisor';import OrganizationSettings from'./OrganizationSettings';import IntelligenceSettings from'./IntelligenceSettings';import DiagnosticPanel from'./DiagnosticPanel';import{IntelligenceIcon,OpportunityIcon,ExecutionIcon,MemoryIcon,RefreshIcon,SettingsIcon}from'./Icons/NeonIcons';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RailwayV2Enhanced=()=>{var _modules$find,_modules$find2,_modules$find3;const[activeModule,setActiveModule]=useState('intelligence');const[organizationData,setOrganizationData]=useState(null);const[nivMinimized,setNivMinimized]=useState(false);const[showOrgSettings,setShowOrgSettings]=useState(false);const[showIntelSettings,setShowIntelSettings]=useState(false);const[timeframe,setTimeframe]=useState('24h');const[refreshKey,setRefreshKey]=useState(0);useEffect(()=>{// Get organization data - try both possible localStorage keys\nlet orgData=null;// First try signaldesk_organization\nconst savedOrg=localStorage.getItem('signaldesk_organization');if(savedOrg){orgData=JSON.parse(savedOrg);}// If not found, try signaldesk_onboarding\nif(!orgData){const onboarding=localStorage.getItem('signaldesk_onboarding');if(onboarding){const parsed=JSON.parse(onboarding);if(parsed.organization){orgData=parsed.organization;}}}// Default to Toyota if nothing found\nif(!orgData){orgData={name:'Toyota',industry:'automotive'};}console.log('ðŸ¢ RailwayV2Enhanced setting organization:',orgData);setOrganizationData(orgData);},[]);const modules=[{id:'intelligence',name:'Intelligence',Icon:IntelligenceIcon,color:'#00ffcc'},{id:'opportunities',name:'Opportunities',Icon:OpportunityIcon,color:'#ff00ff'},{id:'execution',name:'Execution',Icon:ExecutionIcon,color:'#00ff88'},{id:'memory',name:'Memory',Icon:MemoryIcon,color:'#8800ff'}];const renderModule=()=>{switch(activeModule){case'intelligence':return/*#__PURE__*/_jsx(IntelligenceDisplayV3,{organization:organizationData,refreshTrigger:refreshKey});case'opportunities':return/*#__PURE__*/_jsx(OpportunityModule,{organizationId:organizationData===null||organizationData===void 0?void 0:organizationData.id});case'execution':return/*#__PURE__*/_jsx(ExecutionModule,{organizationId:organizationData===null||organizationData===void 0?void 0:organizationData.id});case'memory':return/*#__PURE__*/_jsx(MemoryVaultModule,{organizationId:organizationData===null||organizationData===void 0?void 0:organizationData.id});default:return/*#__PURE__*/_jsx(IntelligenceDisplayV3,{organization:organizationData,refreshTrigger:refreshKey});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"railway-v2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"railway-bg-animation\"}),/*#__PURE__*/_jsxs(\"header\",{className:\"railway-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"railway-logo\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo-text\",children:\"SIGNALDESK\"}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-version\",children:\"V2\"})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"railway-nav\",children:modules.map(module=>/*#__PURE__*/_jsxs(\"button\",{className:\"nav-button \".concat(activeModule===module.id?'active':''),onClick:()=>setActiveModule(module.id),style:{'--neon-color':module.color,'--neon-rgb':module.id==='intelligence'?'0, 255, 204':module.id==='opportunities'?'255, 0, 255':module.id==='execution'?'0, 255, 136':'136, 0, 255'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"nav-icon\",children:/*#__PURE__*/_jsx(module.Icon,{size:20,color:activeModule===module.id?module.color:'rgba(255,255,255,0.7)'})}),/*#__PURE__*/_jsx(\"span\",{className:\"nav-text\",children:module.name}),/*#__PURE__*/_jsx(\"div\",{className:\"neon-glow\"})]},module.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"railway-status\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"org-settings-btn\",onClick:()=>setShowOrgSettings(true),title:\"Organization Settings\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"settings-icon\",children:\"\\u2699\"}),/*#__PURE__*/_jsx(\"span\",{className:\"org-name\",children:(organizationData===null||organizationData===void 0?void 0:organizationData.name)||'Select Organization'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"status-indicator active\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"railway-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"railway-content \".concat(nivMinimized?'niv-collapsed':''),children:/*#__PURE__*/_jsxs(\"div\",{className:\"module-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"module-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"module-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"module-icon\",children:((_modules$find=modules.find(m=>m.id===activeModule))===null||_modules$find===void 0?void 0:_modules$find.Icon)&&/*#__PURE__*/React.createElement(modules.find(m=>m.id===activeModule).Icon,{size:24,color:(_modules$find2=modules.find(m=>m.id===activeModule))===null||_modules$find2===void 0?void 0:_modules$find2.color})}),(_modules$find3=modules.find(m=>m.id===activeModule))===null||_modules$find3===void 0?void 0:_modules$find3.name,\" Hub\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-actions\",children:[activeModule==='intelligence'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"select\",{value:timeframe,onChange:e=>setTimeframe(e.target.value),className:\"action-select timeframe\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"24h\",children:\"24 Hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7d\",children:\"7 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30d\",children:\"30 Days\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn refresh\",onClick:()=>setRefreshKey(prev=>prev+1),title:\"Refresh Intelligence\",children:[/*#__PURE__*/_jsx(RefreshIcon,{size:16,color:\"#00ff88\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"action-btn settings\",onClick:()=>{if(activeModule==='intelligence'){setShowIntelSettings(true);}else{setShowOrgSettings(true);}},children:[/*#__PURE__*/_jsx(SettingsIcon,{size:16,color:\"#00ffcc\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"module-content\",children:renderModule()})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"niv-panel \".concat(nivMinimized?'minimized':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"niv-panel-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"niv-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"niv-icon\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"span\",{className:\"niv-name\",children:\"Niv Strategic Advisor\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"niv-minimize-btn\",onClick:()=>setNivMinimized(!nivMinimized),title:nivMinimized?'Expand':'Minimize',children:nivMinimized?'â—€':'â–¶'})]}),!nivMinimized&&/*#__PURE__*/_jsx(NivStrategicAdvisor,{organizationId:organizationData===null||organizationData===void 0?void 0:organizationData.id,activeModule:activeModule,embedded:true})]})]}),showOrgSettings&&/*#__PURE__*/_jsx(OrganizationSettings,{onClose:()=>setShowOrgSettings(false),onOrganizationChange:org=>{setOrganizationData(org);// Reload the page to refresh with new organization\nwindow.location.reload();}}),showIntelSettings&&/*#__PURE__*/_jsx(IntelligenceSettings,{onClose:()=>setShowIntelSettings(false),onSave:config=>{setShowIntelSettings(false);// Configuration is saved to localStorage, page will reload\n}}),/*#__PURE__*/_jsx(DiagnosticPanel,{})]});};export default RailwayV2Enhanced;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}