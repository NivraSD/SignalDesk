{"ast":null,"code":"import _objectSpread from\"/Users/jonathanliebowitz/Desktop/SignalDesk/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Building2,Users,Target,Globe,Hash,TrendingUp,ArrowRight,Check,Plus,X,AlertCircle,Sparkles,Shield,Zap,Search,Save,Loader,CheckCircle,Brain,RefreshCw,Info,Edit2,Trash2}from'lucide-react';import API_BASE_URL from'../../config/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AutomatedOrganizationSetup=_ref=>{let{onSetupComplete}=_ref;// Add CSS animations\nReact.useEffect(()=>{const style=document.createElement('style');style.textContent=\"\\n      @keyframes spin {\\n        from { transform: rotate(0deg); }\\n        to { transform: rotate(360deg); }\\n      }\\n      @keyframes pulse {\\n        0%, 100% { transform: scale(1); opacity: 1; }\\n        50% { transform: scale(1.05); opacity: 0.9; }\\n      }\\n      @keyframes progress {\\n        from { transform: translateX(-100%); }\\n        to { transform: translateX(0); }\\n      }\\n    \";document.head.appendChild(style);return()=>document.head.removeChild(style);},[]);// Check for temporary organization data from settings\nconst[step,setStep]=useState(1);const[isAnalyzing,setIsAnalyzing]=useState(false);// Initialize with temp org data if available\nconst tempOrgData=localStorage.getItem('signaldesk_temp_org');const initialOrgData=tempOrgData?JSON.parse(tempOrgData):null;const[orgData,setOrgData]=useState({name:(initialOrgData===null||initialOrgData===void 0?void 0:initialOrgData.organizationName)||'',url:'',description:(initialOrgData===null||initialOrgData===void 0?void 0:initialOrgData.organizationDescription)||''});// Clear temp data after loading\nReact.useEffect(()=>{if(tempOrgData){localStorage.removeItem('signaldesk_temp_org');}},[tempOrgData]);const[discoveredData,setDiscoveredData]=useState({industry:'',competitors:[],topics:[],stakeholders:{regulators:[],investors:[],customers:[],media:[]}});const[selectedItems,setSelectedItems]=useState({competitors:[],topics:[],stakeholders:[]});const[isActivating,setIsActivating]=useState(false);const[activationStep,setActivationStep]=useState('');const[editingCompetitor,setEditingCompetitor]=useState(null);const[editingTopic,setEditingTopic]=useState(null);const[showAddCompetitor,setShowAddCompetitor]=useState(false);const[showAddTopic,setShowAddTopic]=useState(false);const[newCompetitor,setNewCompetitor]=useState({name:'',marketCap:'Private',priority:'medium'});const[newTopic,setNewTopic]=useState({name:'',priority:'medium',trending:false});const analyzeOrganization=async()=>{if(!orgData.name)return;setIsAnalyzing(true);try{// Call backend API to analyze organization using AI\nconst response=await fetch(\"\".concat(API_BASE_URL,\"/intelligence/analyze-organization\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({company:orgData.name,url:orgData.url||'',requestType:'discover'})});console.log('Organization analysis response:',response.status,response.statusText);if(response.ok){const data=await response.json();console.log('Received analysis data:',data);// Transform API response to our format\nconst discoveredData={industry:data.industry||'Technology',competitors:data.competitors||[],topics:data.topics||[],stakeholders:data.stakeholders||generateStakeholders(orgData.name,data.industry)};setDiscoveredData(discoveredData);// Pre-select high priority items\nsetSelectedItems({competitors:discoveredData.competitors.filter(c=>c.priority==='high').map(c=>c.id),topics:discoveredData.topics.filter(t=>t.priority==='high').map(t=>t.id),stakeholders:[]});setIsAnalyzing(false);setStep(2);}else{// Fallback to local detection if API fails\nconsole.error('API analysis failed:',response.status,response.statusText);const errorText=await response.text();console.error('Error details:',errorText);const industry=orgData.url?detectIndustryFromUrl(orgData.url):detectIndustry(orgData.name);const mockData={industry:industry,competitors:generateCompetitors(orgData.name,industry),topics:generateTopics(orgData.name,industry),stakeholders:generateStakeholders(orgData.name,industry)};setDiscoveredData(mockData);setSelectedItems({competitors:mockData.competitors.filter(c=>c.priority==='high').map(c=>c.id),topics:mockData.topics.filter(t=>t.priority==='high').map(t=>t.id),stakeholders:[]});setIsAnalyzing(false);setStep(2);}}catch(error){console.error('Error analyzing organization:',error);console.error('Full error details:',error.message,error.stack);// Use fallback detection\nconst industry=orgData.url?detectIndustryFromUrl(orgData.url):detectIndustry(orgData.name);const mockData={industry:industry,competitors:generateCompetitors(orgData.name,industry),topics:generateTopics(orgData.name,industry),stakeholders:generateStakeholders(orgData.name,industry)};setDiscoveredData(mockData);setSelectedItems({competitors:mockData.competitors.filter(c=>c.priority==='high').map(c=>c.id),topics:mockData.topics.filter(t=>t.priority==='high').map(t=>t.id),stakeholders:[]});setIsAnalyzing(false);setStep(2);}};const detectIndustry=companyName=>{const name=companyName.toLowerCase();if(name.includes('tech')||name.includes('soft')||name.includes('app'))return'Technology';if(name.includes('bank')||name.includes('finance')||name.includes('capital'))return'Finance';if(name.includes('health')||name.includes('med')||name.includes('pharma'))return'Healthcare';if(name.includes('food')||name.includes('restaurant')||name.includes('taco'))return'Food & Beverage';return'Technology';// Default\n};const detectIndustryFromUrl=url=>{const domain=url.toLowerCase();// Check domain patterns for better industry detection\nif(domain.includes('.tech')||domain.includes('software')||domain.includes('app'))return'Technology';if(domain.includes('bank')||domain.includes('financial')||domain.includes('.finance'))return'Finance';if(domain.includes('health')||domain.includes('medical')||domain.includes('pharma'))return'Healthcare';if(domain.includes('food')||domain.includes('restaurant')||domain.includes('eat'))return'Food & Beverage';if(domain.includes('retail')||domain.includes('shop')||domain.includes('store'))return'Retail';if(domain.includes('.edu')||domain.includes('university')||domain.includes('college'))return'Education';if(domain.includes('.gov'))return'Government';// Fall back to name-based detection\nreturn detectIndustry(orgData.name);};const generateCompetitors=(companyName,industry)=>{// Mock competitor discovery based on industry\nconst competitorSets={'Technology':[{id:'c1',name:'Microsoft',priority:'high',marketCap:'$2.8T',similarity:0.85},{id:'c2',name:'Google',priority:'high',marketCap:'$1.7T',similarity:0.82},{id:'c3',name:'Amazon',priority:'medium',marketCap:'$1.5T',similarity:0.75},{id:'c4',name:'Meta',priority:'medium',marketCap:'$900B',similarity:0.70},{id:'c5',name:'Apple',priority:'low',marketCap:'$2.9T',similarity:0.65}],'Food & Beverage':[{id:'c1',name:\"McDonald's\",priority:'high',marketCap:'$200B',similarity:0.88},{id:'c2',name:'Chipotle',priority:'high',marketCap:'$50B',similarity:0.85},{id:'c3',name:'Subway',priority:'medium',marketCap:'Private',similarity:0.78},{id:'c4',name:\"Wendy's\",priority:'medium',marketCap:'$4B',similarity:0.75},{id:'c5',name:'Burger King',priority:'low',marketCap:'$20B',similarity:0.70}],'Finance':[{id:'c1',name:'JPMorgan Chase',priority:'high',marketCap:'$450B',similarity:0.85},{id:'c2',name:'Bank of America',priority:'high',marketCap:'$250B',similarity:0.82},{id:'c3',name:'Wells Fargo',priority:'medium',marketCap:'$180B',similarity:0.75},{id:'c4',name:'Goldman Sachs',priority:'medium',marketCap:'$120B',similarity:0.70},{id:'c5',name:'Morgan Stanley',priority:'low',marketCap:'$150B',similarity:0.65}],'Healthcare':[{id:'c1',name:'UnitedHealth',priority:'high',marketCap:'$500B',similarity:0.85},{id:'c2',name:'CVS Health',priority:'high',marketCap:'$140B',similarity:0.82},{id:'c3',name:'Anthem',priority:'medium',marketCap:'$120B',similarity:0.75},{id:'c4',name:'Cigna',priority:'medium',marketCap:'$90B',similarity:0.70},{id:'c5',name:'Humana',priority:'low',marketCap:'$60B',similarity:0.65}]};return competitorSets[industry]||competitorSets['Technology'];};const generateTopics=(companyName,industry)=>{const topicSets={'Technology':[{id:'t1',name:'AI & Machine Learning',priority:'high',trending:true},{id:'t2',name:'Data Privacy & Security',priority:'high',trending:true},{id:'t3',name:'Cloud Computing',priority:'medium',trending:false},{id:'t4',name:'Digital Transformation',priority:'medium',trending:true},{id:'t5',name:'Cybersecurity Threats',priority:'high',trending:true},{id:'t6',name:'Remote Work Technology',priority:'low',trending:false}],'Food & Beverage':[{id:'t1',name:'Digital Payment & Mobile Ordering',priority:'high',trending:true},{id:'t2',name:'Plant-Based & Alternative Proteins',priority:'high',trending:true},{id:'t3',name:'Food Safety & Supply Chain',priority:'high',trending:false},{id:'t4',name:'AI-Driven Personalization',priority:'medium',trending:true},{id:'t5',name:'Labor Automation & Robotics',priority:'medium',trending:true},{id:'t6',name:'Sustainability & ESG',priority:'medium',trending:true}],'Finance':[{id:'t1',name:'Digital Banking & Fintech',priority:'high',trending:true},{id:'t2',name:'Cryptocurrency & Blockchain',priority:'high',trending:true},{id:'t3',name:'Regulatory Compliance',priority:'high',trending:false},{id:'t4',name:'Open Banking & APIs',priority:'medium',trending:true},{id:'t5',name:'ESG Investing',priority:'medium',trending:true},{id:'t6',name:'Cybersecurity in Finance',priority:'high',trending:true}],'Healthcare':[{id:'t1',name:'Telemedicine & Digital Health',priority:'high',trending:true},{id:'t2',name:'AI in Diagnostics',priority:'high',trending:true},{id:'t3',name:'Drug Pricing & Access',priority:'high',trending:false},{id:'t4',name:'Patient Data Privacy',priority:'medium',trending:true},{id:'t5',name:'Healthcare Workforce',priority:'medium',trending:true},{id:'t6',name:'Value-Based Care',priority:'medium',trending:false}]};return topicSets[industry]||topicSets['Technology'];};const generateStakeholders=(companyName,industry)=>{return{regulators:industry==='Finance'?['SEC','FDIC','Federal Reserve']:industry==='Healthcare'?['FDA','CMS','HHS']:industry==='Food & Beverage'?['FDA','USDA','FTC']:['FTC','FCC','SEC'],investors:['BlackRock','Vanguard','State Street'],customers:['Enterprise Clients','Small Business','Consumers'],media:['TechCrunch','Wall Street Journal','Bloomberg','Reuters']};};const toggleSelection=(category,id)=>{setSelectedItems(prev=>_objectSpread(_objectSpread({},prev),{},{[category]:prev[category].includes(id)?prev[category].filter(item=>item!==id):[...prev[category],id]}));};const updateCompetitor=(id,updates)=>{setDiscoveredData(prev=>_objectSpread(_objectSpread({},prev),{},{competitors:prev.competitors.map(c=>c.id===id?_objectSpread(_objectSpread({},c),updates):c)}));};const deleteCompetitor=id=>{setDiscoveredData(prev=>_objectSpread(_objectSpread({},prev),{},{competitors:prev.competitors.filter(c=>c.id!==id)}));setSelectedItems(prev=>_objectSpread(_objectSpread({},prev),{},{competitors:prev.competitors.filter(cId=>cId!==id)}));};const addCompetitor=()=>{if(newCompetitor.name){const competitor={id:\"custom-comp-\".concat(Date.now()),name:newCompetitor.name,marketCap:newCompetitor.marketCap,priority:newCompetitor.priority,similarity:0.7,custom:true};setDiscoveredData(prev=>_objectSpread(_objectSpread({},prev),{},{competitors:[...prev.competitors,competitor]}));setSelectedItems(prev=>_objectSpread(_objectSpread({},prev),{},{competitors:[...prev.competitors,competitor.id]}));setNewCompetitor({name:'',marketCap:'Private',priority:'medium'});setShowAddCompetitor(false);}};const updateTopic=(id,updates)=>{setDiscoveredData(prev=>_objectSpread(_objectSpread({},prev),{},{topics:prev.topics.map(t=>t.id===id?_objectSpread(_objectSpread({},t),updates):t)}));};const deleteTopic=id=>{setDiscoveredData(prev=>_objectSpread(_objectSpread({},prev),{},{topics:prev.topics.filter(t=>t.id!==id)}));setSelectedItems(prev=>_objectSpread(_objectSpread({},prev),{},{topics:prev.topics.filter(tId=>tId!==id)}));};const addTopic=()=>{if(newTopic.name){const topic={id:\"custom-topic-\".concat(Date.now()),name:newTopic.name,priority:newTopic.priority,trending:newTopic.trending,custom:true};setDiscoveredData(prev=>_objectSpread(_objectSpread({},prev),{},{topics:[...prev.topics,topic]}));setSelectedItems(prev=>_objectSpread(_objectSpread({},prev),{},{topics:[...prev.topics,topic.id]}));setNewTopic({name:'',priority:'medium',trending:false});setShowAddTopic(false);}};const handleComplete=async()=>{setIsActivating(true);setActivationStep('Creating organization profile...');try{// Step 1: Create the organization in the database\nconst orgResponse=await fetch(\"\".concat(API_BASE_URL,\"/organizations/create\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({name:orgData.name,url:orgData.url,industry:discoveredData.industry,description:orgData.description})});if(!orgResponse.ok){const errorText=await orgResponse.text();console.error('Organization creation failed:',orgResponse.status,errorText);setActivationStep(\"Failed to create organization: \".concat(errorText));throw new Error(\"Failed to create organization: \".concat(errorText));}const orgResult=await orgResponse.json();const organizationId=orgResult.organizationId;// This is now a proper ID from the database\nconsole.log('Organization created with ID:',organizationId);setActivationStep('Setting up competitors and topics...');// Step 2: Create intelligence targets (competitors and topics)\nconst targetPromises=[];// Add competitors as intelligence targets\ndiscoveredData.competitors.filter(c=>selectedItems.competitors.includes(c.id)).forEach(competitor=>{targetPromises.push(fetch(\"\".concat(API_BASE_URL,\"/organizations/targets\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({organization_id:organizationId,name:competitor.name,type:'competitor',priority:competitor.priority||'medium',metadata:{marketCap:competitor.marketCap,similarity:competitor.similarity,reason:competitor.reason}})}));});// Add topics as intelligence targets\ndiscoveredData.topics.filter(t=>selectedItems.topics.includes(t.id)).forEach(topic=>{targetPromises.push(fetch(\"\".concat(API_BASE_URL,\"/organizations/targets\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({organization_id:organizationId,name:topic.name,type:'topic',priority:topic.priority||'medium',metadata:{trending:topic.trending,reason:topic.reason}})}));});const targetResults=await Promise.allSettled(targetPromises);const failedTargets=targetResults.filter(r=>r.status==='rejected');if(failedTargets.length>0){console.warn(\"Failed to create \".concat(failedTargets.length,\" targets:\"),failedTargets);}console.log('Intelligence targets created');setActivationStep('Configuring monitoring sources...');// Step 3: Configure organization-specific monitoring sources\nconst sourceResponse=await fetch(\"\".concat(API_BASE_URL,\"/source-config/configure-sources\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem('token'))},body:JSON.stringify({organizationId,organization:{name:orgData.name,industry:discoveredData.industry,url:orgData.url},competitors:discoveredData.competitors.filter(c=>selectedItems.competitors.includes(c.id)),topics:discoveredData.topics.filter(t=>selectedItems.topics.includes(t.id))})});if(sourceResponse.ok){const sourceResult=await sourceResponse.json();console.log('Sources configured:',sourceResult.message);console.log('Source details:',sourceResult.sources);}else{const errorText=await sourceResponse.text();console.error('Source configuration failed:',sourceResponse.status,errorText);setActivationStep(\"Warning: Source configuration incomplete\");// Don't throw - continue with setup even if sources fail\n}setActivationStep('Initializing monitoring system...');await new Promise(resolve=>setTimeout(resolve,500));// Prepare the complete organization data to pass to parent\nconst selected={organizationId,// Now using the real database ID\ncompany:orgData.name,url:orgData.url,industry:discoveredData.industry,overview:orgData.description,stakeholders:[...discoveredData.competitors.filter(c=>selectedItems.competitors.includes(c.id)).map(c=>({id:c.id,name:c.name,type:'competitor',priority:c.priority,keywords:[c.name.toLowerCase()],topics:['competitive intelligence']})),...discoveredData.topics.filter(t=>selectedItems.topics.includes(t.id)).map(t=>({id:t.id,name:t.name,type:'topic',priority:t.priority,keywords:t.name.toLowerCase().split(' '),topics:[t.name]}))]};setActivationStep('Ready! Launching monitoring dashboard...');await new Promise(resolve=>setTimeout(resolve,500));onSetupComplete(selected);}catch(error){console.error('Setup failed:',error);console.error('Full error details:',error.message,error.stack);setActivationStep(\"Setup failed: \".concat(error.message));// Show user-friendly error message\nalert(\"Setup encountered an issue: \".concat(error.message,\"\\n\\nThe system will continue in limited mode. Please check the console for details.\"));// Fallback to temporal ID if API calls fail\nconst fallbackId=\"org-\".concat(Date.now());console.warn('Using fallback temporal ID:',fallbackId);onSetupComplete({organizationId:fallbackId,company:orgData.name,url:orgData.url,industry:discoveredData.industry,overview:orgData.description,stakeholders:[]});}setIsActivating(false);};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1000px',margin:'0 auto'},children:[step===1&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'1rem',padding:'3rem',border:'1px solid #e5e7eb',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'80px',height:'80px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',borderRadius:'1rem',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 2rem'},children:/*#__PURE__*/_jsx(Building2,{size:40,style:{color:'white'}})}),/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:'2rem',marginBottom:'0.5rem',color:'#111827'},children:\"Let's Set Up Your Intelligence System\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#6b7280',marginBottom:'2rem'},children:\"Enter your organization details and we'll automatically discover what to monitor\"}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'500px',margin:'0 auto'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.875rem',color:'#374151',fontWeight:'500',textAlign:'left'},children:\"Organization Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:orgData.name,onChange:e=>setOrgData(_objectSpread(_objectSpread({},orgData),{},{name:e.target.value})),placeholder:\"e.g., Acme Corporation\",style:{width:'100%',padding:'0.75rem',fontSize:'1rem',border:'2px solid #e5e7eb',borderRadius:'0.5rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.875rem',color:'#374151',fontWeight:'500',textAlign:'left'},children:\"Website URL (Optional but recommended)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",value:orgData.url,onChange:e=>setOrgData(_objectSpread(_objectSpread({},orgData),{},{url:e.target.value})),placeholder:\"https://www.example.com\",style:{width:'100%',padding:'0.75rem',fontSize:'1rem',border:'1px solid #e5e7eb',borderRadius:'0.5rem'},onKeyPress:e=>e.key==='Enter'&&orgData.name&&analyzeOrganization()}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0.25rem 0 0 0',fontSize:'0.75rem',color:'#9ca3af',textAlign:'left'},children:\"Helps us identify the correct organization and find more accurate competitors\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:analyzeOrganization,disabled:!orgData.name||isAnalyzing,style:{width:'100%',padding:'1rem 2rem',background:orgData.name?'linear-gradient(135deg, #667eea 0%, #764ba2 100%)':'#e5e7eb',color:'white',border:'none',borderRadius:'0.5rem',fontSize:'1rem',fontWeight:'600',cursor:orgData.name?'pointer':'not-allowed',display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem'},children:isAnalyzing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{size:20,style:{animation:'spin 1s linear infinite'}}),\"Analyzing Organization...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Brain,{size:20}),\"Analyze & Discover Targets\"]})})]})]}),step===2&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[isActivating&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'rgba(255, 255, 255, 0.95)',borderRadius:'1rem',display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'1rem',padding:'3rem',boxShadow:'0 10px 40px rgba(0,0,0,0.1)',textAlign:'center',maxWidth:'400px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'80px',height:'80px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 2rem',animation:'pulse 2s infinite'},children:/*#__PURE__*/_jsx(Zap,{size:40,style:{color:'white'}})}),/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.5rem',marginBottom:'1rem',color:'#111827'},children:\"Activating Monitoring\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',gap:'0.5rem',color:'#6366f1',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(Loader,{size:20,style:{animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.875rem',fontWeight:'500'},children:activationStep})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'4px',background:'#e5e7eb',borderRadius:'2px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100%',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',animation:'progress 3s ease-in-out'}})})]})}),/*#__PURE__*/_jsx(\"div\",{style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',borderRadius:'1rem 1rem 0 0',padding:'2rem',color:'white'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(CheckCircle,{size:32}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{style:{margin:0,fontSize:'1.75rem'},children:\"Intelligence Targets Discovered\"}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0.5rem 0 0 0',opacity:0.9},children:[\"We've identified key competitors, topics, and stakeholders for \",orgData.name]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'0 0 1rem 1rem',padding:'2rem',border:'1px solid #e5e7eb',borderTop:'none'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'inline-flex',alignItems:'center',gap:'0.5rem',padding:'0.5rem 1rem',background:'#f3f4f6',borderRadius:'2rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(Globe,{size:16}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem',color:'#374151'},children:[\"Industry: \",/*#__PURE__*/_jsx(\"strong\",{children:discoveredData.industry})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.25rem',margin:0,color:'#111827',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Building2,{size:20}),\"Competitors to Monitor\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddCompetitor(true),style:{padding:'0.5rem 1rem',background:'#6366f1',color:'white',border:'none',borderRadius:'0.5rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Competitor\"]})]}),showAddCompetitor&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#f0f9ff',border:'2px solid #6366f1',borderRadius:'0.5rem',marginBottom:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 150px 120px auto',gap:'0.5rem',alignItems:'end'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'0.75rem',color:'#6b7280',display:'block',marginBottom:'0.25rem'},children:\"Competitor Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCompetitor.name,onChange:e=>setNewCompetitor(_objectSpread(_objectSpread({},newCompetitor),{},{name:e.target.value})),placeholder:\"e.g., Competitor Corp\",style:{width:'100%',padding:'0.5rem',border:'1px solid #e5e7eb',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'0.75rem',color:'#6b7280',display:'block',marginBottom:'0.25rem'},children:\"Market Cap\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCompetitor.marketCap,onChange:e=>setNewCompetitor(_objectSpread(_objectSpread({},newCompetitor),{},{marketCap:e.target.value})),placeholder:\"e.g., $1B\",style:{width:'100%',padding:'0.5rem',border:'1px solid #e5e7eb',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"select\",{value:newCompetitor.priority,onChange:e=>setNewCompetitor(_objectSpread(_objectSpread({},newCompetitor),{},{priority:e.target.value})),style:{padding:'0.5rem',border:'1px solid #e5e7eb',borderRadius:'0.375rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low Priority\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:addCompetitor,style:{padding:'0.5rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(Check,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddCompetitor(false),style:{padding:'0.5rem',background:'#ef4444',color:'white',border:'none',borderRadius:'0.375rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{size:16})})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gap:'0.75rem'},children:discoveredData.competitors.map(comp=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:selectedItems.competitors.includes(comp.id)?'#eef2ff':'#f9fafb',border:\"2px solid \".concat(selectedItems.competitors.includes(comp.id)?'#6366f1':'#e5e7eb'),borderRadius:'0.5rem',transition:'all 0.2s',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem',flex:1,cursor:'pointer'},onClick:()=>toggleSelection('competitors',comp.id),children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'24px',height:'24px',borderRadius:'50%',border:\"2px solid \".concat(selectedItems.competitors.includes(comp.id)?'#6366f1':'#d1d5db'),background:selectedItems.competitors.includes(comp.id)?'#6366f1':'white',display:'flex',alignItems:'center',justifyContent:'center'},children:selectedItems.competitors.includes(comp.id)&&/*#__PURE__*/_jsx(Check,{size:14,style:{color:'white'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[editingCompetitor===comp.id?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:comp.name,onChange:e=>updateCompetitor(comp.id,{name:e.target.value}),onBlur:()=>setEditingCompetitor(null),onKeyPress:e=>e.key==='Enter'&&setEditingCompetitor(null),style:{padding:'0.25rem 0.5rem',border:'1px solid #6366f1',borderRadius:'0.25rem',fontSize:'1rem',fontWeight:'600'},autoFocus:true,onClick:e=>e.stopPropagation()}):/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#111827'},children:comp.name}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[comp.marketCap,\" \\u2022 Similarity: \",Math.round(comp.similarity*100),\"%\",comp.custom&&' • Custom']})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',background:comp.priority==='high'?'#fee2e2':comp.priority==='medium'?'#fef3c7':'#f3f4f6',color:comp.priority==='high'?'#dc2626':comp.priority==='medium'?'#f59e0b':'#6b7280',borderRadius:'0.25rem',fontSize:'0.75rem',fontWeight:'600'},children:comp.priority.toUpperCase()}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setEditingCompetitor(comp.id);},style:{padding:'0.25rem',background:'transparent',border:'none',cursor:'pointer',color:'#6b7280'},children:/*#__PURE__*/_jsx(Edit2,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteCompetitor(comp.id);},style:{padding:'0.25rem',background:'transparent',border:'none',cursor:'pointer',color:'#ef4444'},children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},comp.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'1rem'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'1.25rem',margin:0,color:'#111827',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(Hash,{size:20}),\"Topics to Track\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddTopic(true),style:{padding:'0.5rem 1rem',background:'#f59e0b',color:'white',border:'none',borderRadius:'0.5rem',fontSize:'0.875rem',fontWeight:'500',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Topic\"]})]}),showAddTopic&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'1rem',background:'#fffbeb',border:'2px solid #f59e0b',borderRadius:'0.5rem',marginBottom:'1rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 120px 120px auto',gap:'0.5rem',alignItems:'end'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{style:{fontSize:'0.75rem',color:'#6b7280',display:'block',marginBottom:'0.25rem'},children:\"Topic Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTopic.name,onChange:e=>setNewTopic(_objectSpread(_objectSpread({},newTopic),{},{name:e.target.value})),placeholder:\"e.g., AI in Healthcare\",style:{width:'100%',padding:'0.5rem',border:'1px solid #e5e7eb',borderRadius:'0.375rem',fontSize:'0.875rem'}})]}),/*#__PURE__*/_jsxs(\"select\",{value:newTopic.priority,onChange:e=>setNewTopic(_objectSpread(_objectSpread({},newTopic),{},{priority:e.target.value})),style:{padding:'0.5rem',border:'1px solid #e5e7eb',borderRadius:'0.375rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low Priority\"})]}),/*#__PURE__*/_jsxs(\"label\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',fontSize:'0.875rem',color:'#374151',cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:newTopic.trending,onChange:e=>setNewTopic(_objectSpread(_objectSpread({},newTopic),{},{trending:e.target.checked}))}),\"Trending\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:addTopic,style:{padding:'0.5rem',background:'#10b981',color:'white',border:'none',borderRadius:'0.375rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(Check,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddTopic(false),style:{padding:'0.5rem',background:'#ef4444',color:'white',border:'none',borderRadius:'0.375rem',cursor:'pointer'},children:/*#__PURE__*/_jsx(X,{size:16})})]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(2, 1fr)',gap:'0.75rem'},children:discoveredData.topics.map(topic=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:selectedItems.topics.includes(topic.id)?'#fef3c7':'#f9fafb',border:\"2px solid \".concat(selectedItems.topics.includes(topic.id)?'#f59e0b':'#e5e7eb'),borderRadius:'0.5rem',transition:'all 0.2s',display:'flex',alignItems:'center',gap:'0.75rem',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem',flex:1,cursor:'pointer'},onClick:()=>toggleSelection('topics',topic.id),children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'24px',height:'24px',borderRadius:'50%',border:\"2px solid \".concat(selectedItems.topics.includes(topic.id)?'#f59e0b':'#d1d5db'),background:selectedItems.topics.includes(topic.id)?'#f59e0b':'white',display:'flex',alignItems:'center',justifyContent:'center'},children:selectedItems.topics.includes(topic.id)&&/*#__PURE__*/_jsx(Check,{size:14,style:{color:'white'}})}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[editingTopic===topic.id?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:topic.name,onChange:e=>updateTopic(topic.id,{name:e.target.value}),onBlur:()=>setEditingTopic(null),onKeyPress:e=>e.key==='Enter'&&setEditingTopic(null),style:{padding:'0.25rem 0.5rem',border:'1px solid #f59e0b',borderRadius:'0.25rem',fontSize:'0.875rem',fontWeight:'500',width:'100%'},autoFocus:true,onClick:e=>e.stopPropagation()}):/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'500',color:'#111827',fontSize:'0.875rem'},children:topic.name}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.5rem',marginTop:'0.25rem'},children:[topic.trending&&/*#__PURE__*/_jsxs(\"span\",{style:{display:'inline-flex',alignItems:'center',gap:'0.25rem',fontSize:'0.75rem',color:'#10b981'},children:[/*#__PURE__*/_jsx(TrendingUp,{size:12}),\"Trending\"]}),topic.custom&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'0.75rem',color:'#6b7280'},children:\"\\u2022 Custom\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'0.5rem',right:'0.5rem',display:'flex',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();setEditingTopic(topic.id);},style:{padding:'0.25rem',background:'rgba(255, 255, 255, 0.8)',border:'none',borderRadius:'0.25rem',cursor:'pointer',color:'#6b7280'},children:/*#__PURE__*/_jsx(Edit2,{size:12})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();deleteTopic(topic.id);},style:{padding:'0.25rem',background:'rgba(255, 255, 255, 0.8)',border:'none',borderRadius:'0.25rem',cursor:'pointer',color:'#ef4444'},children:/*#__PURE__*/_jsx(Trash2,{size:12})})]})]},topic.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#f9fafb',borderRadius:'0.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 0.5rem 0',fontSize:'0.875rem',color:'#6b7280'},children:\"We'll also monitor these stakeholders:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'0.5rem'},children:Object.entries(discoveredData.stakeholders).map(_ref2=>{let[type,items]=_ref2;return items.map(item=>/*#__PURE__*/_jsx(\"span\",{style:{padding:'0.25rem 0.5rem',background:'white',borderRadius:'0.25rem',fontSize:'0.75rem',color:'#374151',border:'1px solid #e5e7eb'},children:item},\"\".concat(type,\"-\").concat(item)));})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',paddingTop:'1rem',borderTop:'1px solid #e5e7eb'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setStep(1);setSelectedItems({competitors:[],topics:[],stakeholders:[]});},style:{padding:'0.75rem 1.5rem',background:'white',color:'#6b7280',border:'1px solid #e5e7eb',borderRadius:'0.5rem',cursor:'pointer',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(RefreshCw,{size:18}),\"Start Over\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:'0.875rem',color:'#6b7280'},children:[selectedItems.competitors.length+selectedItems.topics.length,\" targets selected\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleComplete,disabled:selectedItems.competitors.length===0&&selectedItems.topics.length===0||isActivating,style:{padding:'0.75rem 2rem',background:(selectedItems.competitors.length>0||selectedItems.topics.length>0)&&!isActivating?'linear-gradient(135deg, #667eea 0%, #764ba2 100%)':'#e5e7eb',color:'white',border:'none',borderRadius:'0.5rem',cursor:(selectedItems.competitors.length>0||selectedItems.topics.length>0)&&!isActivating?'pointer':'not-allowed',display:'flex',alignItems:'center',gap:'0.5rem',fontWeight:'600',minWidth:'200px',justifyContent:'center'},children:isActivating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{size:18,style:{animation:'spin 1s linear infinite'}}),\"Activating...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Zap,{size:18}),\"Activate Monitoring\"]})})]})]})]})]})]});};export default AutomatedOrganizationSetup;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}