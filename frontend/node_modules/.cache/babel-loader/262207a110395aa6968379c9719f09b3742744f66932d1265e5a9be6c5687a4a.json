{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{useAuth}from\"../contexts/AuthContext\";import api,{generateContent as apiGenerateContent,generateAIContent,getContentHistory,getContentTemplates,saveContent,uploadTemplates,deleteTemplate as apiDeleteTemplate,exportContent as apiExportContent,analyzeContent as apiAnalyzeContent}from\"../services/api\";import\"./ContentGenerator.css\";import SaveToMemoryVaultButton from\"./MemoryVault/SaveToMemoryVaultButton\";import{useProject}from\"../contexts/ProjectContext\";import{BookOpen,Copy,Lightbulb,Award,Upload,FileText,X,Eye,Settings,Download,Save,BarChart3,TrendingUp,Users,Target,AlertTriangle,CheckCircle,Zap,Brain,Shield}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ContentGenerator=()=>{var _contentAnalysis$insi,_contentAnalysis$insi2,_contentAnalysis$insi3;const{user}=useAuth();const{selectedProject}=useProject();const[currentType,setCurrentType]=useState(\"press-release\");const[showGuides,setShowGuides]=useState(false);const[generatedContent,setGeneratedContent]=useState(\"\");const[isGenerating,setIsGenerating]=useState(false);const[showTemplateManager,setShowTemplateManager]=useState(false);const[templates,setTemplates]=useState([]);const[selectedTemplate,setSelectedTemplate]=useState(null);const[showExportModal,setShowExportModal]=useState(false);const[exportFormat,setExportFormat]=useState(\"\");const[savedContents,setSavedContents]=useState([]);const[isLoadingHistory,setIsLoadingHistory]=useState(false);const contentFormRef=useRef({});const templateUploadRef=useRef(null);const[contentAnalysis,setContentAnalysis]=useState(null);const[isAnalyzing,setIsAnalyzing]=useState(false);const[showAnalysis,setShowAnalysis]=useState(false);const[generationMethod,setGenerationMethod]=useState(null);// 'ai' or 'form'\nconst[isChangingType,setIsChangingType]=useState(false);const[selectedTone,setSelectedTone]=useState(\"professional\");const getScoreColor=score=>{if(score>=80)return\"#10b981\";if(score>=60)return\"#f59e0b\";return\"#ef4444\";};// Content type configurations\nconst contentTypeLabels={\"press-release\":\"Press Release\",\"crisis-response\":\"Crisis Response Statement\",\"social-post\":\"Social Media Post\",\"media-pitch\":\"Media Pitch\",\"exec-statement\":\"Executive Statement\",\"qa-doc\":\"Q&A Document\",messaging:\"Messaging Framework\",\"thought-leadership\":\"Thought Leadership\",presentation:\"Presentation Deck\"};const toneOptions={professional:{label:\"Corporate/Professional\",description:\"Formal, authoritative, industry-standard\",characteristics:[\"formal language\",\"industry terminology\",\"measured statements\",\"third-person perspective\"]},bold:{label:\"Bold/Innovative\",description:\"Confident, disruptive, attention-grabbing\",characteristics:[\"strong claims\",\"provocative angles\",\"first-person authority\",\"challenge status quo\"]},conversational:{label:\"Conversational/Friendly\",description:\"Approachable, human, relatable\",characteristics:[\"casual language\",\"personal anecdotes\",\"direct address\",\"everyday examples\"]},analytical:{label:\"Data-Driven/Analytical\",description:\"Fact-based, research-heavy, objective\",characteristics:[\"statistics-focused\",\"evidence-based\",\"neutral tone\",\"technical precision\"]},inspirational:{label:\"Inspirational/Visionary\",description:\"Uplifting, future-focused, motivational\",characteristics:[\"aspirational language\",\"vision statements\",\"emotional appeal\",\"possibility-focused\"]},urgent:{label:\"Urgent/Action-Oriented\",description:\"Time-sensitive, direct, compelling\",characteristics:[\"immediate action\",\"deadline-focused\",\"clear CTAs\",\"consequence-driven\"]}};// Prompt guides configuration\nconst promptGuides={\"press-release\":{title:\"Press Release Guide\",subtitle:\"Based on AP Style and PR Industry Standards\",framework:\"Inverted Pyramid\",tips:[\"Lead with the most newsworthy information in your first paragraph\",\"Answer WHO, WHAT, WHERE, WHEN, WHY in the first 2 paragraphs\",\"Use concrete numbers and specific dates instead of vague terms\",\"Include strategic quotes that add insight, not just promotion\",\"End with boilerplate company information\"],bestPractices:[\"Headline: 10-12 words, active voice\",\"Dateline format: CITY, STATE - Date\",\"Paragraphs: 2-3 sentences max\",\"Total length: 400-600 words\",\"Include media contact info\",\"Use third person throughout\"],examples:[{category:\"Strong Headline\",input:\"Product Launch Announcement\",output:\"TechCorp Launches AI-Powered Analytics Platform, Reduces Processing Time by 75%\"},{category:\"Strategic Quote\",input:\"CEO Quote about expansion\",output:'\"This expansion reflects growing market demand for sustainable solutions and positions us to serve 2 million additional customers by 2026,\" said Jane Smith, CEO.'}],commonMistakes:[\"Using promotional language instead of factual reporting\",\"Burying the lead in paragraph 3 or later\",\"Generic quotes that don't add value\",\"Missing concrete metrics or dates\"]},\"crisis-response\":{title:\"Crisis Response Statement Guide\",subtitle:\"Professional Crisis Communication Framework\",framework:\"CARE Model\",tips:[\"Acknowledge the situation immediately and honestly\",\"Take appropriate responsibility without admitting legal fault\",\"Show genuine empathy for those affected\",\"Outline specific actions being taken to address the issue\",\"Provide clear next steps and timeline for updates\"],bestPractices:[\"Respond quickly - within 24 hours maximum\",\"Use clear, jargon-free language\",\"Be transparent about what you know and don't know\",\"Focus on those affected, not company impact\",\"Include specific corrective actions\",\"Provide contact information for further questions\"],examples:[{category:\"Acknowledgment\",input:\"We are investigating the issue\",output:\"We are deeply concerned about the data security incident that occurred on March 15th and are taking immediate action to address it.\"}],commonMistakes:[\"Deflecting blame or making excuses\",\"Using corporate speak instead of human language\",\"Focusing on company impact rather than those affected\",\"Being vague about corrective actions\"]},\"social-post\":{title:\"Social Media Post Guide\",subtitle:\"Platform-Optimized Engagement Strategy\",framework:\"Hook-Value-CTA\",tips:[\"Start with a compelling hook in the first 5 words\",\"Provide clear value or insight to your audience\",\"Use platform-appropriate hashtags (2-3 for LinkedIn, 5-10 for Instagram)\",\"Include a clear call-to-action\",\"Write in a conversational, authentic tone\"],bestPractices:[\"LinkedIn: 150-300 characters for maximum engagement\",\"Twitter: Use threads for longer content\",\"Keep paragraphs short (1-2 sentences)\",\"Ask questions to encourage comments\",\"Use emojis strategically for visual interest\",\"Post when your audience is most active\"],examples:[{category:\"Strong Hook\",input:\"Our new feature is great\",output:\"3 clicks. That's all it takes to automate your entire workflow with our new feature.\"}],commonMistakes:[\"Being too salesy or promotional\",\"Using too many hashtags\",\"Posting without a clear purpose\",\"Ignoring platform-specific best practices\"]},\"media-pitch\":{title:\"Media Pitch Guide\",subtitle:\"Journalist-Focused Communication Strategy\",framework:\"NEWS Framework\",tips:[\"Research the journalist and their beat thoroughly\",\"Lead with a compelling, newsworthy angle\",\"Explain why this story matters to their audience\",\"Provide exclusive access or unique data\",\"Make it easy for them to write the story\"],bestPractices:[\"Subject line: Clear, specific, benefit-focused\",\"Email length: 150-200 words maximum\",\"Include high-res images and resources\",\"Offer expert sources for interviews\",\"Follow up once after 1 week\",\"Personalize every pitch\"],examples:[{category:\"Strong Subject Line\",input:\"Story idea for you\",output:\"EXCLUSIVE: Local startup's AI reduces hospital readmissions by 40%\"}],commonMistakes:[\"Mass emailing without personalization\",\"Leading with company news instead of story angle\",\"Making it about you, not their audience\",\"Following up too aggressively\"]},\"exec-statement\":{title:\"Executive Statement Guide\",subtitle:\"Leadership Voice and Authority\",framework:\"Vision-Impact-Action\",tips:[\"Establish credibility and expertise early\",\"Use data and specific examples to support points\",\"Connect to broader industry trends or implications\",\"Speak with authority but remain relatable\",\"End with a forward-looking perspective\"],bestPractices:[\"Write in first person for authenticity\",\"Use confident, decisive language\",\"Include personal insights or experiences\",\"Reference industry data or trends\",\"Keep paragraphs short and punchy\",\"Include a memorable closing thought\"],examples:[{category:\"Authority Statement\",input:\"We think this will work\",output:\"After 15 years in this industry, I've never seen technology adoption happen this quickly - and here's why that matters for every business leader.\"}],commonMistakes:[\"Sounding too corporate or scripted\",\"Making unsubstantiated claims\",\"Focusing on company achievements rather than insights\",\"Using jargon that alienates readers\"]},\"qa-doc\":{title:\"Q&A Document Guide\",subtitle:\"Comprehensive Information Resource\",framework:\"Anticipate-Answer-Clarify\",tips:[\"Anticipate the most difficult questions stakeholders will ask\",\"Provide complete, honest answers without being defensive\",\"Use clear, simple language that anyone can understand\",\"Include specific examples and data when possible\",\"Address potential follow-up questions proactively\"],bestPractices:[\"Start with the most important questions\",\"Use consistent formatting throughout\",\"Keep answers concise but complete\",\"Include contact information for additional questions\",\"Update regularly as new questions arise\",\"Test with actual stakeholders before finalizing\"],examples:[{category:\"Clear Answer\",input:\"Q: Will this affect pricing?\",output:\"Q: Will this affect pricing? A: No. Current customers will see no price changes through 2025. New customers will see a 5% increase starting January 1st, 2026.\"}],commonMistakes:[\"Being evasive or overly vague\",\"Using technical jargon without explanation\",\"Ignoring difficult or uncomfortable questions\",\"Making the answers too long or complex\"]},messaging:{title:\"Messaging Framework Guide\",subtitle:\"Strategic Communication Foundation\",framework:\"Core-Proof-Benefit\",tips:[\"Define one clear, primary message that everything supports\",\"Create a hierarchy of supporting messages\",\"Ensure messages are relevant to each audience segment\",\"Include proof points and evidence for each claim\",\"Test messages with real audience members\"],bestPractices:[\"Core message: One sentence maximum\",\"Use active voice and strong verbs\",\"Include emotional and rational appeals\",\"Make messages memorable and repeatable\",\"Ensure consistency across all channels\",\"Update based on market feedback\"],examples:[{category:\"Core Message\",input:\"Our software is good for businesses\",output:\"We help growing companies automate their workflows so they can focus on what matters most: their customers.\"}],commonMistakes:[\"Trying to say too much in one message\",\"Being too generic or unmemorable\",\"Focusing on features instead of benefits\",\"Not adapting messages for different audiences\"]},\"thought-leadership\":{title:\"Thought Leadership Guide\",subtitle:\"Expert Authority and Insight\",framework:\"Insight-Evidence-Implication\",tips:[\"Share genuinely original insights or perspectives\",\"Support opinions with data, research, or experience\",\"Connect current trends to future implications\",\"Provide actionable advice readers can implement\",\"Position yourself as a trusted industry voice\"],bestPractices:[\"Lead with a provocative or counterintuitive insight\",\"Use personal experiences and case studies\",\"Include relevant data and statistics\",\"Reference other industry experts respectfully\",\"End with actionable recommendations\",\"Write 1,200-2,000 words for depth\"],examples:[{category:\"Strong Opening\",input:\"AI is changing business\",output:\"While everyone debates whether AI will replace human workers, the real disruption is already happening in a place no one's looking: middle management.\"}],commonMistakes:[\"Recycling common industry wisdom\",\"Making claims without supporting evidence\",\"Being too promotional about your company\",\"Not providing actionable insights\"]},presentation:{title:\"Presentation Deck Guide\",subtitle:\"Visual Storytelling Framework\",framework:\"Story Arc\",tips:[\"Start with a compelling hook or problem statement\",'Use the \"Rule of 3\" - group information in threes',\"Include one key point per slide maximum\",\"Use visuals to support, not replace, your narrative\",\"End with a clear call-to-action\"],bestPractices:[\"Slide count: 10-20 slides for 20-minute presentation\",\"Font size: 24pt minimum for readability\",\"Use high-contrast colors\",\"Include slide numbers and consistent branding\",\"Practice transitions between slides\",\"Prepare for Q&A with backup slides\"],examples:[{category:\"Slide Title\",input:\"Our Results\",output:\"3X Revenue Growth: How We Exceeded Every Target\"}],commonMistakes:[\"Too much text on slides\",\"Reading directly from slides\",\"Using low-quality or irrelevant images\",\"Not having a clear narrative flow\"]}};// Load content history\nuseEffect(()=>{loadContentHistory();loadTemplates();},[]);// Check for pending content briefs from Campaign Intelligence\nuseEffect(()=>{const pendingBrief=localStorage.getItem(\"pendingContentBrief\");if(pendingBrief){try{const briefData=JSON.parse(pendingBrief);// Pre-fill your form with briefData\nsetCurrentType(briefData.type||\"press-release\");// Wait a bit for form refs to be ready\nsetTimeout(()=>{const currentFields=getFormFields(briefData.type||\"press-release\");currentFields.forEach(field=>{if(field.key===\"title\"&&briefData.title&&contentFormRef.current[field.key]){contentFormRef.current[field.key].value=briefData.title;}if(field.key===\"topic\"&&briefData.brief&&contentFormRef.current[field.key]){contentFormRef.current[field.key].value=briefData.brief;}if(field.key===\"announcement\"&&briefData.brief&&contentFormRef.current[field.key]){contentFormRef.current[field.key].value=briefData.brief;}if(field.key===\"headline\"&&briefData.title&&contentFormRef.current[field.key]){contentFormRef.current[field.key].value=briefData.title;}});// Also fill AI assistant if available\nif(contentFormRef.current.assistantInput){contentFormRef.current.assistantInput.value=\"Create a \".concat(briefData.type,\" for: \").concat(briefData.brief);}},100);// Clear the localStorage\nlocalStorage.removeItem(\"pendingContentBrief\");}catch(error){console.error(\"Error loading content brief:\",error);}}},[]);const loadContentHistory=async()=>{setIsLoadingHistory(true);try{const response=await getContentHistory();setSavedContents(response.data||response||[]);}catch(error){console.error(\"Error loading content history:\",error);}finally{setIsLoadingHistory(false);}};const loadTemplates=async()=>{try{const response=await getContentTemplates();setTemplates(response.data||response||[]);}catch(error){console.error(\"Error loading templates:\",error);}};// Get form fields based on content type\nconst getFormFields=type=>{switch(type){case\"press-release\":return[{key:\"headline\",label:\"Press Release Headline\",placeholder:\"Company Announces Major Product Launch\",required:true},{key:\"location\",label:\"Dateline Location\",placeholder:\"NEW YORK, NY\"},{key:\"announcement\",label:\"Main Announcement\",placeholder:\"What is the core news being announced?\",type:\"textarea\",rows:2,required:true},{key:\"metrics\",label:\"Key Metrics & Data\",placeholder:\"Include specific numbers, percentages, dates\",type:\"textarea\",rows:2},{key:\"quotes\",label:\"Executive Quotes\",placeholder:\"Quote from CEO/leadership\",type:\"textarea\",rows:3},{key:\"background\",label:\"Supporting Details\",placeholder:\"Additional context\",type:\"textarea\",rows:2},{key:\"timing\",label:\"Timeline & Next Steps\",placeholder:\"When will this take effect?\"}];// Add other content types...\ndefault:return[{key:\"title\",label:\"Content Title\",placeholder:\"Enter content title\",required:true},{key:\"topic\",label:\"Topic/Subject\",placeholder:\"What is this content about?\",required:true},{key:\"messages\",label:\"Key Messages\",placeholder:\"Enter key messages...\",type:\"textarea\",rows:4}];}};// Generate content\nconst generateContent=async()=>{const formData={};const currentFields=getFormFields(currentType);currentFields.forEach(field=>{var _contentFormRef$curre;formData[field.key]=((_contentFormRef$curre=contentFormRef.current[field.key])===null||_contentFormRef$curre===void 0?void 0:_contentFormRef$curre.value)||\"\";});// Validate required fields\nconst requiredFields=currentFields.filter(field=>field.required);const missingFields=requiredFields.filter(field=>!formData[field.key].trim());if(missingFields.length>0){alert(\"Please fill in required fields: \".concat(missingFields.map(f=>f.label).join(\", \")));return;}setIsGenerating(true);setGenerationMethod(\"form\");setContentAnalysis(null);setShowAnalysis(false);try{const response=await apiGenerateContent({type:currentType,formData,tone:selectedTone,toneDescription:toneOptions[selectedTone],projectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.id,companyName:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.name)||(user===null||user===void 0?void 0:user.company)||\"the company\",industry:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.industry)||\"technology\"});setGeneratedContent(response.content);}catch(error){console.error(\"Content generation error:\",error);alert(\"Failed to generate content. Please try again.\");}finally{setIsGenerating(false);}};// Save generated content\nconst saveGeneratedContent=async()=>{if(!generatedContent){alert(\"No content to save.\");return;}try{var _contentFormRef$curre2,_contentFormRef$curre3;const title=((_contentFormRef$curre2=contentFormRef.current.headline)===null||_contentFormRef$curre2===void 0?void 0:_contentFormRef$curre2.value)||((_contentFormRef$curre3=contentFormRef.current.title)===null||_contentFormRef$curre3===void 0?void 0:_contentFormRef$curre3.value)||\"Generated Content\";const response=await saveContent({title,type:currentType,content:generatedContent,projectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.id,formData:getFormDataValues()});alert(\"âœ… Content saved successfully!\");loadContentHistory();}catch(error){console.error(\"Error saving content:\",error);alert(\"Failed to save content. Please try again.\");}};const getFormDataValues=()=>{const formData={};const currentFields=getFormFields(currentType);currentFields.forEach(field=>{var _contentFormRef$curre4;formData[field.key]=((_contentFormRef$curre4=contentFormRef.current[field.key])===null||_contentFormRef$curre4===void 0?void 0:_contentFormRef$curre4.value)||\"\";});return formData;};// AI Assistant prompt generation\nconst generateWithAI=async()=>{var _contentFormRef$curre5;const assistantInput=(_contentFormRef$curre5=contentFormRef.current.assistantInput)===null||_contentFormRef$curre5===void 0?void 0:_contentFormRef$curre5.value;if(!assistantInput){alert(\"Please describe what content you need help creating.\");return;}setIsGenerating(true);setGenerationMethod(\"ai\");try{var _response$data;const requestData={prompt:assistantInput,type:currentType,tone:selectedTone,toneDescription:toneOptions[selectedTone],projectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.id,companyName:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.name)||(user===null||user===void 0?void 0:user.company)||\"the company\",industry:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.industry)||\"technology\"};const response=await generateAIContent(requestData);const content=response.content||((_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.content)||response.message||response;setGeneratedContent(content);contentFormRef.current.assistantInput.value=\"\";setContentAnalysis(null);setShowAnalysis(false);}catch(error){console.error(\"AI Generation Error:\",error);alert(\"Failed to generate content with AI. Please try again.\");}finally{setIsGenerating(false);}};// NEW: Analyze content function\nconst analyzeContent=async()=>{if(!generatedContent){alert(\"No content to analyze.\");return;}if(!user||!user.id){alert(\"Please log in to analyze content.\");return;}setIsAnalyzing(true);try{const data=await apiAnalyzeContent({content:generatedContent,contentType:currentType,tone:selectedTone,toneDescription:toneOptions[selectedTone],targetAudience:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.targetAudience)||\"general\",user_id:user===null||user===void 0?void 0:user.userId,// Changed to user_id with underscore\ncontext:{company:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.name)||(user===null||user===void 0?void 0:user.company),industry:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.industry)||\"technology\",projectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.id,userId:user===null||user===void 0?void 0:user.userId// Also include it in context\n}});setContentAnalysis(data.analysis);setShowAnalysis(true);}catch(error){console.error(\"Analysis error:\",error);alert(\"Failed to analyze content. Please try again.\");}finally{setIsAnalyzing(false);}};// Template management\nconst handleTemplateUpload=async event=>{const files=event.target.files;if(!files||files.length===0)return;const formData=new FormData();for(let i=0;i<files.length;i++){formData.append(\"templates\",files[i]);}formData.append(\"contentType\",currentType);try{const response=await uploadTemplates(formData);alert(\"\\u2705 \".concat(response.data.uploaded,\" template(s) uploaded successfully!\"));loadTemplates();}catch(error){console.error(\"Template upload error:\",error);alert(\"Failed to upload templates. Please try again.\");}if(templateUploadRef.current){templateUploadRef.current.value=\"\";}};const deleteTemplate=async templateId=>{if(!window.confirm(\"Are you sure you want to delete this template?\")){return;}try{await apiDeleteTemplate(templateId);setTemplates(prev=>prev.filter(t=>t.id!==templateId));if((selectedTemplate===null||selectedTemplate===void 0?void 0:selectedTemplate.id)===templateId){setSelectedTemplate(null);}}catch(error){console.error(\"Error deleting template:\",error);alert(\"Failed to delete template.\");}};// Export functionality\nconst exportContent=async()=>{try{const response=await apiExportContent({content:generatedContent,format:exportFormat,templateId:selectedTemplate===null||selectedTemplate===void 0?void 0:selectedTemplate.id,type:currentType});// Handle file download\nconst blob=new Blob([response.content],{type:response.data.mimeType});const url=URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=response.data.filename;document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);setShowExportModal(false);alert(\"âœ… Content exported successfully!\");}catch(error){console.error(\"Export error:\",error);alert(\"Failed to export content.\");}};const currentGuide=promptGuides[currentType];const currentFields=getFormFields(currentType);return/*#__PURE__*/_jsxs(\"div\",{className:\"content-generator\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-generator-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"AI Content Generator\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Powered by best-in-class frameworks\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:\"\\uD83C\\uDFC6 Expert Model\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Content Type\"}),/*#__PURE__*/_jsx(\"select\",{ref:el=>contentFormRef.current.type=el,value:currentType,onChange:e=>{const newType=e.target.value;// Clear everything when content type changes\nsetCurrentType(newType);setGeneratedContent(\"\");setContentAnalysis(null);setShowAnalysis(false);setGenerationMethod(null);setShowGuides(false);// Clear form fields\nconst currentFields=getFormFields(currentType);currentFields.forEach(field=>{if(contentFormRef.current[field.key]){contentFormRef.current[field.key].value=\"\";}});// Clear AI assistant input\nif(contentFormRef.current.assistantInput){contentFormRef.current.assistantInput.value=\"\";}},className:\"form-control\",children:Object.entries(contentTypeLabels).map(_ref=>{let[value,label]=_ref;return/*#__PURE__*/_jsx(\"option\",{value:value,children:label},value);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Content Tone \",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#666',fontWeight:'normal'},children:\"(for AI and form generation)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tone-selector\",children:[/*#__PURE__*/_jsx(\"select\",{value:selectedTone,onChange:e=>setSelectedTone(e.target.value),className:\"form-control\",children:Object.entries(toneOptions).map(_ref2=>{let[value,config]=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:value,children:config.label},value);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tone-description\",children:[/*#__PURE__*/_jsx(\"p\",{children:toneOptions[selectedTone].description}),/*#__PURE__*/_jsx(\"div\",{className:\"tone-characteristics\",children:toneOptions[selectedTone].characteristics.map((char,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"characteristic-tag\",children:char},idx))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ai-assistant-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ai-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your AI Writing Partner\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:\"Smart Guidance\"})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'#666',marginBottom:'15px'},children:\"I'm your writing guide, not an interviewer. Tell me what you need and I'll create it directly. Or use the structured form below.\"}),/*#__PURE__*/_jsx(\"textarea\",{ref:el=>contentFormRef.current.assistantInput=el,placeholder:\"Example: \\\"Write a press release about our new product launch\\\" or \\\"Help me announce our partnership with XYZ Corp\\\"\",className:\"assistant-input\",style:{minHeight:'80px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:generateWithAI,disabled:isGenerating,className:\"btn btn-primary\",children:isGenerating&&generationMethod===\"ai\"?\"ðŸ¤– Writing...\":\"âœ¨ Create Content\"})]}),generatedContent&&generationMethod===\"ai\"&&/*#__PURE__*/_jsx(\"div\",{className:\"ai-generated-note\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u2728 Content created with AI assistance. You can edit it directly in the output below, or ask me for specific changes like \\\"make it more casual\\\" or \\\"add metrics about user growth\\\".\"})}),(!generatedContent||generationMethod===\"form\")&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"writing-guide\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowGuides(!showGuides),className:\"guide-toggle\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"guide-button-content\",children:[/*#__PURE__*/_jsx(Lightbulb,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"Writing Guide & Best Practices\"}),currentGuide&&/*#__PURE__*/_jsx(\"span\",{className:\"framework-badge\",children:currentGuide.framework})]}),/*#__PURE__*/_jsx(\"div\",{className:\"guide-toggle-icon\",children:showGuides?\"â–¼\":\"â–¶\"})]}),showGuides&&currentGuide&&/*#__PURE__*/_jsxs(\"div\",{className:\"guide-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"guide-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:currentGuide.title}),/*#__PURE__*/_jsx(\"p\",{className:\"guide-subtitle\",children:currentGuide.subtitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"guide-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Key Tips\"}),/*#__PURE__*/_jsx(\"ul\",{children:currentGuide.tips.map((tip,index)=>/*#__PURE__*/_jsx(\"li\",{children:tip},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"guide-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Best Practices\"}),/*#__PURE__*/_jsx(\"ul\",{children:currentGuide.bestPractices.map((practice,index)=>/*#__PURE__*/_jsx(\"li\",{children:practice},index))})]}),currentGuide.examples&&/*#__PURE__*/_jsxs(\"div\",{className:\"guide-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Examples\"}),currentGuide.examples.map((example,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"example-item\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[example.category,\":\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"example-before\",children:[\"Before: \",example.input]}),/*#__PURE__*/_jsxs(\"div\",{className:\"example-after\",children:[\"After: \",example.output]})]},index))]}),currentGuide.commonMistakes&&/*#__PURE__*/_jsxs(\"div\",{className:\"guide-section\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Common Mistakes to Avoid\"}),/*#__PURE__*/_jsx(\"ul\",{children:currentGuide.commonMistakes.map((mistake,index)=>/*#__PURE__*/_jsx(\"li\",{children:mistake},index))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-fields\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[contentTypeLabels[currentType],\" Details\"]}),currentFields.map(field=>/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[field.label,field.required&&/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),field.type===\"textarea\"?/*#__PURE__*/_jsx(\"textarea\",{ref:el=>contentFormRef.current[field.key]=el,placeholder:field.placeholder,rows:field.rows||3,className:\"form-control\"}):/*#__PURE__*/_jsx(\"input\",{ref:el=>contentFormRef.current[field.key]=el,type:\"text\",placeholder:field.placeholder,className:\"form-control\"})]},field.key))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:generateContent,disabled:isGenerating,className:\"btn btn-primary\",children:isGenerating?\"â³ Generating...\":\"âœ¨ Generate with Best Practices\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{currentFields.forEach(field=>{if(contentFormRef.current[field.key]){contentFormRef.current[field.key].value=\"\";}});setGeneratedContent(\"\");setContentAnalysis(null);setShowAnalysis(false);setGenerationMethod(null);},className:\"btn btn-secondary\",disabled:isGenerating,children:\"Clear Form\"})]})]}),generatedContent&&/*#__PURE__*/_jsxs(\"div\",{className:\"generated-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Generated Content\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-badges\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge success\",children:\"\\u2705 Best Practice Applied\"}),currentGuide&&/*#__PURE__*/_jsx(\"span\",{className:\"badge\",children:currentGuide.framework}),/*#__PURE__*/_jsxs(\"span\",{className:\"badge tone-badge\",children:[\"\\uD83C\\uDFAF \",toneOptions[selectedTone].label]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content-display\",children:generatedContent}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-actions\",children:[/*#__PURE__*/_jsx(SaveToMemoryVaultButton,{content:generatedContent,title:\"\".concat(contentTypeLabels[currentType],\" - \").concat(new Date().toLocaleDateString()),type:\"content\",source:\"content-generator\",folder_type:\"content\",tags:[currentType,selectedTone,\"generated\"],metadata:{generated_at:new Date().toISOString(),project_id:selectedProject===null||selectedProject===void 0?void 0:selectedProject.id,content_type:currentType,tone:selectedTone}}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{navigator.clipboard.writeText(generatedContent);alert(\"âœ… Content copied to clipboard!\");},className:\"btn btn-secondary\",children:[/*#__PURE__*/_jsx(Copy,{}),\" Copy\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowExportModal(true),className:\"btn btn-secondary\",children:[/*#__PURE__*/_jsx(Download,{}),\" Export\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:analyzeContent,disabled:isAnalyzing,className:\"btn btn-analytics\",style:{background:\"linear-gradient(135deg, #7c3aed 0%, #2563eb 100%)\",color:\"white\"},children:isAnalyzing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BarChart3,{className:\"spinning\"}),\"Analyzing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BarChart3,{}),\"Analyze Performance\"]})})]}),showAnalysis&&contentAnalysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-header\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Content Performance Analysis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"overall-score\",children:[/*#__PURE__*/_jsx(BarChart3,{}),/*#__PURE__*/_jsx(\"span\",{children:\"Overall Score: \"}),/*#__PURE__*/_jsxs(\"strong\",{style:{color:getScoreColor(contentAnalysis.overallScore)},children:[contentAnalysis.overallScore,\"%\"]})]})]}),contentAnalysis.toneAlignment&&/*#__PURE__*/_jsxs(\"div\",{className:\"tone-alignment-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tone-alignment-header\",children:[/*#__PURE__*/_jsx(Zap,{}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"Tone Alignment: \",toneOptions[selectedTone].label]}),/*#__PURE__*/_jsxs(\"span\",{className:\"alignment-score\",style:{color:getScoreColor(contentAnalysis.toneAlignment.score)},children:[contentAnalysis.toneAlignment.score,\"%\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"alignment-feedback\",children:contentAnalysis.toneAlignment.feedback})]}),/*#__PURE__*/_jsx(\"div\",{className:\"metrics-grid\",children:Object.entries(contentAnalysis.scores||{}).map(_ref3=>{let[key,score]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"score-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"score-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"score-label\",children:key.replace(/([A-Z])/g,\" $1\").replace(/^./,str=>str.toUpperCase())}),/*#__PURE__*/_jsxs(\"span\",{className:\"score-value\",style:{color:getScoreColor(score)},children:[score,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"score-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"score-fill\",style:{width:\"\".concat(score,\"%\"),backgroundColor:getScoreColor(score)}})})]},key);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"insights-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card strengths\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-header\",children:[/*#__PURE__*/_jsx(CheckCircle,{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Strengths\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:(((_contentAnalysis$insi=contentAnalysis.insights)===null||_contentAnalysis$insi===void 0?void 0:_contentAnalysis$insi.strengths)||[]).map((strength,index)=>/*#__PURE__*/_jsx(\"li\",{children:strength},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card improvements\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-header\",children:[/*#__PURE__*/_jsx(Lightbulb,{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Improvements\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:(((_contentAnalysis$insi2=contentAnalysis.insights)===null||_contentAnalysis$insi2===void 0?void 0:_contentAnalysis$insi2.improvements)||[]).map((improvement,index)=>/*#__PURE__*/_jsx(\"li\",{children:improvement},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"insight-card risks\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"insight-header\",children:[/*#__PURE__*/_jsx(AlertTriangle,{}),/*#__PURE__*/_jsx(\"h4\",{children:\"Risk Factors\"})]}),/*#__PURE__*/_jsx(\"ul\",{children:(((_contentAnalysis$insi3=contentAnalysis.insights)===null||_contentAnalysis$insi3===void 0?void 0:_contentAnalysis$insi3.risks)||[]).map((risk,index)=>/*#__PURE__*/_jsx(\"li\",{children:risk},index))})]})]}),contentAnalysis.predictions&&/*#__PURE__*/_jsxs(\"div\",{className:\"predictions-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Performance Predictions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-items\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Media Pickup:\"}),\" \",contentAnalysis.predictions.mediaPickup]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Social Engagement:\"}),\" \",contentAnalysis.predictions.socialEngagement]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prediction-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Investor Interest:\"}),\" \",contentAnalysis.predictions.investorInterest]})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Content History\"}),isLoadingHistory?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"}):savedContents.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:\"No saved content yet\"}):/*#__PURE__*/_jsx(\"div\",{className:\"content-list\",children:savedContents.map(content=>/*#__PURE__*/_jsxs(\"div\",{className:\"content-item\",children:[/*#__PURE__*/_jsx(\"h4\",{children:content.title}),/*#__PURE__*/_jsx(\"span\",{className:\"content-type\",children:contentTypeLabels[content.type]}),/*#__PURE__*/_jsx(\"span\",{className:\"content-date\",children:new Date(content.created_at).toLocaleDateString()}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setGeneratedContent(content.content);setCurrentType(content.type);},className:\"btn-small\",children:\"Load\"})]},content.id))})]})]}),showTemplateManager&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Template Manager\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowTemplateManager(false),children:/*#__PURE__*/_jsx(X,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"template-upload\",children:[/*#__PURE__*/_jsx(\"input\",{ref:templateUploadRef,type:\"file\",multiple:true,accept:\".docx,.pptx,.html,.txt\",onChange:handleTemplateUpload,style:{display:\"none\"}}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{var _templateUploadRef$cu;return(_templateUploadRef$cu=templateUploadRef.current)===null||_templateUploadRef$cu===void 0?void 0:_templateUploadRef$cu.click();},className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(Upload,{}),\" Upload Templates\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"template-list\",children:templates.map(template=>/*#__PURE__*/_jsxs(\"div\",{className:\"template-item\",children:[/*#__PURE__*/_jsx(FileText,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"template-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:template.name}),/*#__PURE__*/_jsx(\"span\",{children:template.content_type||\"Universal\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTemplate(template.id),children:/*#__PURE__*/_jsx(X,{})})]},template.id))})]})]})}),showExportModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Export Content\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowExportModal(false),children:/*#__PURE__*/_jsx(X,{})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"export-formats\",children:[\"google-docs\",\"word\",\"pdf\",\"powerpoint\"].map(format=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setExportFormat(format);exportContent();},className:\"export-option\",children:format.replace(\"-\",\" \").toUpperCase()},format))})})]})})]});};export default ContentGenerator;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}