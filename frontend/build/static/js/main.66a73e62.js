/*! For license information please see main.66a73e62.js.LICENSE.txt */
(()=>{"use strict";var e={11:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(427));class a extends i.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(i,"fts").concat(a,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}}t.default=a},47:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(11));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:i}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let a=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer="count=".concat(n)),new i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=["resolution=".concat(n?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push("count=".concat(r)),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},53:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const i=r(n(71));t.PostgrestClient=i.default;const a=r(n(47));t.PostgrestQueryBuilder=a.default;const s=r(n(11));t.PostgrestFilterBuilder=s.default;const o=r(n(427));t.PostgrestTransformBuilder=o.default;const l=r(n(569));t.PostgrestBuilder=l.default;const c=r(n(732));t.PostgrestError=c.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},71:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(47)),a=r(n(11)),s=n(724);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new i.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:i=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;r||i?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer="count=".concat(s)),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},85:(e,t,n)=>{var r=n(340),i=n(950),a=n(119);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case f:return"Portal";case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var A=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},L=[],D=-1;function F(e){return{current:e}}function U(e){0>D||(e.current=L[D],L[D]=null,D--)}function B(e,t){D++,L[D]=e.current,e.current=t}var q=F(null),W=F(null),H=F(null),J=F(null);function V(e,t){switch(B(H,t),B(W,e),B(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(q),B(q,e)}function G(){U(q),U(W),U(H)}function K(e){null!==e.memoizedState&&B(J,e);var t=q.current,n=ad(t,e.type);t!==n&&(B(W,e),B(q,n))}function Y(e){W.current===e&&(U(q),U(W)),J.current===e&&(U(J),Kd._currentValue=M)}var $=Object.prototype.hasOwnProperty,X=r.unstable_scheduleCallback,Q=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,se=r.unstable_LowPriority,oe=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/fe|0)|0},me=Math.log,fe=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=ye(r):0!==(s&=o)?i=ye(s):n||0!==(n=o&~e)&&(i=ye(n)):0!==(o=r&~a)?i=ye(o):0!==s?i=ye(s):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function Se(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ne(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ie=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ie,Ae="__reactProps$"+Ie,Re="__reactContainer$"+Ie,ze="__reactEvents$"+Ie,Me="__reactListeners$"+Ie,Le="__reactHandles$"+Ie,De="__reactResources$"+Ie,Fe="__reactMarker$"+Ie;function Ue(e){delete e[Oe],delete e[Ae],delete e[ze],delete e[Me],delete e[Le]}function Be(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Oe])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function qe(e){if(e=e[Oe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function He(e){var t=e[De];return t||(t=e[De]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Fe]=!0}var Ve=new Set,Ge={};function Ke(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ve.add(t[e])}var $e,Xe,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,$.call(et,i)||!$.call(Ze,i)&&(Qe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Xe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Xe}var at=!1;function st(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ft(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,ct(t)):null!=n?yt(e,s,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function vt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(A(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function St(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&St(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&St(e,a,t[a])}function Nt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ct=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return Ct.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function It(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,At=null;function Rt(e){var t=qe(e);if(t&&(e=t.stateNode)){var n=e[Ae]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ft(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ae]||null;if(!i)throw Error(s(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var zt=!1;function Mt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Ot||null!==At)&&(Bc(),Ot&&(t=Ot,e=At,At=Ot=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ae]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Dt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Dt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ah){Ft=!1}var Bt=null,qt=null,Wt=null;function Ht(){if(Wt)return Wt;var e,t,n=qt,r=n.length,i="value"in Bt?Bt.value:Bt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Vt(){return!0}function Gt(){return!1}function Kt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Vt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),t}var Yt,$t,Xt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Qt),en=h({},Qt,{view:0,detail:0}),tn=Kt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xt&&(Xt&&"mousemove"===e.type?(Yt=e.screenX-Xt.screenX,$t=e.screenY-Xt.screenY):$t=Yt=0,Xt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),rn=Kt(nn),an=Kt(h({},nn,{dataTransfer:0})),sn=Kt(h({},en,{relatedTarget:0})),on=Kt(h({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(h({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(h({},Qt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function mn(){return pn}var fn=Kt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),vn=Kt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),yn=Kt(h({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Kt(h({},Qt,{newState:0,oldState:0})),xn=[9,13,27,32],kn=Dt&&"CompositionEvent"in window,_n=null;Dt&&"documentMode"in document&&(_n=document.documentMode);var Sn=Dt&&"TextEvent"in window&&!_n,jn=Dt&&(!kn||_n&&8<_n&&11>=_n),Nn=String.fromCharCode(32),En=!1;function Cn(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var In={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!In[e.type]:"textarea"===t}function An(e,t,n,r){Ot?At?At.push(r):At=[r]:Ot=r,0<(t=Hu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rn=null,zn=null;function Mn(e){Mu(e,0)}function Ln(e){if(ht(We(e)))return e}function Dn(e,t){if("change"===e)return t}var Fn=!1;if(Dt){var Un;if(Dt){var Bn="oninput"in document;if(!Bn){var qn=document.createElement("div");qn.setAttribute("oninput","return;"),Bn="function"===typeof qn.oninput}Un=Bn}else Un=!1;Fn=Un&&(!document.documentMode||9<document.documentMode)}function Wn(){Rn&&(Rn.detachEvent("onpropertychange",Hn),zn=Rn=null)}function Hn(e){if("value"===e.propertyName&&Ln(zn)){var t=[];An(t,zn,e,It(e)),Mt(Mn,t)}}function Jn(e,t,n){"focusin"===e?(Wn(),zn=n,(Rn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Wn()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(zn)}function Gn(e,t){if("click"===e)return Ln(t)}function Kn(e,t){if("input"===e||"change"===e)return Ln(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=Xn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Dt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,ar=null,sr=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&$n(ar,r)||(ar=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},dr={};function hr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Dt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=hr("animationend"),mr=hr("animationiteration"),fr=hr("animationstart"),gr=hr("transitionrun"),vr=hr("transitionstart"),yr=hr("transitioncancel"),br=hr("transitionend"),wr=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){wr.set(e,t),Ke(t,[e])}xr.push("scrollEnd");var _r=new WeakMap;function Sr(e,t){if("object"===typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},_r.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var jr=[],Nr=0,Er=0;function Cr(){for(var e=Nr,t=Er=Nr=0;t<e;){var n=jr[t];jr[t++]=null;var r=jr[t];jr[t++]=null;var i=jr[t];jr[t++]=null;var a=jr[t];if(jr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Or(n,i,a)}}function Pr(e,t,n,r){jr[Nr++]=e,jr[Nr++]=t,jr[Nr++]=n,jr[Nr++]=r,Er|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Pr(e,t,n,r),Ar(e)}function Ir(e,t){return Pr(e,null,null,t),Ar(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Ar(e){if(50<Oc)throw Oc=0,Ac=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Rr={};function zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new zr(e,t,n,r)}function Lr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Lr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Mr(31,n,t,i)).elementType=E,e.lanes=a,e;case g:return Br(n.children,i,a,t);case v:o=8,i|=24;break;case y:return(e=Mr(12,n,t,2|i)).elementType=y,e.lanes=a,e;case _:return(e=Mr(13,n,t,i)).elementType=_,e.lanes=a,e;case S:return(e=Mr(19,n,t,i)).elementType=S,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case j:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function qr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Jr=0,Vr=null,Gr=0,Kr=[],Yr=0,$r=null,Xr=1,Qr="";function Zr(e,t){Hr[Jr++]=Gr,Hr[Jr++]=Vr,Vr=e,Gr=t}function ei(e,t,n){Kr[Yr++]=Xr,Kr[Yr++]=Qr,Kr[Yr++]=$r,$r=e;var r=Xr;e=Qr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var a=32-pe(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Xr=1<<32-pe(t)+i|n<<i|r,Qr=a+e}else Xr=1<<a|n<<i|r,Qr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Vr;)Vr=Hr[--Jr],Hr[Jr]=null,Gr=Hr[--Jr],Hr[Jr]=null;for(;e===$r;)$r=Kr[--Yr],Kr[Yr]=null,Qr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null}var ri=null,ii=null,ai=!1,si=null,oi=!1,li=Error(s(519));function ci(e){throw fi(Sr(Error(s(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Ae]=r,n){case"dialog":Lu("cancel",t),Lu("close",t);break;case"iframe":case"object":case"embed":Lu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Lu(Ru[n],t);break;case"source":Lu("error",t);break;case"img":case"image":case"link":Lu("error",t),Lu("load",t);break;case"details":Lu("toggle",t);break;case"input":Lu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Lu("invalid",t);break;case"textarea":Lu("invalid",t),xt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Lu("beforetoggle",t),Lu("toggle",t)),null!=r.onScroll&&Lu("scroll",t),null!=r.onScrollEnd&&Lu("scrollend",t),null!=r.onClick&&(t.onclick=Xu),t=!0):t=!1,t||ci(e)}function di(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(oi=!1);case 27:case 3:return void(oi=!0);default:ri=ri.return}}function hi(e){if(e!==ri)return!1;if(!ai)return di(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),di(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=vd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,pd(e.type)?(e=yd,yd=null,ii=e):ii=n):ii=ri?vd(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,ai=!1}function mi(){var e=si;return null!==e&&(null===bc?bc=e:bc.push.apply(bc,e),si=null),e}function fi(e){null===si?si=[e]:si.push(e)}var gi=F(null),vi=null,yi=null;function bi(e,t,n){B(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,U(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xi(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),xi(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function _i(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===J.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}i=i.return}null!==e&&ki(t,e,n,r),t.flags|=262144}function Si(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){vi=e,yi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ni(e){return Ci(vi,e)}function Ei(e,t){return null===vi&&ji(e),Ci(e,t)}function Ci(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===yi){if(null===e)throw Error(s(308));yi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else yi=yi.next=t;return n}var Pi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ti=r.unstable_scheduleCallback,Ii=r.unstable_NormalPriority,Oi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ai(){return{controller:new Pi,data:new Map,refCount:0}}function Ri(e){e.refCount--,0===e.refCount&&Ti(Ii,function(){e.controller.abort()})}var zi=null,Mi=0,Li=0,Di=null;function Fi(){if(0===--Mi&&null!==zi){null!==Di&&(Di.status="fulfilled");var e=zi;zi=null,Li=0,Di=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===zi){var n=zi=[];Mi=0,Li=Pu(),Di={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Fi,Fi)}(0,t),null!==Ui&&Ui(e,t)};var Bi=F(null);function qi(){var e=Bi.current;return null!==e?e:rc.pooledCache}function Wi(e,t){B(Bi,null===t?Bi.current:t.pool)}function Hi(){var e=qi();return null===e?null:{parent:Oi._currentValue,pool:e}}var Ji=Error(s(460)),Vi=Error(s(474)),Gi=Error(s(542)),Ki={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $i(){}function Xi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($i,$i),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then($i,$i);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Qi=t,Ji}}var Qi=null;function Zi(){if(null===Qi)throw Error(s(459));var e=Qi;return Qi=null,e}function ea(e){if(e===Ji||e===Gi)throw Error(s(483))}var ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),Or(e,null,n),t}return Pr(e,r,t,n),Ar(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var la=!1;function ca(){if(la){if(null!==Di)throw Di}}function ua(e,t,n,r){la=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var p=-536870913&o.lane,m=p!==o.lane;if(m?(ac&p)===p:(r&p)===p){0!==p&&p===Li&&(la=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,g=o;p=t;var v=n;switch(g.tag){case 1:if("function"===typeof(f=g.payload)){d=f.call(v,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=g.payload)?f.call(v,d,p):f)||void 0===p)break e;d=h({},d,p);break e;case 2:ta=!0}}null!==(p=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=i.callbacks)?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,s|=p;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(m=o).next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)da(n[e],t)}var pa=F(null),ma=F(0);function fa(e,t){B(ma,e=dc),B(pa,t),dc=e|t.baseLanes}function ga(){B(ma,dc),B(pa,pa.current)}function va(){dc=ma.current,U(pa),U(ma)}var ya=0,ba=null,wa=null,xa=null,ka=!1,_a=!1,Sa=!1,ja=0,Na=0,Ea=null,Ca=0;function Pa(){throw Error(s(321))}function Ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){return ya=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Js:Vs,Sa=!1,a=n(r,i),Sa=!1,_a&&(a=Aa(t,n,r,i)),Oa(e),a}function Oa(e){R.H=Hs;var t=null!==wa&&null!==wa.next;if(ya=0,xa=wa=ba=null,ka=!1,Na=0,Ea=null,t)throw Error(s(300));null===e||Eo||null!==(e=e.dependencies)&&Si(e)&&(Eo=!0)}function Aa(e,t,n,r){ba=e;var i=0;do{if(_a&&(Ea=null),Na=0,_a=!1,25<=i)throw Error(s(301));if(i+=1,xa=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=Gs,a=t(n,r)}while(_a);return a}function Ra(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Ua(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(ba.flags|=1024),t}function za(){var e=0!==ja;return ja=0,e}function Ma(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}ka=!1}ya=0,xa=wa=ba=null,_a=!1,Na=ja=0,Ea=null}function Da(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xa?ba.memoizedState=xa=e:xa=xa.next=e,xa}function Fa(){if(null===wa){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===xa?ba.memoizedState:xa.next;if(null!==t)xa=t,wa=e;else{if(null===e){if(null===ba.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===xa?ba.memoizedState=xa=e:xa=xa.next=e}return xa}function Ua(e){var t=Na;return Na+=1,null===Ea&&(Ea=[]),e=Xi(Ea,e,t),t=ba,null===(null===xa?t.memoizedState:xa.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Js:Vs),e}function Ba(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ua(e);if(e.$$typeof===x)return Ni(e)}throw Error(s(438,String(e)))}function qa(e){var t=null,n=ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function Wa(e,t){return"function"===typeof t?t(e):t}function Ha(e){return Ja(Fa(),wa,e)}function Ja(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(ya&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Li&&(d=!0);else{if((ya&p)===p){u=u.next,p===Li&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,ba.lanes|=p,pc|=p}h=u.action,Sa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=a):c=c.next=p,ba.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Yn(a,e.memoizedState)&&(Eo=!0,d&&null!==(n=Di)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Va(e){var t=Fa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Yn(a,t.memoizedState)||(Eo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ga(e,t,n){var r=ba,i=Fa(),a=ai;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Yn((wa||i).memoizedState,n);if(o&&(i.memoizedState=n,Eo=!0),i=i.queue,gs(2048,8,$a.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==xa&&1&xa.memoizedState.tag){if(r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,i,n,t),null),null===rc)throw Error(s(349));a||0!==(124&ya)||Ka(r,t,n)}return n}function Ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Xa(t)&&Qa(e)}function $a(e,t,n){return n(function(){Xa(t)&&Qa(e)})}function Xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Qa(e){var t=Ir(e,2);null!==t&&Mc(t,e,2)}function Za(e){var t=Da();if("function"===typeof e){var n=e;if(e=n(),Sa){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},t}function es(e,t,n,r){return e.baseState=n,Ja(e,wa,"function"===typeof r?r:Wa)}function ts(e,t,n,r,i){if(Bs(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ns(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ns(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=R.T,s={};R.T=s;try{var o=n(i,r),l=R.S;null!==l&&l(s,o),rs(e,t,o)}catch(c){as(e,t,c)}finally{R.T=a}}else try{rs(e,t,a=n(i,r))}catch(u){as(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return as(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,ss(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ns(e,n)))}function as(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ss(t),t=t.next}while(t!==r)}e.action=null}function ss(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function os(e,t){return t}function ls(e,t){if(ai){var n=rc.formState;if(null!==n){e:{var r=ba;if(ai){if(ii){t:{for(var i=ii,a=oi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=vd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=vd(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=Da()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},n.queue=r,n=Ds.bind(null,ba,r),r.dispatch=n,r=Za(!1),a=Us.bind(null,ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Da()).queue=i,n=ts.bind(null,ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function cs(e){return us(Fa(),wa,e)}function us(e,t,n){if(t=Ja(e,t,os)[0],e=Ha(Wa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ua(t)}catch(s){if(s===Ji)throw Gi;throw s}else r=t;var i=(t=Fa()).queue,a=i.dispatch;return n!==t.memoizedState&&(ba.flags|=2048,ps(9,{destroy:void 0,resource:void 0},ds.bind(null,i,n),null)),[r,a,e]}function ds(e,t){e.action=t}function hs(e){var t=Fa(),n=wa;if(null!==n)return us(t,n,e);Fa(),t=t.memoizedState;var r=(n=Fa()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ps(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Fa().memoizedState}function fs(e,t,n,r){var i=Da();r=void 0===r?null:r,ba.flags|=e,i.memoizedState=ps(1|t,{destroy:void 0,resource:void 0},n,r)}function gs(e,t,n,r){var i=Fa();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==wa&&null!==r&&Ta(r,wa.memoizedState.deps)?i.memoizedState=ps(t,a,n,r):(ba.flags|=e,i.memoizedState=ps(1|t,a,n,r))}function vs(e,t){fs(8390656,8,e,t)}function ys(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function ws(e,t){return gs(4,4,e,t)}function xs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function ks(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,xs.bind(null,t,e),n)}function _s(){}function Ss(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function js(e,t){var n=Fa();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ta(t,r[1]))return r[0];if(r=e(),Sa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Ns(e,t,n){return void 0===n||0!==(1073741824&ya)?e.memoizedState=t:(e.memoizedState=n,e=zc(),ba.lanes|=e,pc|=e,n)}function Es(e,t,n,r){return Yn(n,t)?n:null!==pa.current?(e=Ns(e,n,r),Yn(e,t)||(Eo=!0),e):0===(42&ya)?(Eo=!0,e.memoizedState=n):(e=zc(),ba.lanes|=e,pc|=e,t)}function Cs(e,t,n,r,i){var a=z.p;z.p=0!==a&&8>a?a:8;var s=R.T,o={};R.T=o,Us(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Fs(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Rc());else Fs(e,t,r,Rc())}catch(u){Fs(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{z.p=a,R.T=s}}function Ps(){}function Ts(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=Is(e).queue;Cs(e,i,t,M,null===n?Ps:function(){return Os(e),n(r)})}function Is(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Os(e){Fs(e,Is(e).next.queue,{},Rc())}function As(){return Ni(Kd)}function Rs(){return Fa().memoizedState}function zs(){return Fa().memoizedState}function Ms(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),r=aa(t,e=ia(n),n);return null!==r&&(Mc(r,t,n),sa(r,t,n)),t={cache:Ai()},void(e.payload=t)}t=t.return}}function Ls(e,t,n){var r=Rc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bs(e)?qs(t,n):null!==(n=Tr(e,t,n,r))&&(Mc(n,e,r),Ws(n,t,r))}function Ds(e,t,n){Fs(e,t,n,Rc())}function Fs(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bs(e))qs(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Yn(o,s))return Pr(e,t,i,0),null===rc&&Cr(),!1}catch(l){}if(null!==(n=Tr(e,t,i,r)))return Mc(n,e,r),Ws(n,t,r),!0}return!1}function Us(e,t,n,r){if(r={lane:2,revertLane:Pu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bs(e)){if(t)throw Error(s(479))}else null!==(t=Tr(e,n,r,2))&&Mc(t,e,2)}function Bs(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function qs(e,t){_a=ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ee(e,n)}}var Hs={readContext:Ni,use:Ba,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useLayoutEffect:Pa,useInsertionEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useSyncExternalStore:Pa,useId:Pa,useHostTransitionStatus:Pa,useFormState:Pa,useActionState:Pa,useOptimistic:Pa,useMemoCache:Pa,useCacheRefresh:Pa},Js={readContext:Ni,use:Ba,useCallback:function(e,t){return Da().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,fs(4194308,4,xs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){fs(4,2,e,t)},useMemo:function(e,t){var n=Da();t=void 0===t?null:t;var r=e();if(Sa){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Da();if(void 0!==n){var i=n(t);if(Sa){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ls.bind(null,ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Da().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,n=Ds.bind(null,ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:_s,useDeferredValue:function(e,t){return Ns(Da(),e,t)},useTransition:function(){var e=Za(!1);return e=Cs.bind(null,ba,e.queue,!0,!1),Da().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ba,i=Da();if(ai){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===rc)throw Error(s(349));0!==(124&ac)||Ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,vs($a.bind(null,r,a,e),[e]),r.flags|=2048,ps(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,a,n,t),null),n},useId:function(){var e=Da(),t=rc.identifierPrefix;if(ai){var n=Qr;t="\xab"+t+"R"+(n=(Xr&~(1<<32-pe(Xr)-1)).toString(32)+n),0<(n=ja++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ca++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:As,useFormState:ls,useActionState:ls,useOptimistic:function(e){var t=Da();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Us.bind(null,ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:qa,useCacheRefresh:function(){return Da().memoizedState=Ms.bind(null,ba)}},Vs={readContext:Ni,use:Ba,useCallback:Ss,useContext:Ni,useEffect:ys,useImperativeHandle:ks,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:js,useReducer:Ha,useRef:ms,useState:function(){return Ha(Wa)},useDebugValue:_s,useDeferredValue:function(e,t){return Es(Fa(),wa.memoizedState,e,t)},useTransition:function(){var e=Ha(Wa)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ga,useId:Rs,useHostTransitionStatus:As,useFormState:cs,useActionState:cs,useOptimistic:function(e,t){return es(Fa(),0,e,t)},useMemoCache:qa,useCacheRefresh:zs},Gs={readContext:Ni,use:Ba,useCallback:Ss,useContext:Ni,useEffect:ys,useImperativeHandle:ks,useInsertionEffect:bs,useLayoutEffect:ws,useMemo:js,useReducer:Va,useRef:ms,useState:function(){return Va(Wa)},useDebugValue:_s,useDeferredValue:function(e,t){var n=Fa();return null===wa?Ns(n,e,t):Es(n,wa.memoizedState,e,t)},useTransition:function(){var e=Va(Wa)[0],t=Fa().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Ga,useId:Rs,useHostTransitionStatus:As,useFormState:hs,useActionState:hs,useOptimistic:function(e,t){var n=Fa();return null!==wa?es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:qa,useCacheRefresh:zs},Ks=null,Ys=0;function $s(e){var t=Ys;return Ys+=1,null===Ks&&(Ks=[]),Xi(Ks,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Qs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zs(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Dr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Zs(a)===t.type)?(Xs(t=i(t,n.props),n),t.return=e,t):(Xs(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Xs(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Wr(t,e.mode,n)).return=e,t;case N:return h(e,t=(0,t._init)(t._payload),n)}if(A(t)||T(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,$s(t),n);if(t.$$typeof===x)return h(e,Ei(e,t),n);Qs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case f:return n.key===i?u(e,t,n,r):null;case N:return p(e,t,n=(i=n._init)(n._payload),r)}if(A(n)||T(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,$s(n),r);if(n.$$typeof===x)return p(e,t,Ei(e,n),r);Qs(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(A(r)||T(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,$s(r),i);if(r.$$typeof===x)return v(e,t,n,Ei(t,r),i);Qs(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&Zs(b)===c.type){n(l,c.sibling),Xs(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case f:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return o(l);case N:return y(l,c,u=(b=u._init)(u._payload),d)}if(A(u))return function(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,f=null;null!==d&&m<o.length;m++){d.index>m?(f=d,d=null):f=d.sibling;var g=p(i,d,o[m],l);if(null===g){null===d&&(d=f);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g,d=f}if(m===o.length)return n(i,d),ai&&Zr(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return ai&&Zr(i,m),c}for(d=r(d);m<o.length;m++)null!==(f=v(d,i,m,o[m],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?m:f.key),s=a(f,s,m),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(i,e)}),ai&&Zr(i,m),c}(l,c,u,d);if(T(u)){if("function"!==typeof(b=T(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=o,f=o=0,g=null,y=l.next();null!==m&&!y.done;f++,y=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,f),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(i,m),ai&&Zr(i,f),u;if(null===m){for(;!y.done;f++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return ai&&Zr(i,f),u}for(m=r(m);!y.done;f++,y=l.next())null!==(y=v(m,i,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),o=a(y,o,f),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),ai&&Zr(i,f),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,$s(u),d);if(u.$$typeof===x)return y(l,c,Ei(l,u),d);Qs(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=qr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{Ys=0;var i=y(e,t,n,r);return Ks=null,i}catch(s){if(s===Ji||s===Gi)throw s;var a=Mr(29,s,null,e.mode);return a.lanes=r,a.return=e,a}}}var to=eo(!0),no=eo(!1),ro=F(null),io=null;function ao(e){var t=e.alternate;B(co,1&co.current),B(ro,e),null===io&&(null===t||null!==pa.current||null!==t.memoizedState)&&(io=e)}function so(e){if(22===e.tag){if(B(co,co.current),B(ro,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else oo()}function oo(){B(co,co.current),B(ro,ro.current)}function lo(e){U(ro),io===e&&(io=null),U(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=ia(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Mc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Rc(),i=ia(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=aa(e,i,r))&&(Mc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),r=ia(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=aa(e,r,n))&&(Mc(t,e,n),sa(t,e,n))}};function mo(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,a))}function fo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var vo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){vo(e)}function bo(e){console.error(e)}function wo(e){vo(e)}function xo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _o(e,t,n){return(n=ia(n)).tag=3,n.payload={element:null},n.callback=function(){xo(e,t)},n}function So(e){return(e=ia(e)).tag=3,e}function jo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){ko(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){ko(t,n,r),"function"!==typeof i&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var No=Error(s(461)),Eo=!1;function Co(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Po(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return ji(t),r=Ia(e,t,n,s,a,i),o=za(),null===e||Eo?(ai&&o&&ti(t),t.flags|=1,Co(e,t,r,i),t.child):(Ma(e,t,i),Yo(e,t,i))}function To(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Lr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Io(e,t,a,r,i))}if(a=e.child,!$o(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(s,r)&&e.ref===t.ref)return Yo(e,t,i)}return t.flags|=1,(e=Dr(a,r)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if($n(a,r)&&e.ref===t.ref){if(Eo=!1,t.pendingProps=r=a,!$o(e,i))return t.lanes=e.lanes,Yo(e,t,i);0!==(131072&e.flags)&&(Eo=!0)}}return zo(e,t,n,r,i)}function Oo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ao(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ao(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==a?a.cachePool:null),null!==a?fa(t,a):ga(),so(t)}else null!==a?(Wi(0,a.cachePool),fa(t,a),oo(),t.memoizedState=null):(null!==e&&Wi(0,null),ga(),oo());return Co(e,t,i,n),t.child}function Ao(e,t,n,r){var i=qi();return i=null===i?null:{parent:Oi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),ga(),so(t),null!==e&&_i(e,t,r,!0),null}function Ro(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function zo(e,t,n,r,i){return ji(t),n=Ia(e,t,n,r,void 0,i),r=za(),null===e||Eo?(ai&&r&&ti(t),t.flags|=1,Co(e,t,n,i),t.child):(Ma(e,t,i),Yo(e,t,i))}function Mo(e,t,n,r,i,a){return ji(t),t.updateQueue=null,n=Aa(t,r,n,i),Oa(e),r=za(),null===e||Eo?(ai&&r&&ti(t),t.flags|=1,Co(e,t,n,a),t.child):(Ma(e,t,a),Yo(e,t,a))}function Lo(e,t,n,r,i){if(ji(t),null===t.stateNode){var a=Rr,s=n.contextType;"object"===typeof s&&null!==s&&(a=Ni(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=po,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},na(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Ni(s):Rr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ho(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&po.enqueueReplaceState(a,a.state,null),ua(t,r,a,i),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=go(n,o);a.props=l;var c=a.context,u=n.contextType;s=Rr,"object"===typeof u&&null!==u&&(s=Ni(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&fo(t,a,r,s),ta=!1;var h=t.memoizedState;a.state=h,ua(t,r,a,i),ca(),c=t.memoizedState,o||h!==c||ta?("function"===typeof d&&(ho(t,n,d,r),c=t.memoizedState),(l=ta||mo(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ra(e,t),u=go(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Rr,"object"===typeof c&&null!==c&&(l=Ni(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&fo(t,a,r,l),ta=!1,h=t.memoizedState,a.state=h,ua(t,r,a,i),ca();var p=t.memoizedState;s!==d||h!==p||ta||null!==e&&null!==e.dependencies&&Si(e.dependencies)?("function"===typeof o&&(ho(t,n,o,r),p=t.memoizedState),(u=ta||mo(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Si(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ro(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,i),t.child=to(t,null,n,i)):Co(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Yo(e,t,i),e}function Do(e,t,n,r){return pi(),t.flags|=256,Co(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uo(e){return{baseLanes:e,cachePool:Hi()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function qo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?ao(t):oo(),ai){var l,c=ii;if(l=c){e:{for(l=c,c=oi;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=vd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Xr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;lo(t)}return c=i.children,i=i.fallback,a?(oo(),c=Ho({mode:"hidden",children:c},a=t.mode),i=Br(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Uo(n),a.childLanes=Bo(e,r,n),t.memoizedState=Fo,i):(ao(t),Wo(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(ao(t),t.flags&=-257,t=Jo(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),a=i.fallback,c=t.mode,i=Ho({mode:"visible",children:i.children},c),(a=Br(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,to(t,e.child,null,n),(i=t.child).memoizedState=Uo(n),i.childLanes=Bo(e,r,n),t.memoizedState=Fo,t=a);else if(ao(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,fi({value:i,source:null,stack:null}),t=Jo(e,t,n)}else if(Eo||_i(e,t,n,!1),r=0!==(n&e.childLanes),Eo||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ce(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Ir(e,i),Mc(r,e,i),No;"$?"===c.data||Gc(),t=Jo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=vd(c.nextSibling),ri=t,ai=!0,si=null,oi=!1,null!==e&&(Kr[Yr++]=Xr,Kr[Yr++]=Qr,Kr[Yr++]=$r,Xr=e.id,Qr=e.overflow,$r=t),(t=Wo(t,i.children)).flags|=4096);return t}return a?(oo(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Dr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Dr(u,a):(a=Br(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Uo(n):(null!==(l=c.cachePool)?(u=Oi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Bo(e,r,n),t.memoizedState=Fo,i):(ao(t),e=(n=e.child).sibling,(n=Dr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Wo(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Jo(e,t,n){return to(t,e.child,null,n),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function Go(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ko(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Co(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(co,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Go(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Go(t,!0,n,null,a);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_i(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Dr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $o(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Si(e))}function Xo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Eo=!0;else{if(!$o(e,n)&&0===(128&t.flags))return Eo=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),bi(0,Oi,e.memoizedState.cache),pi();break;case 27:case 5:K(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ao(t),t.flags|=128,null):0!==(n&t.child.childLanes)?qo(e,t,n):(ao(t),null!==(e=Yo(e,t,n))?e.sibling:null);ao(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(_i(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ko(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,Oo(e,t,n);case 24:bi(0,Oi,e.memoizedState.cache)}return Yo(e,t,n)}(e,t,n);Eo=0!==(131072&e.flags)}else Eo=!1,ai&&0!==(1048576&t.flags)&&ei(t,Gr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===k){t.tag=11,t=Po(null,t,r,e,n);break e}if(i===j){t.tag=14,t=To(null,t,r,e,n);break e}}throw t=O(r)||r,Error(s(306,t,""))}Lr(r)?(e=go(r,e),t.tag=1,t=Lo(null,t,r,e,n)):(t.tag=0,t=zo(null,t,r,e,n))}return t;case 0:return zo(e,t,t.type,t.pendingProps,n);case 1:return Lo(e,t,r=t.type,i=go(r,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ra(e,t),ua(t,r,null,n);var o=t.memoizedState;if(r=o.cache,bi(0,Oi,r),r!==a.cache&&ki(t,[Oi],n,!0),ca(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n);break e}if(r!==i){fi(i=Sr(Error(s(424)),t)),t=Do(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=vd(e.firstChild),ri=t,ai=!0,si=null,oi=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Yo(e,t,n);break e}Co(e,t,r,n)}t=t.child}return t;case 26:return Ro(e,t),null===e?(n=Cd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Oe]=t,r[Ae]=e,ed(r,n,e),Je(r),t.stateNode=r):t.memoizedState=Cd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&ai&&(r=t.stateNode=wd(t.type,t.pendingProps,H.current),ri=t,oi=!0,i=ii,pd(t.type)?(yd=i,ii=vd(r.firstChild)):ii=i),Co(e,t,t.pendingProps.children,n),Ro(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=r=ii)&&(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=vd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oi),null!==r?(t.stateNode=r,ri=t,ii=vd(r.firstChild),oi=!1,i=!0):i=!1),i||ci(t)),K(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,sd(i,a)?r=null:null!==o&&sd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Ia(e,t,Ra,null,null,n),Kd._currentValue=i),Ro(e,t),Co(e,t,r,n),t.child;case 6:return null===e&&ai&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=vd(e.nextSibling)))return null}return e}(n,t.pendingProps,oi))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return qo(e,t,n);case 4:return V(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):Co(e,t,r,n),t.child;case 11:return Po(e,t,t.type,t.pendingProps,n);case 7:return Co(e,t,t.pendingProps,n),t.child;case 8:case 12:return Co(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(0,t.type,r.value),Co(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ji(t),r=r(i=Ni(i)),t.flags|=1,Co(e,t,r,n),t.child;case 14:return To(e,t,t.type,t.pendingProps,n);case 15:return Io(e,t,t.type,t.pendingProps,n);case 19:return Ko(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ho(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Dr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oo(e,t,n);case 24:return ji(t),r=Ni(Oi),null===e?(null===(i=qi())&&(i=rc,a=Ai(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},na(t),bi(0,Oi,i)):(0!==(e.lanes&n)&&(ra(e,t),ua(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Oi,r)):(r=a.cache,bi(0,Oi,r),r!==i.cache&&ki(t,[Oi],n,!0))),Co(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Qo(e){e.flags|=4}function Zo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ro.current)&&((4194048&ac)===ac?null!==io:(62914560&ac)!==ac&&0===(536870912&ac)||t!==io))throw Qi=Ki,Vi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,vc|=t)}function tl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Oi),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Qo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qo(t),null!==n?(nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qo(t),nl(t),Zo(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Qo(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Qo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=q.current,hi(t)?ui(t):(e=wd(i,r,n),t.stateNode=e,Qo(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Qo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=q.current,hi(t))ui(t);else{switch(i=rd(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Oe]=t,e[Ae]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qo(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Qo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=H.current,hi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ci(t)}else(e=rd(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Oe]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=mi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(lo(t),t):(lo(t),null)}if(lo(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return G(),null===e&&Uu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(U(co),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)tl(i,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=uo(e))){for(t.flags|=128,tl(i,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==i.tail&&te()>kc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return nl(t),null}else 2*te()-i.renderingStartTime>kc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return lo(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Oi),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Oi),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(lo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(co),null;case 4:return G(),null;case 10:return wi(t.type),null;case 22:case 23:return lo(t),va(),null!==e&&U(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Oi),null;default:return null}}function al(e,t){switch(ni(t),t.tag){case 3:wi(Oi),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:lo(t);break;case 19:U(co);break;case 10:wi(t.type);break;case 22:case 23:lo(t),va(),null!==e&&U(Bi);break;case 24:wi(Oi)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){uu(t,t.return,o)}}function ol(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){uu(e,t,a)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(m)||Qu(e,t,m,null,r,h)}}for(var p in r){var m=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=m||null!=h))switch(p){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(s(137,t));break;default:m!==h&&Qu(e,t,p,m,r,h)}}return void gt(e,o,l,c,u,d,a,i);case"select":for(a in m=o=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||Qu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&Qu(e,t,i,a,r,c)}return t=l,n=o,r=m,void(null!=p?bt(e,!!n,p,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qu(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":p=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&Qu(e,t,o,i,r,a)}return void wt(e,p,m);case"option":for(var f in n)if(p=n[f],n.hasOwnProperty(f)&&null!=p&&!r.hasOwnProperty(f))if("selected"===f)e.selected=!1;else Qu(e,t,f,null,r,p);for(c in r)if(p=r[c],m=n[c],r.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Qu(e,t,c,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Qu(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Qu(e,t,u,p,r,m)}return;default:if(Nt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&Zu(e,t,v,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||Zu(e,t,d,p,r,m);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&Qu(e,t,y,null,r,p);for(h in r)p=r[h],m=n[h],!r.hasOwnProperty(h)||p===m||null==p&&null==m||Qu(e,t,h,p,r,m)}(r,e.type,n,t),r[Ae]=t}catch(i){uu(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,r,n),t[Oe]=e,t[Ae]=n}catch(a){uu(e,e.return,a)}}var bl=!1,wl=!1,xl=!1,kl="function"===typeof WeakSet?WeakSet:Set,_l=null;function Sl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n),4&r&&sl(5,n);break;case 1:if(Ll(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var i=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Ll(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ll(e,n),null===t&&4&r&&hl(n),512&r&&ul(n,n.return);break;case 12:Ll(e,n);break;case 13:Ll(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||wl,i=bl;var a=wl;bl=r,(wl=t)&&!a?Fl(e,n,0!==(8772&n.subtreeFlags)):Ll(e,n),bl=i,wl=a}break;case 30:break;default:Ll(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Nl=null,El=!1;function Cl(e,t,n){for(n=n.child;null!==n;)Pl(e,t,n),n=n.sibling}function Pl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:wl||dl(n,t),Cl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||dl(n,t);var r=Nl,i=El;pd(n.type)&&(Nl=n.stateNode,El=!1),Cl(e,t,n),xd(n.stateNode),Nl=r,El=i;break;case 5:wl||dl(n,t);case 6:if(r=Nl,i=El,Nl=null,Cl(e,t,n),El=i,null!==(Nl=r))if(El)try{(9===Nl.nodeType?Nl.body:"HTML"===Nl.nodeName?Nl.ownerDocument.body:Nl).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Nl.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Nl&&(El?(md(9===(e=Nl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Eh(e)):md(Nl,n.stateNode));break;case 4:r=Nl,i=El,Nl=n.stateNode.containerInfo,El=!0,Cl(e,t,n),Nl=r,El=i;break;case 0:case 11:case 14:case 15:wl||ol(2,n,t),wl||ol(4,n,t),Cl(e,t,n);break;case 1:wl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Cl(e,t,n);break;case 21:Cl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Cl(e,t,n),wl=r;break;default:Cl(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Eh(e)}catch(n){uu(t,t.return,n)}}function Il(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=fu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Nl=l.stateNode,El=!1;break e}break;case 5:Nl=l.stateNode,El=!1;break e;case 3:case 4:Nl=l.stateNode.containerInfo,El=!0;break e}l=l.return}if(null===Nl)throw Error(s(160));Pl(a,o,i),Nl=null,El=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Al=null;function Rl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),zl(e),4&r&&(ol(3,e,e.return),sl(3,e),ol(5,e,e.return));break;case 1:Ol(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Al;if(Ol(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Fe]||a[Oe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,r,n),a[Oe]=e,Je(a),r=a;break e;case"link":var o=Fd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=Fd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}ed(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Oe]=e,Je(a),r=a}e.stateNode=r}else Ud(i,e.type,e.stateNode);else e.stateNode=Rd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Ud(i,e.type,e.stateNode):Rd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),zl(e),512&r&&(wl||null===n||dl(n,n.return)),32&e.flags){i=e.stateNode;try{kt(i,"")}catch(m){uu(e,e.return,m)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Ol(t,e),zl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){uu(e,e.return,m)}}break;case 3:if(Dd=null,i=Al,Al=Sd(t.containerInfo),Ol(t,e),Al=i,zl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(m){uu(e,e.return,m)}xl&&(xl=!1,Ml(e));break;case 4:r=Al,Al=Sd(e.stateNode.containerInfo),Ol(t,e),zl(e),Al=r;break;case 12:default:Ol(t,e),zl(e);break;case 13:Ol(t,e),zl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=bl,d=wl;if(bl=u||i,wl=d||c,Ol(t,e),wl=d,bl=u,zl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||bl||wl||Dl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){uu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){uu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Il(e,n))));break;case 19:Ol(t,e),zl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Il(e,r)));case 30:case 21:}}function zl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;vl(e,fl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),vl(e,fl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;gl(e,fl(e),o);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ll(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Sl(e,t.alternate,t),t=t.sibling}function Dl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ol(4,t,t.return),Dl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),Dl(t);break;case 27:xd(t.stateNode);case 26:case 5:dl(t,t.return),Dl(t);break;case 22:null===t.memoizedState&&Dl(t);break;default:Dl(t)}e=e.sibling}}function Fl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Fl(i,a,n),sl(4,a);break;case 1:if(Fl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)da(l[i],o)}catch(c){uu(r,r.return,c)}}n&&64&s&&ll(a),ul(a,a.return);break;case 27:yl(a);case 26:case 5:Fl(i,a,n),n&&null===r&&4&s&&hl(a),ul(a,a.return);break;case 12:Fl(i,a,n);break;case 13:Fl(i,a,n),n&&4&s&&Tl(i,a);break;case 22:null===a.memoizedState&&Fl(i,a,n),ul(a,a.return);break;case 30:break;default:Fl(i,a,n)}t=t.sibling}}function Ul(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Ri(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e))}function ql(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ql(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:ql(e,t,n,r);break;case 3:ql(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Ri(e)));break;case 12:if(2048&i){ql(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else ql(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?ql(e,t,n,r):Jl(e,t):2&a._visibility?ql(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Ul(s,t);break;case 24:ql(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Hl(a,s,o,l,i),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Hl(a,s,o,l,i):Jl(a,s):(u._visibility|=2,Hl(a,s,o,l,i)),i&&2048&c&&Ul(s.alternate,s);break;case 24:Hl(a,s,o,l,i),i&&2048&c&&Bl(s.alternate,s);break;default:Hl(a,s,o,l,i)}t=t.sibling}}function Jl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Jl(n,r),2048&i&&Ul(r.alternate,r);break;case 24:Jl(n,r),2048&i&&Bl(r.alternate,r);break;default:Jl(n,r)}t=t.sibling}}var Vl=8192;function Gl(e){if(e.subtreeFlags&Vl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Gl(e),e.flags&Vl&&null!==e.memoizedState&&function(e,t,n){if(null===qd)throw Error(s(475));var r=qd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Pd(n.href),a=e.querySelector(Td(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void Je(a);a=e.ownerDocument||e,n=Id(n),(i=kd.get(i))&&Md(n,i),Je(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Al,e.memoizedState,e.memoizedProps);break;case 5:default:Gl(e);break;case 3:case 4:var t=Al;Al=Sd(e.stateNode.containerInfo),Gl(e),Al=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Vl,Vl=16777216,Gl(e),Vl=t):Gl(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ol(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):$l(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,Zl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ol(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Zl(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:ol(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Ri(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var i=(r=_l).sibling,a=r.return;if(jl(r),r===n){_l=null;break e}if(null!==i){i.return=a,_l=i;break e}_l=a}}}var ec={getCacheForType:function(e){var t=Ni(Oi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,ac=0,sc=0,oc=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,mc=0,fc=0,gc=0,vc=0,yc=null,bc=null,wc=!1,xc=0,kc=1/0,_c=null,Sc=null,jc=0,Nc=null,Ec=null,Cc=0,Pc=0,Tc=null,Ic=null,Oc=0,Ac=null;function Rc(){if(0!==(2&nc)&&0!==ac)return ac&-ac;if(null!==R.T){return 0!==Li?Li:Pu()}return Te()}function zc(){0===gc&&(gc=0===(536870912&ac)||ai?ke():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Mc(e,t,n){(e!==rc||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(Wc(e,0),Uc(e,ac,gc,!1)),je(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(mc|=n),4===hc&&Uc(e,ac,gc,!1)),ku(e))}function Lc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Jc(),i=Vc();rc!==e||ac!==t?(_c=null,kc=te()+500,Wc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==sc&&null!==ic){t=ic;var a=oc;t:switch(sc){case 1:sc=0,oc=null,Zc(e,t,a,1);break;case 2:case 9:if(Yi(a)){sc=0,oc=null,Qc(t);break}t=function(){2!==sc&&9!==sc||rc!==e||(sc=7),ku(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Yi(a)?(sc=0,oc=null,Qc(t)):(sc=0,oc=null,Zc(e,t,a,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Bd(o)){sc=0,oc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}sc=0,oc=null,Zc(e,t,a,5);break;case 6:sc=0,oc=null,Zc(e,t,a,6);break;case 8:qc(),hc=6;break e;default:throw Error(s(462))}}$c();break}catch(d){Hc(e,d)}return yi=vi=null,R.H=r,R.A=i,nc=n,null!==ic?0:(rc=null,ac=0,Cr(),hc)}(e,t):Kc(e,t,!0),a=r;;){if(0===i){cc&&!r&&Uc(e,t,0,!1);break}if(n=e.current.alternate,!a||Fc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,o).flags|=256),2!==(o=Kc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,i=4;break e}a=bc,bc=i,null!==a&&(null===bc?bc=a:bc.push.apply(bc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){Wc(e,0),Uc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Uc(r,t,gc,!lc);break e;case 2:bc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Uc(r,t,gc,!lc),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Dc.bind(null,r,n,bc,_c,wc,t,gc,mc,vc,lc,a,2,-0,0),i)}else Dc(r,n,bc,_c,wc,t,gc,mc,vc,lc,a,0,-0,0)}break}i=Kc(e,t,!1),a=!1}ku(e)}function Dc(e,t,n,r,i,a,o,l,c,u,d,h,p,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(qd={stylesheets:null,count:0,unsuspend:Wd},Kl(t),null!==(h=function(){if(null===qd)throw Error(s(475));var e=qd;return e.stylesheets&&0===e.count&&Vd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Vd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,a,n,r,i,o,l,c,d,1,p,m)),void Uc(e,a,o,!u);nu(e,t,a,n,r,i,o,l,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Yn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t,n,r){t&=~fc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-pe(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Ne(e,n,t)}function Bc(){return 0!==(6&nc)||(_u(0,!1),!1)}function qc(){if(null!==ic){if(0===sc)var e=ic.return;else yi=vi=null,La(e=ic),Ks=null,Ys=0,e=ic;for(;null!==e;)al(e.alternate,e),e=e.return;ic=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qc(),rc=e,ic=n=Dr(e.current,null),ac=t,sc=0,oc=null,lc=!1,cc=we(e,t),uc=!1,vc=gc=fc=mc=pc=hc=0,bc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),a=1<<i;t|=e[i],r&=~a}return dc=t,Cr(),n}function Hc(e,t){ba=null,R.H=Hs,t===Ji||t===Gi?(t=Zi(),sc=3):t===Vi?(t=Zi(),sc=4):sc=t===No?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ic&&(hc=1,xo(e,Sr(t,e.current)))}function Jc(){var e=R.H;return R.H=Hs,null===e?Hs:e}function Vc(){var e=R.A;return R.A=ec,e}function Gc(){hc=4,lc||(4194048&ac)!==ac&&null!==ro.current||(cc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===rc||Uc(rc,ac,gc,!1)}function Kc(e,t,n){var r=nc;nc|=2;var i=Jc(),a=Vc();rc===e&&ac===t||(_c=null,Wc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==ic){var o=ic,l=oc;switch(sc){case 8:qc(),s=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=sc;if(sc=0,oc=null,Zc(e,o,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,oc=null,Zc(e,o,l,c)}}Yc(),s=hc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,yi=vi=null,nc=r,R.H=i,R.A=a,null===ic&&(rc=null,ac=0,Cr()),s}function Yc(){for(;null!==ic;)Xc(ic)}function $c(){for(;null!==ic&&!Z();)Xc(ic)}function Xc(e){var t=Xo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Mo(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Mo(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:La(t);default:al(n,t),t=Xo(n,t=ic=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){yi=vi=null,La(t),Ks=null,Ys=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&_i(t,n,i,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===io?Gc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Ki?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,i)),!1;case 22:return n.flags|=65536,r===Ki?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,i)),!1}throw Error(s(435,n.tag))}return du(e,r,i),Gc(),!1}if(ai)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&fi(Sr(e=Error(s(422),{cause:r}),n))):(r!==li&&fi(Sr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Sr(r,n),oa(e,i=_o(e.stateNode,r,i)),4!==hc&&(hc=2)),!1;var a=Error(s(520),{cause:r});if(a=Sr(a,n),null===yc?yc=[a]:yc.push(a),4!==hc&&(hc=2),null===t)return!0;r=Sr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,oa(n,e=_o(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Sc||!Sc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,jo(i=So(i),e,n,r),oa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,ac))return hc=1,xo(e,Sr(n,e.current)),void(ic=null)}catch(a){if(null!==i)throw ic=i,a;return hc=1,xo(e,Sr(n,e.current)),void(ic=null)}32768&t.flags?(ai||1===r?e=!0:cc||0!==(536870912&ac)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,dc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);hc=6,ic=null}function nu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{ou()}while(0!==jc);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Ne(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Er,o,l,c),e===rc&&(ic=rc=null,ac=0),Ec=t,Nc=e,Cc=n,Pc=a,Tc=i,Ic=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,X(ae,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=z.p,z.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++d===r&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,_l=t;null!==_l;)if(e=(t=_l).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(a=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var f=go(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(f,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){uu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))fd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{nc=o,z.p=i,R.T=r}}jc=1,ru(),iu(),au()}}function ru(){if(1===jc){jc=0;var e=Nc,t=Ec,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=z.p;z.p=2;var i=nc;nc|=4;try{Rl(t,e);var a=nd,s=er(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&Zn(o.ownerDocument.documentElement,o)){if(null!==l&&tr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),m=o.textContent.length,f=Math.min(l.start,m),g=void 0===l.end?f:Math.min(l.end,m);!p.extend&&f>g&&(s=g,g=f,f=s);var v=Qn(o,f),y=Qn(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),f>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nh=!!td,nd=td=null}finally{nc=i,z.p=r,R.T=n}}e.current=t,jc=2}}function iu(){if(2===jc){jc=0;var e=Nc,t=Ec,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=z.p;z.p=2;var i=nc;nc|=4;try{Sl(e,t.alternate,t)}finally{nc=i,z.p=r,R.T=n}}jc=3}}function au(){if(4===jc||3===jc){jc=0,ee();var e=Nc,t=Ec,n=Cc,r=Ic;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?jc=5:(jc=0,Ec=Nc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Sc=null),Pe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=z.p,z.p=2,R.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{R.T=t,z.p=i}}0!==(3&Cc)&&ou(),ku(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Ac?Oc++:(Oc=0,Ac=e):Oc=0,_u(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Ri(t)))}function ou(e){return ru(),iu(),au(),lu()}function lu(){if(5!==jc)return!1;var e=Nc,t=Pc;Pc=0;var n=Pe(Cc),r=R.T,i=z.p;try{z.p=32>n?32:n,R.T=null,n=Tc,Tc=null;var a=Nc,o=Cc;if(jc=0,Ec=Nc=null,Cc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Xl(a.current),Wl(a,a.current,o,n),nc=l,_u(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{z.p=i,R.T=r,su(e,t)}}function cu(e,t,n){t=Sr(n,t),null!==(e=aa(e,t=_o(e.stateNode,t,2),2))&&(je(e,2),ku(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Sc||!Sc.has(r))){e=Sr(n,e),null!==(r=aa(t,n=So(2),2))&&(jo(n,r,t,e),je(r,2),ku(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(ac&n)===n&&(4===hc||3===hc&&(62914560&ac)===ac&&300>te()-xc?0===(2&nc)&&Wc(e,0):fc|=n,vc===ac&&(vc=0)),ku(e)}function pu(e,t){0===t&&(t=_e()),null!==(e=Ir(e,t))&&(je(e,t),ku(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function fu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),pu(e,n)}var gu=null,vu=null,yu=!1,bu=!1,wu=!1,xu=0;function ku(e){e!==vu&&null===e.next&&(null===vu?gu=vu=e:vu=vu.next=e),bu=!0,yu||(yu=!0,dd(function(){0!==(6&nc)?X(re,Su):ju()}))}function _u(e,t){if(!wu&&bu){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Cu(r,a))}else a=ac,0===(3&(a=be(r,r===rc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Cu(r,a));r=r.next}}while(n);wu=!1}}function Su(){ju()}function ju(){bu=yu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,a=Nu(r,t);0===a?(r.next=null,null===n?gu=i:n.next=i,null===i&&(vu=n)):(n=r,(0!==e||0!==(3&a))&&(bu=!0)),r=i}_u(e,!1)}function Nu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-pe(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=xe(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=ac,n=be(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Q(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Q(r),Pe(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=oe}return r=Eu.bind(null,e),n=X(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Q(r),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,t){if(0!==jc&&5!==jc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=be(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lc(e,r,t),Nu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Eu.bind(null,e):null)}function Cu(e,t){if(ou())return null;Lc(e,t,!0)}function Pu(){return 0===xu&&(xu=ke()),xu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Iu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<xr.length;Ou++){var Au=xr[Ou];kr(Au.toLowerCase(),"on"+(Au[0].toUpperCase()+Au.slice(1)))}kr(pr,"onAnimationEnd"),kr(mr,"onAnimationIteration"),kr(fr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(vr,"onTransitionStart"),kr(yr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){vo(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){vo(u)}i.currentTarget=null,a=l}}}}function Lu(e,t){var n=t[ze];void 0===n&&(n=t[ze]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Du(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Fu]){e[Fu]=!0,Ve.forEach(function(t){"selectionchange"!==t&&(zu.has(t)||Du(t,!1,e),Du(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Du("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(ch(t)){case 2:var i=rh;break;case 8:i=ih;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Be(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}Mt(function(){var r=a,i=It(n),s=[];e:{var o=wr.get(e);if(void 0!==o){var c=Zt,u=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":c=fn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=vn;break;case pr:case mr:case fr:c=on;break;case br:c=yn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=bn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var m,f=r;null!==f;){var g=f;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Lt(f,p))&&d.push(Wu(f,g,m)),h)break;f=f.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Re])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==c?o:We(c),m=null==u?o:We(u),(o=new d(g,f+"leave",c,n,i)).target=h,o.relatedTarget=m,g=null,Be(i)===r&&((d=new d(p,f+"enter",u,n,i)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(p=u,f=0,m=d=c;m;m=Ju(m))f++;for(m=0,g=p;g;g=Ju(g))m++;for(;0<f-m;)d=Ju(d),f--;for(;0<m-f;)p=Ju(p),m--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=Ju(d),p=Ju(p)}d=null}else d=null;null!==c&&Vu(s,o,c,d,!1),null!==u&&null!==h&&Vu(s,h,u,d,!0)}if("select"===(c=(o=r?We(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Dn;else if(On(o))if(Fn)v=Kn;else{v=Vn;var y=Jn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Nt(r.elementType)&&(v=Dn):v=Gn;switch(v&&(v=v(e,r))?An(s,v,n,i):(y&&y(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),y=r?We(r):window,e){case"focusin":(On(y)||"true"===y.contentEditable)&&(rr=y,ir=r,ar=null);break;case"focusout":ar=ir=rr=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,or(s,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(s,n,i)}var b;if(kn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Tn?Cn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Tn&&(b=Ht()):(qt="value"in(Bt=i)?Bt.value:Bt.textContent,Tn=!0)),0<(y=Hu(r,w)).length&&(w=new cn(w,e,null,n,i),s.push({event:w,listeners:y}),b?w.data=b:null!==(b=Pn(n))&&(w.data=b))),(b=Sn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(En=!0,Nn);case"textInput":return(e=t.data)===Nn&&En?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!kn&&Cn(e,t)?(e=Ht(),Wt=qt=Bt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Hu(r,"onBeforeInput")).length&&(y=new cn("onBeforeInput","beforeinput",null,n,i),s.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Tu((i[Ae]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ae]||null)?Tu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new Zt("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=s?Iu(i,s):new FormData(i);Ts(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Iu(i,s):new FormData(i),Ts(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Mu(s,t)})}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Lt(e,n))&&r.unshift(Wu(e,i,a)),null!=(i=Lt(e,t))&&r.push(Wu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Ju(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Vu(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Lt(n,a))&&s.unshift(Wu(n,c,l)):i||null!=(c=Lt(n,a))&&s.push(Wu(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace(Gu,"\n").replace(Ku,"")}function $u(e,t){return t=Yu(t),Yu(e)===t}function Xu(){}function Qu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":jt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Qu(e,t,"name",i.name,i,null),Qu(e,t,"formEncType",i.formEncType,i,null),Qu(e,t,"formMethod",i.formMethod,i,null),Qu(e,t,"formTarget",i.formTarget,i,null)):(Qu(e,t,"encType",i.encType,i,null),Qu(e,t,"method",i.method,i,null),Qu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Lu("beforetoggle",e),Lu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Et.get(n)||n,r)}}function Zu(e,t,n,r,i,a){switch(n){case"style":jt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&Lu("scroll",e);break;case"onScrollEnd":null!=r&&Lu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ae]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lu("error",e),Lu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qu(e,t,r,o,n,null)}}return a&&Qu(e,t,"srcSet",n.srcSet,n,null),void(i&&Qu(e,t,"src",n.src,n,null));case"input":Lu("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Qu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,o,a,!1),void dt(e);case"select":for(a in Lu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:Qu(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(o in Lu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Qu(e,t,o,l,n,null)}return xt(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Qu(e,t,c,i,n,null);return;case"dialog":Lu("beforetoggle",e),Lu("toggle",e),Lu("cancel",e),Lu("close",e);break;case"iframe":case"object":Lu("load",e);break;case"video":case"audio":for(i=0;i<Ru.length;i++)Lu(Ru[i],e);break;case"image":Lu("error",e),Lu("load",e);break;case"details":Lu("toggle",e);break;case"embed":case"source":case"link":Lu("error",e),Lu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Qu(e,t,u,i,n,null)}return;default:if(Nt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&Zu(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Qu(e,t,l,i,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&xd(s.documentElement),2&n&&xd(s.body),4&n)for(xd(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Fe]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===i)return e.removeChild(a),void Eh(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Eh(t)}function fd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":fd(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function vd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function xd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var kd=new Map,_d=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var jd=z.d;z.d={f:function(){var e=jd.f(),t=Bc();return e||t},r:function(e){var t=qe(e);null!==t&&5===t.tag&&"form"===t.type?Os(t):jd.r(e)},D:function(e){jd.D(e),Ed("dns-prefetch",e,null)},C:function(e,t){jd.C(e,t),Ed("preconnect",e,t)},L:function(e,t,n){jd.L(e,t,n);var r=Nd;if(r&&e&&t){var i='link[rel="preload"][as="'+ft(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ft(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+ft(n.imageSizes)+'"]')):i+='[href="'+ft(e)+'"]';var a=i;switch(t){case"style":a=Pd(e);break;case"script":a=Od(e)}kd.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Td(a))||"script"===t&&r.querySelector(Ad(a))||(ed(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}},m:function(e,t){jd.m(e,t);var n=Nd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+ft(r)+'"][href="'+ft(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Od(e)}if(!kd.has(a)&&(e=h({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ad(a)))return}ed(r=n.createElement("link"),"link",e),Je(r),n.head.appendChild(r)}}},X:function(e,t){jd.X(e,t);var n=Nd;if(n&&e){var r=He(n).hoistableScripts,i=Od(e),a=r.get(i);a||((a=n.querySelector(Ad(i)))||(e=h({src:e,async:!0},t),(t=kd.get(i))&&Ld(e,t),Je(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){jd.S(e,t,n);var r=Nd;if(r&&e){var i=He(r).hoistableStyles,a=Pd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Td(a)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&Md(e,n);var l=s=r.createElement("link");Je(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){jd.M(e,t);var n=Nd;if(n&&e){var r=He(n).hoistableScripts,i=Od(e),a=r.get(i);a||((a=n.querySelector(Ad(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=kd.get(i))&&Ld(e,t),Je(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Nd="undefined"===typeof document?null:document;function Ed(e,t,n){var r=Nd;if(r&&"string"===typeof t&&t){var i=ft(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),_d.has(i)||(_d.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(ed(t=r.createElement("link"),"link",e),Je(t),r.head.appendChild(t)))}}function Cd(e,t,n,r){var i,a,o,l,c=(c=H.current)?Sd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Pd(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Pd(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",o),Je(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Od(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Pd(e){return'href="'+ft(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Id(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+ft(e)+'"]'}function Ad(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+ft(n.href)+'"]');if(r)return t.instance=r,Je(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Je(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",i),zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Pd(n.href);var a=e.querySelector(Td(i));if(a)return t.state.loading|=4,t.instance=a,Je(a),a;r=Id(n),(i=kd.get(i))&&Md(r,i),Je(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(a,"link",r),t.state.loading|=4,zd(a,n.precedence,e),t.instance=a;case"script":return a=Od(n.src),(i=e.querySelector(Ad(a)))?(t.instance=i,Je(i),i):(r=n,(i=kd.get(a))&&Ld(r=h({},n),i),Je(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,zd(r,n.precedence,e));return t.instance}function zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Dd=null;function Fd(e,t,n){if(null===Dd){var r=new Map,i=Dd=new Map;i.set(n,r)}else(r=(i=Dd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Fe]||a[Oe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Ud(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var qd=null;function Wd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Jd=null;function Vd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Jd=new Map,t.forEach(Gd,e),Jd=null,Hd.call(e))}function Gd(e,t){if(!(4&t.state.loading)){var n=Jd.get(e);if(n)var r=n.get(null);else{n=new Map,Jd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:x,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Yd(e,t,n,r,i,a,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function $d(e,t,n,r,i,a,s,o,l,c,u,d){return e=new Yd(e,t,n,s,o,l,c,d),t=1,!0===a&&(t|=24),a=Mr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ai()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},na(a),e}function Xd(e){return e?e=Rr:Rr}function Qd(e,t,n,r,i,a){i=Xd(i),null===r.context?r.context=i:r.pendingContext=i,(r=ia(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=aa(e,r,t))&&(Mc(n,0,t),sa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Ir(e,67108864);null!==t&&Mc(t,0,67108864),eh(e,67108864)}}var nh=!0;function rh(e,t,n,r){var i=R.T;R.T=null;var a=z.p;try{z.p=2,ah(e,t,n,r)}finally{z.p=a,R.T=i}}function ih(e,t,n,r){var i=R.T;R.T=null;var a=z.p;try{z.p=8,ah(e,t,n,r)}finally{z.p=a,R.T=i}}function ah(e,t,n,r){if(nh){var i=sh(r);if(null===i)qu(e,t,r,oh,n),yh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return dh=bh(dh,e,t,n,r,i),!0;case"dragenter":return hh=bh(hh,e,t,n,r,i),!0;case"mouseover":return ph=bh(ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mh.set(a,bh(mh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,fh.set(a,bh(fh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<vh.indexOf(e)){for(;null!==i;){var a=qe(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=ye(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-pe(s);o.entanglements[1]|=l,s&=~l}ku(a),0===(6&nc)&&(kc=te()+500,_u(0,!1))}}break;case 13:null!==(o=Ir(a,2))&&Mc(o,0,2),Bc(),eh(a,2)}if(null===(a=sh(r))&&qu(e,t,r,oh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qu(e,t,r,null,n)}}function sh(e){return lh(e=It(e))}var oh=null;function lh(e){if(oh=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oh=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case se:return 32;case oe:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,mh=new Map,fh=new Map,gh=[],vh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fh.delete(t.pointerId)}}function bh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=qe(t))&&th(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wh(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=Ce(e);var t=Ir(n,e);null!==t&&Mc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=qe(n))&&th(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function kh(e,t,n){xh(e)&&n.delete(t)}function _h(){uh=!1,null!==dh&&xh(dh)&&(dh=null),null!==hh&&xh(hh)&&(hh=null),null!==ph&&xh(ph)&&(ph=null),mh.forEach(kh),fh.forEach(kh)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_h)))}var jh=null;function Nh(e){jh!==e&&(jh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jh===e&&(jh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===lh(r||n))continue;break}var a=qe(n);null!==a&&(e.splice(t,3),t-=3,Ts(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Eh(e){function t(t){return Sh(t,e)}null!==dh&&Sh(dh,e),null!==hh&&Sh(hh,e),null!==ph&&Sh(ph,e),mh.forEach(t),fh.forEach(t);for(var n=0;n<gh.length;n++){var r=gh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gh.length&&null===(n=gh[0]).blockedOn;)wh(n),null===n.blockedOn&&gh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Ae]||null;if("function"===typeof a)s||Nh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Ae]||null)o=s.formAction;else if(null!==lh(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Nh(n)}}}function Ch(e){this._internalRoot=e}function Ph(e){this._internalRoot=e}Ph.prototype.render=Ch.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Qd(t.current,Rc(),e,t,null,null)},Ph.prototype.unmount=Ch.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Bc(),t[Re]=null}},Ph.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gh.length&&0!==t&&t<gh[n].priority;n++);gh.splice(n,0,e),0===n&&wh(e)}};var Th=i.version;if("19.1.1"!==Th)throw Error(s(527,Th,"19.1.1"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ih={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{ue=Oh.inject(Ih),de=Oh}catch(Rh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=yo,a=bo,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,i,a,l,0,null),e[Re]=t.current,Uu(e),new Ch(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=yo,l=bo,c=wo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Xd(null),n=t.current,(i=ia(r=Ce(r=Rc()))).callback=null,aa(n,i,r),n=r,t.current.lanes=n,je(t,n),ku(t),e[Re]=t.current,Uu(e),new Ph(t)},t.version="19.1.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(863)},340:(e,t,n)=>{e.exports=n(487)},352:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(85)},414:(e,t,n)=>{e.exports=n(916)},427:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(569));class a extends i.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=i?"".concat(i,".order"):"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,"".concat(s?"".concat(s,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof r?"offset":"".concat(r,".offset"),a="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(i,"".concat(e)),this.url.searchParams.set(a,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(a,'; for="').concat(l,'"; options=').concat(o,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},487:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,m=!1,f=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!f)if(null!==r(c))f=!0,S||(S=!0,_());else{var t=r(u);null!==t&&O(k,t.startTime-e)}}var _,S=!1,j=-1,N=5,E=-1;function C(){return!!v||!(t.unstable_now()-E<N)}function P(){if(v=!1,S){var e=t.unstable_now();E=e;var n=!0;try{e:{f=!1,g&&(g=!1,b(j),j=-1),m=!0;var a=p;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&C());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&O(k,l.startTime-e),n=!1}}break e}finally{h=null,p=a,m=!1}n=void 0}}finally{n?_():S=!1}}}if("function"===typeof w)_=function(){w(P)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,I=T.port2;T.port1.onmessage=P,_=function(){I.postMessage(null)}}else _=function(){y(P,0)};function O(e,n){j=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(j),j=-1):g=!0,O(k,a-s))):(e.sortIndex=o,n(c,e),f||m||(f=!0,S||(S=!0,_()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},569:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(621)),a=r(n(732));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let i=null,s=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(i={code:"PGRST116",details:"Results contain ".concat(s.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null===i||void 0===i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new a.default(i)}return{error:i,data:s,count:o,status:l,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""),hint:"",code:"".concat(null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:"")},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},621:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>i});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const i=r.fetch,a=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},709:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},724:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(709);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(r.version)}},732:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},863:(e,t,n)=>{var r=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},916:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},950:(e,t,n)=>{e.exports=n(983)},983:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,f(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function S(e,t,r,i,a,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(){}function P(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+E(e,0):a,x(s)?(i="",null!=u&&(i=u.replace(N,"$&/")+"/"),P(s,t,i,"",function(e){return e})):null!=s&&(j(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+u,s=S(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,m=""===a?".":a+":";if(x(e))for(var f=0;f<e.length;f++)u+=P(a=e[f],t,i,o=m+E(a,f),s);else if("function"===typeof(f=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=f.call(e),f=0;!(a=e.next()).done;)u+=P(a=a.value,t,i,o=m+E(a,f++),s);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=f({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!_.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return S(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return S(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),i=k.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(A,O)}catch(a){O(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.1"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Ys,hasStandardBrowserEnv:()=>Xs,hasStandardBrowserWebWorkerEnv:()=>Qs,navigator:()=>$s,origin:()=>Zs});var i=n(950),a=n.t(i,2),s=n(352);function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function u(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const p=["sri"],m=["page"],f=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var b="popstate";function w(){return E(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return S("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:j(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function k(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return h(h({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function j(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function N(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:m.location,delta:t})}function p(e){return C(e)}null==c&&(c=0,s.replaceState(h(h({},s.state),{},{idx:c}),""));let m={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(b,d),l=e,()=>{i.removeEventListener(b,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=S(m.location,e,t);n&&n(r,e),c=u()+1;let d=_(r,c),h=m.createHref(r);try{s.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(h)}a&&l&&l({action:o,location:m.location,delta:1})},replace:function(e,t){o="REPLACE";let r=S(m.location,e,t);n&&n(r,e),c=u();let i=_(r,c),d=m.createHref(r);s.replaceState(i,"",d),a&&l&&l({action:o,location:m.location,delta:0})},go:e=>s.go(e)};return m}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:j(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function P(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,r){let i=J(("string"===typeof t?N(t):t).pathname||"/",n);if(null==i)return null;let a=I(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=H(i);s=B(a[o],e,r)}return s}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&s)return;x(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=$([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),I(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of O(e.path))a(e,t,!0,r);else a(e,t)}),t}function O(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=O(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var A=/^:[\w-]+$/,R=3,z=2,M=1,L=10,D=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=D),t&&(r+=z),n.filter(e=>!F(e)).reduce((e,t)=>e+(A.test(t)?R:""===t?M:L),r)}function B(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=q({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:$([a,u.pathname]),pathnameBase:X($([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=$([a,u.pathnameBase]))}return s}function q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=W(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function W(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];k("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function H(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return k(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function G(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function K(e){let t=G(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Y(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=N(e):(r=h({},e),x(!r.pathname||!r.pathname.includes("?"),V("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),V("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),V("#","search","hash",r)));let a,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)a=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?N(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Q(r),hash:Z(i)}}(r,a),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var $=e=>e.join("/").replace(/\/\/+/g,"/"),X=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var te=["POST","PUT","PATCH","DELETE"],ne=(new Set(te),["GET",...te]);new Set(ne),Symbol("ResetLoaderData");var re=i.createContext(null);re.displayName="DataRouter";var ie=i.createContext(null);ie.displayName="DataRouterState";var ae=i.createContext(!1);var se=i.createContext({isTransitioning:!1});se.displayName="ViewTransition";var oe=i.createContext(new Map);oe.displayName="Fetchers";var le=i.createContext(null);le.displayName="Await";var ce=i.createContext(null);ce.displayName="Navigation";var ue=i.createContext(null);ue.displayName="Location";var de=i.createContext({outlet:null,matches:[],isDataRoute:!1});de.displayName="Route";var he=i.createContext(null);he.displayName="RouteError";function pe(){return null!=i.useContext(ue)}function me(){return x(pe(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(ue).location}var fe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ge(e){i.useContext(ce).static||i.useLayoutEffect(e)}function ve(){let{isDataRoute:e}=i.useContext(de);return e?function(){let{router:e}=Ne("useNavigate"),t=Ce("useNavigate"),n=i.useRef(!1);ge(()=>{n.current=!0});let r=i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};k(n.current,fe),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,h({fromRouteId:t},i)))},[e,t]);return r}():function(){x(pe(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(re),{basename:t,navigator:n}=i.useContext(ce),{matches:r}=i.useContext(de),{pathname:a}=me(),s=JSON.stringify(K(r)),o=i.useRef(!1);ge(()=>{o.current=!0});let l=i.useCallback(function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(k(o.current,fe),!o.current)return;if("number"===typeof r)return void n.go(r);let l=Y(r,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:$([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[t,n,s,a,e]);return l}()}i.createContext(null);function ye(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(de),{pathname:r}=me(),a=JSON.stringify(K(n));return i.useMemo(()=>Y(e,JSON.parse(a),r,"path"===t),[e,a,r,t])}function be(e,t,n,r){x(pe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=i.useContext(ce),{matches:s}=i.useContext(de),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let e=d&&d.path||"";Ie(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=me();if(t){var f;let e="string"===typeof t?N(t):t;x("/"===u||(null===(f=e.pathname)||void 0===f?void 0:f.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let g=p.pathname||"/",v=g;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=P(e,{pathname:v});k(d||null!=y,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),k(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=Se(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:$([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:$([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,n,r);return t&&b?i.createElement(ue.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},b):b}function we(){let e=Pe(),t=ee(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:s},"ErrorBoundary")," or"," ",i.createElement("code",{style:s},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,o)}var xe=i.createElement(we,null),ke=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(de.Provider,{value:this.props.routeContext},i.createElement(he.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _e(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(re);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(de.Provider,{value:t},r)}function Se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let e=r.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let s=!1,o=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=i),e.route.id){let{loaderData:t,errors:i}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||a){s=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight((e,l,c)=>{let u,d=!1,h=null,p=null;n&&(u=a&&l.route.id?a[l.route.id]:void 0,h=l.route.errorElement||xe,s&&(o<0&&0===c?(Ie("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):o===c&&(d=!0,p=l.route.hydrateFallbackElement||null)));let m=t.concat(r.slice(0,c+1)),f=()=>{let t;return t=u?h:d?p:l.route.Component?i.createElement(l.route.Component,null):l.route.element?l.route.element:e,i.createElement(_e,{match:l,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?i.createElement(ke,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()},null)}function je(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(e){let t=i.useContext(re);return x(t,je(e)),t}function Ee(e){let t=i.useContext(ie);return x(t,je(e)),t}function Ce(e){let t=function(e){let t=i.useContext(de);return x(t,je(e)),t}(e),n=t.matches[t.matches.length-1];return x(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Pe(){var e;let t=i.useContext(he),n=Ee("useRouteError"),r=Ce("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Te={};function Ie(e,t,n){t||Te[e]||(Te[e]=!0,k(!1,n))}var Oe={};function Ae(e,t){e||Oe[t]||(Oe[t]=!0,console.warn(t))}i.memo(function(e){let{routes:t,future:n,state:r}=e;return be(t,void 0,r,n)});function Re(e){let{to:t,replace:n,state:r,relative:a}=e;x(pe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=i.useContext(ce);k(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=i.useContext(de),{pathname:l}=me(),c=ve(),u=Y(t,K(o),l,"path"===a),d=JSON.stringify(u);return i.useEffect(()=>{c(JSON.parse(d),{replace:n,state:r,relative:a})},[c,d,a,n,r]),null}function ze(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Me(e){let{basename:t="/",children:n=null,location:r,navigationType:a="POP",navigator:s,static:o=!1}=e;x(!pe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);"string"===typeof r&&(r=N(r));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,f=i.useMemo(()=>{let e=J(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:m},navigationType:a}},[l,u,d,h,p,m,a]);return k(null!=f,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(d).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==f?null:i.createElement(ce.Provider,{value:c},i.createElement(ue.Provider,{children:n,value:f}))}function Le(e){let{children:t,location:n}=e;return be(De(t),n)}i.Component;function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,De(e.props.children,a));x(e.type===ze,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=De(e.props.children,a)),n.push(s)}),n}var Fe="get",Ue="application/x-www-form-urlencoded";function Be(e){return null!=e&&"string"===typeof e.tagName}var qe=null;var We=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function He(e){return null==e||We.has(e)?e:(k(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ue,'"')),null)}function Je(e,t){let n,r,i,a,s;if(Be(o=e)&&"form"===o.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?J(s,t):null,n=e.getAttribute("method")||Fe,i=He(e.getAttribute("enctype"))||Ue,a=new FormData(e)}else if(function(e){return Be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(r=o?J(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Fe,i=He(e.getAttribute("formenctype"))||He(s.getAttribute("enctype"))||Ue,a=new FormData(s,e),!function(){if(null===qe)try{new FormData(document.createElement("form"),0),qe=!1}catch(e){qe=!0}return qe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fe,r=null,i=Ue,s=e}var o;return a&&"text/plain"===i&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Ve(e){return{__html:e}}function Ge(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ke(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===J(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ye(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $e(e){return null!=e&&"string"===typeof e.page}function Xe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Qe(e,t,n,r,i,a){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Ze(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function et(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!$e(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function tt(e,t){return"lazy"===e.mode&&!0===t}function nt(){let e=i.useContext(re);return Ge(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rt(){let e=i.useContext(ie);return Ge(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var it=i.createContext(void 0);function at(){let e=i.useContext(it);return Ge(e,"You must render this element inside a <HydratedRouter> element"),e}function st(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ot(e,t,n){if(n&&!dt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}it.displayName="FrameworkContext";function lt(e){let{page:t}=e,n=o(e,m),{router:r}=nt(),a=i.useMemo(()=>P(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?i.createElement(ut,h({page:t,matches:a},n)):null}function ct(e){let{manifest:t,routeModules:n}=at(),[r,a]=i.useState([]);return i.useEffect(()=>{let r=!1;return async function(e,t,n){return et((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ye(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Xe).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?h(h({},e),{},{rel:"prefetch",as:"style"}):h(h({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),r}function ut(e){let{page:t,matches:n}=e,r=o(e,f),a=me(),{manifest:s,routeModules:l}=at(),{basename:c}=nt(),{loaderData:u,matches:d}=rt(),p=i.useMemo(()=>Qe(t,n,d,s,a,"data"),[t,n,d,s,a]),m=i.useMemo(()=>Qe(t,n,d,s,a,"assets"),[t,n,d,s,a]),g=i.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let i=s.routes[t.route.id];i&&i.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let i=Ke(t,c,"data");return r&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[c,u,a,s,p,n,t,l]),v=i.useMemo(()=>Ze(m,s),[m,s]),y=ct(m);return i.createElement(i.Fragment,null,g.map(e=>i.createElement("link",h({key:e,rel:"prefetch",as:"fetch",href:e},r))),v.map(e=>i.createElement("link",h({key:e,rel:"modulepreload",href:e},r))),y.map(e=>{let{key:t,link:n}=e;return i.createElement("link",h({key:t,nonce:r.nonce},n))}))}var dt=!1;function ht(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:a,routeDiscovery:s,ssr:l}=at(),{router:c,static:u,staticContext:d}=nt(),{matches:m}=rt(),f=i.useContext(ae),g=tt(s,l);a&&(a.didRenderScripts=!0);let v=ot(m,null,r);i.useEffect(()=>{dt=!0},[]);let y=i.useMemo(()=>{var r;if(f)return null;let a=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",s=u?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),i=t.routes[e.route.id];Ge(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=o(e,p),i=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(a.pop();a.length>0;)s.push("/".concat(a.join("/"))),a.pop();s.forEach(e=>{let n=P(t.routes,e,t.basename);n&&n.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return h(h({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ve(a),type:void 0})),i.createElement("script",h(h({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ve(s),type:"module",async:!0})))},[]),b=dt||f?[]:(w=t.entry.imports.concat(Ze(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return Ae(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),dt||f?null:i.createElement(i.Fragment,null,"object"===typeof t.sri?i.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}i.Component;function mt(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,a=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(ee(t))return i.createElement(ft,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return i.createElement(ft,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),a)}function ft(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:a,children:s}=e,{routeModules:o}=at();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!a?s:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?i.createElement(ht,null):null)))}var gt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gt&&(window.__reactRouterVersion="7.8.1")}catch(oc){}function vt(e){let{basename:t,children:n,window:r}=e,a=i.useRef();null==a.current&&(a.current=w({window:r,v5Compat:!0}));let s=a.current,[o,l]=i.useState({action:s.action,location:s.location}),c=i.useCallback(e=>{i.startTransition(()=>l(e))},[l]);return i.useLayoutEffect(()=>s.listen(c),[s,c]),i.createElement(Me,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:s})}var yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=i.forwardRef(function(e,t){let n,{onClick:r,discover:a="render",prefetch:s="none",relative:l,reloadDocument:c,replace:u,state:d,target:p,to:m,preventScrollReset:f,viewTransition:v}=e,y=o(e,g),{basename:b}=i.useContext(ce),w="string"===typeof m&&yt.test(m),_=!1;if("string"===typeof m&&w&&(n=m,gt))try{let e=new URL(window.location.href),t=m.startsWith("//")?new URL(e.protocol+m):new URL(m),n=J(t.pathname,b);t.origin===e.origin&&null!=n?m=n+t.search+t.hash:_=!0}catch(oc){k(!1,'<Link to="'.concat(m,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(pe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(ce),{hash:a,pathname:s,search:o}=ye(e,{relative:t}),l=s;return"/"!==n&&(l="/"===s?n:$([n,s])),r.createHref({pathname:l,search:o,hash:a})}(m,{relative:l}),[N,E,C]=function(e,t){let n=i.useContext(it),[r,a]=i.useState(!1),[s,o]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=i.useRef(null);i.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),i.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let m=()=>{a(!0)},f=()=>{a(!1),o(!1)};return n?"intent"!==e?[s,p,{}]:[s,p,{onFocus:st(l,m),onBlur:st(c,f),onMouseEnter:st(u,m),onMouseLeave:st(d,f),onTouchStart:st(h,m)}]:[!1,p,{}]}(s,y),P=function(e){let{target:t,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ve(),c=me(),u=ye(e,{relative:s});return i.useCallback(i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:j(c)===j(u);l(e,{replace:t,state:r,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,n,r,t,e,a,s,o])}(m,{replace:u,state:d,target:p,preventScrollReset:f,relative:l,viewTransition:v});let T=i.createElement("a",h(h(h({},y),C),{},{href:n||S,onClick:_||c?r:function(e){r&&r(e),e.defaultPrevented||P(e)},ref:pt(t,E),target:p,"data-discover":w||"render"!==a?void 0:"true"}));return N&&!w?i.createElement(i.Fragment,null,T,i.createElement(lt,{page:S})):T});bt.displayName="Link",i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:s=!1,style:l,to:c,viewTransition:u,children:d}=e,p=o(e,v),m=ye(c,{relative:p.relative}),f=me(),g=i.useContext(ie),{navigator:y,basename:b}=i.useContext(ce),w=null!=g&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(se);x(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kt("useViewTransitionState"),a=ye(e,{relative:t});if(!n.isTransitioning)return!1;let s=J(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=J(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=q(a.pathname,o)||null!=q(a.pathname,s)}(m)&&!0===u,k=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,_=f.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(_=_.toLowerCase(),S=S?S.toLowerCase():null,k=k.toLowerCase()),S&&b&&(S=J(S,b)||S);const j="/"!==k&&k.endsWith("/")?k.length-1:k.length;let N,E=_===k||!s&&_.startsWith(k)&&"/"===_.charAt(j),C=null!=S&&(S===k||!s&&S.startsWith(k)&&"/"===S.charAt(k.length)),P={isActive:E,isPending:C,isTransitioning:w},T=E?n:void 0;N="function"===typeof a?a(P):[a,E?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let I="function"===typeof l?l(P):l;return i.createElement(bt,h(h({},p),{},{"aria-current":T,className:N,ref:t,style:I,to:c,viewTransition:u}),"function"===typeof d?d(P):d)}).displayName="NavLink";var wt=i.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:a,reloadDocument:s,replace:l,state:c,method:u=Fe,action:d,onSubmit:p,relative:m,preventScrollReset:f,viewTransition:g}=e,v=o(e,y),b=jt(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(ce),r=i.useContext(de);x(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s=h({},ye(e||".",{relative:t})),o=me();if(null==e){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();s.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:$([n,s.pathname]));return j(s)}(d,{relative:m}),k="get"===u.toLowerCase()?"get":"post",_="string"===typeof d&&yt.test(d);return i.createElement("form",h(h({ref:t,method:k,action:w,onSubmit:s?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:r,method:n,navigate:a,replace:l,state:c,relative:m,preventScrollReset:f,viewTransition:g})}},v),{},{"data-discover":_||"render"!==n?void 0:"true"}))});function xt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function kt(e){let t=i.useContext(re);return x(t,xt(e)),t}wt.displayName="Form";var _t=0,St=()=>"__".concat(String(++_t),"__");function jt(){let{router:e}=kt("useSubmit"),{basename:t}=i.useContext(ce),n=Ce("useRouteId");return i.useCallback(async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:s,encType:o,formData:l,body:c}=Je(r,t);if(!1===i.navigate){let t=i.fetcherKey||St();await e.fetch(t,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}class Nt extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Et extends Nt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ct extends Nt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Pt extends Nt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tt;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Tt||(Tt={}));var It=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Ot{constructor(e){let{headers:t={},customFetch:r,region:i=Tt.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=i,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return It(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:a}=t;let s={},{region:o}=t;o||(o=this.region);const l=new URL("".concat(this.url,"/").concat(e));let c;o&&"any"!==o&&(s["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",c=a):"string"===typeof a?(s["Content-Type"]="text/plain",c=a):"undefined"!==typeof FormData&&a instanceof FormData?c=a:(s["Content-Type"]="application/json",c=JSON.stringify(a)));const u=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:c}).catch(e=>{throw new Et(e)}),d=u.headers.get("x-relay-error");if(d&&"true"===d)throw new Ct(u);if(!u.ok)throw new Pt(u);let h,p=(null!==(n=u.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===p?yield u.json():"application/octet-stream"===p?yield u.blob():"text/event-stream"===p?u:"multipart/form-data"===p?yield u.formData():yield u.text(),{data:h,error:null,response:u}}catch(r){return{data:null,error:r,response:r instanceof Pt||r instanceof Ct?r.context:void 0}}})}}var At=n(53);const{PostgrestClient:Rt,PostgrestQueryBuilder:zt,PostgrestFilterBuilder:Mt,PostgrestTransformBuilder:Lt,PostgrestBuilder:Dt,PostgrestError:Ft}=At;const Ut=class{static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if("undefined"!==typeof process&&process.versions&&process.versions.node){const e=parseInt(process.versions.node.split(".")[0]);return e>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(e," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(e," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},Bt="realtime-js/".concat("2.15.1"),qt=1e4;var Wt,Ht,Jt,Vt,Gt,Kt;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Wt||(Wt={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ht||(Ht={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Jt||(Jt={})),function(e){e.websocket="websocket"}(Vt||(Vt={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Gt||(Gt={}));class Yt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(e.slice(a,a+r));a+=r;const o=n.decode(e.slice(a,a+i));a+=i;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class $t{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Kt||(Kt={}));const Xt=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,i)=>(n[i]=Qt(i,e,t,r),n),{})},Qt=(e,t,n,r)=>{const i=t.find(t=>t.name===e),a=null===i||void 0===i?void 0:i.type,s=n[e];return a&&!r.includes(a)?Zt(a,s):en(s)},Zt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return an(t,n)}switch(e){case Kt.bool:return tn(t);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return nn(t);case Kt.json:case Kt.jsonb:return rn(t);case Kt.timestamp:return sn(t);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:default:return en(t)}},en=e=>e,tn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},nn=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rn=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},an=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(i){r=a?a.split(","):[]}return r.map(e=>Zt(t,e))}return e},sn=e=>"string"===typeof e?e.replace(" ","T"):e,on=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ln{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qt;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cn,un,dn,hn;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(cn||(cn={}));class pn{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pn.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=pn.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=pn.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),a=this.transformState(t),s={},o={};return this.map(i,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const n=i[e];if(n){const r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(s[e]=a),l.length>0&&(o[e]=l)}else s[e]=t}),this.syncDiff(i,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;const a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;const a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(un||(un={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(dn||(dn={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(hn||(hn={}));class mn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ln(this,Jt.join,this.params,this.timeout),this.rejoinTimer=new $t(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Ht.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jt.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new pn(this),this.broadcastEndpointURL=on(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:i,presence:a,private:s}}=this.params,o=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],l=!!this.bindings[dn.PRESENCE]&&this.bindings[dn.PRESENCE].length>0,c={},u={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:o,private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(hn.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<i;r++){const i=t[r],{filter:{event:s,schema:o,table:l,filter:c}}=i,u=n&&n[r];if(!u||u.event!==s||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),this.state=Ht.errored,void(null===e||void 0===e||e(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(hn.SUBSCRIBED))}null===e||void 0===e||e(hn.SUBSCRIBED)}).receive("error",t=>{this.state=Ht.errored,null===e||void 0===e||e(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===Ht.joined&&e===dn.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,a;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||n("ok"),s.receive("ok",()=>n("ok")),s.receive("error",()=>n("error")),s.receive("timeout",()=>n("timed out"))});{const{event:a,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ht.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Jt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ln(this,Jt.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new ln(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const a=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=Jt;if(n&&[s,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(u,n)):null===(i=this.bindings[a])||void 0===i||i.filter(e=>{var n,r,i,s,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,s={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&mn.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jt.close,{},e)}_onError(e){this._on(Jt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Xt(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Xt(e.columns,e.old_record)),t}}const fn=()=>{},gn=25e3,vn=10,yn=100,bn=[1e3,2e3,5e3,1e4];class wn{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qt,this.transport=null,this.heartbeatIntervalMs=gn,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fn,this.ref=0,this.reconnectTimer=null,this.logger=fn,this.conn=null,this.sendBuffer=[],this.serializer=new Yt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)}).catch(e=>{throw new Error("Failed to load @supabase/node-fetch: ".concat(e.message,". ")+"This is required for HTTP requests in Node.js environments without native fetch.")})}:fetch),function(){return t(...arguments)}},!(null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(Vt.websocket),this.httpEndpoint=on(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ut.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return Gt.Connecting;case Wt.open:return Gt.Open;case Wt.closing:return Gt.Closing;default:return Gt.Closed}}isConnected(){return this.connectionState()===Gt.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new mn("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(i,")"),r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},yn);this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{"phoenix"===e.topic&&"phx_reply"===e.event&&this.heartbeatCallback("ok"===e.payload.status?"ok":"error"),e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:t,event:n,payload:r,ref:i}=e,a=i?"(".concat(i,")"):"",s=r.status||"";this.log("receive","".concat(s," ").concat(t," ").concat(n," ").concat(a).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jt.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=t||(this.accessToken?await this.accessToken():this.accessTokenValue),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:Bt};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Jt.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this.setAuth().catch(t=>{this.log("error","error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(oc){this.log("error","error in ".concat(e," callback"),oc)}})}catch(oc){this.log("error","error triggering ".concat(e," callbacks"),oc)}}_setupReconnectionTimer(){this.reconnectTimer=new $t(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vn)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,i,a,s,o,l;if(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:qt,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:gn,this.worker=null!==(i=null===e||void 0===e?void 0:e.worker)&&void 0!==i&&i,this.accessToken=null!==(a=null===e||void 0===e?void 0:e.accessToken)&&void 0!==a?a:null,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(s=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==s?s:e=>bn[e-1]||1e4,this.encode=null!==(o=null===e||void 0===e?void 0:e.encode)&&void 0!==o?o:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(l=null===e||void 0===e?void 0:e.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}class xn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function kn(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class _n extends xn{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Sn extends xn{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var jn=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Nn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},En=e=>{if(Array.isArray(e))return e.map(e=>En(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const i=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[i]=En(r)}),t};var Cn=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Tn=(e,t,r)=>Cn(void 0,void 0,void 0,function*(){const i=yield jn(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,621))).Response:Response});e instanceof i&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{const r=e.status||500,i=(null===n||void 0===n?void 0:n.statusCode)||r+"";t(new _n(Pn(n),r,i))}).catch(e=>{t(new Sn(Pn(e),e))}):t(new Sn(Pn(e),e))}),In=(e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,(null===t||void 0===t?void 0:t.duplex)&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n)):i};function On(e,t,n,r,i,a){return Cn(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(n,In(t,r,i,a)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>Tn(e,o,r))})})}function An(e,t,n,r){return Cn(this,void 0,void 0,function*(){return On(e,"GET",t,n,r)})}function Rn(e,t,n,r,i){return Cn(this,void 0,void 0,function*(){return On(e,"POST",t,r,i,n)})}function zn(e,t,n,r,i){return Cn(this,void 0,void 0,function*(){return On(e,"PUT",t,r,i,n)})}function Mn(e,t,n,r,i){return Cn(this,void 0,void 0,function*(){return On(e,"DELETE",t,r,i,n)})}var Ln=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Dn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Nn(r)}uploadOrUpdate(e,t,n,r){return Ln(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Fn),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,s["cache-control"]="max-age=".concat(a.cacheControl),s["content-type"]=a.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield("PUT"==e?zn:Rn)(this.fetch,"".concat(this.url,"/object/").concat(c),i,Object.assign({headers:s},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(i){if(kn(i))return{data:null,error:i};throw i}})}upload(e,t,n){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return Ln(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+"/object/upload/sign/".concat(a));s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:Fn.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]="max-age=".concat(t.cacheControl),a["content-type"]=t.contentType);return{data:{path:i,fullPath:(yield zn(this.fetch,s.toString(),e,{headers:a})).Key},error:null}}catch(o){if(kn(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return Ln(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield Rn(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:r}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new xn("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}update(e,t,n){return Ln(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return Ln(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}copy(e,t,n){return Ln(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return Ln(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Rn(this.fetch,"".concat(this.url,"/object/sign/").concat(r),Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return i={signedUrl:encodeURI("".concat(this.url).concat(i.signedURL).concat(a))},{data:i,error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return Ln(this,void 0,void 0,function*(){try{const r=yield Rn(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(i)):null})),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}download(e,t){return Ln(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),i=r?"?".concat(r):"";try{const t=this._getFinalPath(e),r=yield An(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(t).concat(i),{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(kn(a))return{data:null,error:a};throw a}})}info(e){return Ln(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield An(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:En(e),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}exists(e){return Ln(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return Cn(this,void 0,void 0,function*(){return On(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(n){if(kn(n)&&n instanceof Sn){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==i&&r.push(i);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(a,"/public/").concat(n).concat(o))}}}remove(e){return Ln(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}list(e,t,n){return Ln(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Dn),t),{prefix:e||""});return{data:yield Rn(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),r,{headers:this.headers},n),error:null}}catch(r){if(kn(r))return{data:null,error:r};throw r}})}listV2(e,t){return Ln(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Rn(this.fetch,"".concat(this.url,"/object/list-v2/").concat(this.bucketId),n,{headers:this.headers},t),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Bn={"X-Client-Info":"storage-js/".concat("2.11.0")};var qn=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Wn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=new URL(e);if(null===r||void 0===r?void 0:r.useNewHostname){/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."))}this.url=i.href,this.headers=Object.assign(Object.assign({},Bn),t),this.fetch=Nn(n)}listBuckets(){return qn(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(kn(e))return{data:null,error:e};throw e}})}getBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return qn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return qn(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(kn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return qn(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(kn(t))return{data:null,error:t};throw t}})}}class Hn extends Wn{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Un(this.url,this.headers,e,this.fetch)}}let Jn="";Jn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Vn={headers:{"X-Client-Info":"supabase-js-".concat(Jn,"/").concat("2.55.0")}},Gn={schema:"public"},Kn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yn={};var $n=n(621),Xn=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Qn=e=>{let t;return t=e||("undefined"===typeof fetch?$n.default:fetch),function(){return t(...arguments)}},Zn=(e,t,n)=>{const r=Qn(n),i="undefined"===typeof Headers?$n.Headers:Headers;return(n,a)=>Xn(void 0,void 0,void 0,function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new i(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Object.assign(Object.assign({},a),{headers:l}))})};var er=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const tr="2.71.1",nr=3e4,rr=9e4,ir={"X-Client-Info":"gotrue-js/".concat(tr)},ar="X-Supabase-Api-Version",sr={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},or=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class lr extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function cr(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ur extends lr{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class dr extends lr{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class hr extends lr{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class pr extends hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class mr extends hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fr extends hr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gr extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vr extends hr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yr extends hr{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function br(e){return cr(e)&&"AuthRetryableFetchError"===e.name}class wr extends hr{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class xr extends hr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const kr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_r=" \t\n\r=".split(""),Sr=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<_r.length;t+=1)e[_r[t].charCodeAt(0)]=-2;for(let t=0;t<kr.length;t+=1)e[kr[t].charCodeAt(0)]=t;return e})();function jr(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(kr[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(kr[e]),t.queuedBits-=6}}function Nr(e,t,n){const r=Sr[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Er(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)Nr(e.charCodeAt(s),i,a);return t.join("")}function Cr(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function Pr(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Cr(r,t)}}function Tr(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)Nr(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Ir(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>jr(e,n,r)),jr(null,n,r),t.join("")}const Or=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Ar={tested:!1,writable:!1},Rr=()=>{if(!Or())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(oc){return!1}if(Ar.tested)return Ar.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ar.tested=!0,Ar.writable=!0}catch(oc){Ar.tested=!0,Ar.writable=!1}return Ar.writable};const zr=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,621)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Mr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Lr=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Dr=async(e,t)=>{await e.removeItem(t)};class Fr{constructor(){this.promise=new Fr.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Ur(e){const t=e.split(".");if(3!==t.length)throw new xr("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!or.test(t[n]))throw new xr("JWT not in base64url format");return{header:JSON.parse(Er(t[0])),payload:JSON.parse(Er(t[1])),signature:Tr(t[2]),raw:{header:t[0],payload:t[1]}}}function Br(e){return("0"+e.toString(16)).substr(-2)}async function qr(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Wr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Br).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Mr(e,"".concat(t,"-code-verifier"),i);const a=await qr(r);return[a,r===a?"plain":"s256"]}Fr.promiseConstructor=Promise;const Hr=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Jr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vr(e){if(!Jr.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gr(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Kr(e){return JSON.parse(JSON.stringify(e))}var Yr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const $r=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xr=[502,503,504];async function Qr(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new yr($r(e),0);if(Xr.includes(e.status))throw new yr($r(e),e.status);let r,i;try{r=await e.json()}catch(oc){throw new dr($r(oc),oc)}const a=function(e){const t=e.headers.get(ar);if(!t)return null;if(!t.match(Hr))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(oc){return null}}(e);if(a&&a.getTime()>=sr.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?i=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new wr($r(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new pr}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new wr($r(r),e.status,r.weak_password.reasons);throw new ur($r(r),e.status||500,i)}async function Zr(e,t,n,r){var i;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[ar]||(a[ar]=sr.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization="Bearer ".concat(r.jwt));const s=null!==(i=null===r||void 0===r?void 0:r.query)&&void 0!==i?i:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,i,a){const s=((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,a);let o;try{o=await e(n,Object.assign({},s))}catch(oc){throw console.error(oc),new yr($r(oc),0)}o.ok||await Qr(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(oc){await Qr(oc)}}(e,t,n+o,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function ei(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ti(e){const t=ei(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function ni(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ri(e){return{data:e,error:null}}function ii(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=Yr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},s)},error:null}}function ai(e){return e}const si=["global","local","others"];var oi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class li{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=zr(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:si[0];if(si.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(si.join(", ")));try{return await Zr(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Zr(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ni})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=oi(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Zr(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:ii,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(cr(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Zr(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:ni})}catch(t){if(cr(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,a,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await Zr(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:ai});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(cr(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Vr(e);try{return await Zr(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:ni})}catch(t){if(cr(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Vr(e);try{return await Zr(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:ni})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Vr(e);try{return await Zr(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:ni})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Vr(e.userId);try{const{data:t,error:n}=await Zr(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(cr(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Vr(e.userId),Vr(e.id);try{return{data:await Zr(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}}}function ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const ui=!!(globalThis&&Rr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class di extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hi extends di{}async function pi(e,t,n){ui&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ui&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw ui&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hi('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(ui)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(oc){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",oc)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}ui&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{ui&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(oc){"undefined"!==typeof self&&(self.globalThis=self)}}();const mi={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ir,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fi(e,t,n){return await n()}const gi={};class vi{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=vi.nextInstanceID,vi.nextInstanceID+=1,this.instanceID>0&&Or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},mi),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new li({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=zr(r.fetch),this.lock=r.lock||fi,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Or()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=pi:this.lock=fi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:Rr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ci(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=ci(this.memoryStorage)),Or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(oc){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",oc)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=gi[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=gi[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(tr,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(oc){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Or()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return cr(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return cr(t)?{error:t}:{error:new dr("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await Zr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:ei}),{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(cr(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Wr(this.storage,this.storageKey)),i=await Zr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},xform:ei})}else{if(!("phone"in e))throw new fr("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:s}=e;i=await Zr(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:ei})}}const{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(cr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await Zr(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ti})}else{if(!("phone"in e))throw new fr("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await Zr(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ti})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new mr}}catch(t){if(cr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}async signInWithSolana(e){var t,n,r,i,a,s,o,l,c,u,d,h;let p,m;if("message"in e)p=e.message,m=e.signature;else{const{chain:d,wallet:h,statement:f,options:g}=e;let v;if(Or())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const y=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:y.host,uri:y.href}),f?{statement:f}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");p="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),m=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=["".concat(y.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1","URI: ".concat(y.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(p),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=e}}try{const{data:t,error:n}=await Zr(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Ir(m)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:ei});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new mr}}catch(f){if(cr(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(e){const t=await Lr(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:i}=await Zr(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ei});if(await Dr(this.storage,"".concat(this.storageKey,"-code-verifier")),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new mr}}catch(i){if(cr(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:a}=e,s=await Zr(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ei}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new mr}}catch(t){if(cr(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,a;try{if("email"in e){const{email:r,options:i}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await Wr(this.storage,this.storageKey));const{error:o}=await Zr(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await Zr(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new fr("You must provide either an email or phone number.")}catch(s){if(cr(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:s}=await Zr(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:ei});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(cr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,a=null;return"pkce"===this.flowType&&([i,a]=await Wr(this.storage,this.storageKey)),await Zr(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:ri})}catch(i){if(cr(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new pr;const{error:r}=await Zr(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(cr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:i}=e,{error:a}=await Zr(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:a,error:s}=await Zr(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:s}}throw new fr("You must provide either an email or phone number and a type")}catch(t){if(cr(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(oc){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(oc){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<rr;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Lr(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Gr()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Zr(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:ni}):await this._useSession(async e=>{var t,n,r;const{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Zr(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:ni}):{data:{user:null},error:new pr}})}catch(t){if(cr(t))return function(e){return cr(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Dr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new pr;const a=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await Wr(this.storage,this.storageKey));const{data:l,error:c}=await Zr(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:a.access_token,xform:ni});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(cr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pr;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:a}=Ur(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(cr(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new pr;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(cr(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Or())throw new gr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new vr("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new gr("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vr("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:s,expires_at:o,token_type:l}=e;if(!i||!s||!a||!l)throw new gr("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=nr&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:m,error:f}=await this._getUser(i);if(f)throw f;const g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(cr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Lr(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return cr(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Dr(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Wr(this.storage,this.storageKey,!0));try{return await Zr(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(cr(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,i,a,s;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await Zr(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==s?s:void 0})});if(r)throw r;return Or()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(cr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:a}=t;if(a)throw a;return await Zr(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(cr(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Zr(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:ei})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&br(t)&&Date.now()+n-i<nr},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(oc){if(!r(i,oc))return void t(oc)}})()}))}catch(i){if(this._debug(t,"error",i),cr(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Or()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Lr(this.storage,this.storageKey);if(i&&this.userStorage){let t=await Lr(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await Mr(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Gr()}else if(i&&!i.user&&!i.user){const e=await Lr(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await Dr(this.storage,this.storageKey+"-user"),await Mr(this.storage,this.storageKey,i)):i.user=Gr()}if(this._debug(n,"session from storage",i),!this._isValidSession(i))return this._debug(n,"session is not valid"),void(null!==i&&await this._removeSession());const a=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<rr;if(this._debug(n,"session has".concat(a?"":" not"," expired with margin of ").concat(rr,"s")),a){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(console.error(e),br(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return this._debug(n,"error",i),void console.error(i)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new Fr;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new pr;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),cr(i)){const e={session:null,error:i};return br(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(oc){r.push(oc)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Mr(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Kr(e);await Mr(this.storage,this.storageKey,r)}else{const e=Kr(t);await Mr(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Or()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(oc){console.error("removing visibilitychange callback failed",oc)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),nr);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/nr);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(nr,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(oc){console.error("Auto refresh tick failed with error. This is likely a transient error.",oc)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(oc){if(!(oc.isAcquireTimeout||oc instanceof di))throw oc;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Or()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await Wr(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await Zr(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(cr(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Zr(this.fetch,"POST","".concat(this.url,"/factors"),{body:s,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),{data:o,error:null})})}catch(t){if(cr(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:s}=await Zr(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})})}catch(t){if(cr(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await Zr(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(cr(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),i=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Ur(r.access_token);let s=null;a.aal&&(s=a.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:i}=await Zr(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(i)throw i;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:i,signature:a,raw:{header:s,payload:o}}=Ur(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,a,function(e){const t=[];return Pr(e,e=>t.push(e)),new Uint8Array(t)}("".concat(s,".").concat(o))))throw new xr("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}}}vi.nextInstanceID=0;const yi=vi;class bi extends yi{constructor(e){super(e)}}var wi=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(oc){a(oc)}}function o(e){try{l(r.throw(e))}catch(oc){a(oc)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};class xi{constructor(e,t,n){var r,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var n,r;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>er(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Gn,realtime:Yn,auth:Object.assign(Object.assign({},Kn),{storageKey:c}),global:Vn});this.storageKey=null!==(r=u.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=u.global.headers)&&void 0!==i?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(a=u.auth)&&void 0!==a?a:{},this.headers,u.global.fetch),this.fetch=Zn(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Rt(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Hn(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ot(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return wi(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:s,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new bi({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:s,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new wn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}if(function(){if("undefined"!==typeof window)return!1;if("undefined"===typeof process)return!1;const e=process.version;if(void 0===e||null===e)return!1;const t=e.match(/^v(\d+)\./);return!!t&&parseInt(t[1],10)<=18}()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217"),window.__SUPABASE_CLIENT__)throw console.warn("WARNING: Attempting to create multiple Supabase clients. Using existing singleton."),new Error("Multiple Supabase clients detected! Use the singleton from config/supabase.js");const ki="https://zskaxjtyuaqazydouifp.supabase.co".trim().replace(/\n/g,""),_i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0".trim().replace(/\n/g,"");if(console.log("\ud83d\udd27 Supabase Configuration:",{url:ki,hasKey:!!_i,envVarsPresent:!0,buildTime:(new Date).toISOString()}),!ki||!_i)throw console.error("CRITICAL: Supabase configuration missing from environment variables"),console.error("Required environment variables:"),console.error("- REACT_APP_SUPABASE_URL"),console.error("- REACT_APP_SUPABASE_ANON_KEY"),console.error("Please set these in your .env file locally or in Vercel environment settings for production"),new Error("Supabase configuration is required. Please set REACT_APP_SUPABASE_URL and REACT_APP_SUPABASE_ANON_KEY environment variables.");const Si=window.__SUPABASE_CLIENT__||(()=>{const e=((e,t,n)=>new xi(e,t,n))(ki,_i,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,storage:window.localStorage,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"signaldesk-frontend"}}});return window.__SUPABASE_CLIENT__=e,console.log("\u2705 Supabase singleton client created successfully"),e})(),ji=Si.from.bind(Si);Si.from=function(e){const t=ji(e),n=t.select.bind(t);return t.select=function(){const t=n(...arguments),r=t.then.bind(t);return t.then=function(t,n){return r(t,r=>{var i,a;if((null!==r&&void 0!==r&&null!==(i=r.message)&&void 0!==i&&i.includes("schema")||null!==r&&void 0!==r&&null!==(a=r.message)&&void 0!==a&&a.includes("permission"))&&(console.warn("Database schema access issue for table '".concat(e,"':"),r.message),t))return t({data:[],error:null,count:0});if(n)return n(r);throw r})},t},t};var Ni=n(414);const Ei=(0,i.createContext)({}),Ci=()=>{const e=(0,i.useContext)(Ei);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Pi=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),p=ve();(0,i.useEffect)(()=>{Si.auth.getSession().then(e=>{var t,n;let{data:{session:i}}=e;s(i),r(null!==(t=null===i||void 0===i?void 0:i.user)&&void 0!==t?t:null),h(null!==(n=null===i||void 0===i?void 0:i.access_token)&&void 0!==n?n:null),l(!1)});const{data:{subscription:e}}=Si.auth.onAuthStateChange((e,t)=>{var n,i;s(t),r(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),h(null!==(i=null===t||void 0===t?void 0:t.access_token)&&void 0!==i?i:null)});return()=>e.unsubscribe()},[]);const m=(0,i.useCallback)(()=>!!a,[a]),f={user:n,session:a,token:d,login:async(e,t)=>{try{u(null),console.log("[Auth] Attempting Supabase login for:",e);const{data:n,error:r}=await Si.auth.signInWithPassword({email:e,password:t});if(r)throw console.error("[Auth] Supabase login error:",r),r;return console.log("[Auth] Supabase login successful"),p("/projects/demo-project"),{success:!0}}catch(n){const e=n.message||"Login failed";return console.error("[Auth] Login error:",e),u(e),{success:!1,error:e}}},logout:async()=>{await Si.auth.signOut(),r(null),s(null),h(null),p("/login")},loading:o,error:c,isAuthenticated:m,checkAuth:()=>{}};return(0,Ni.jsx)(Ei.Provider,{value:f,children:t})},Ti="";console.log("SignalDesk Configuration - SUPABASE ONLY:"),console.log("- Backend Mode: Supabase Edge Functions"),console.log("- Supabase URL:","https://zskaxjtyuaqazydouifp.supabase.co"),console.log("- Environment:","production"),console.log("- Auth: Supabase Auth"),console.log("- Database: Supabase PostgreSQL"),console.log("- APIs: Supabase Edge Functions"),console.log("\u2705 Supabase-only configuration loaded"),console.log("\u2705 Supabase-only mode: No API_BASE_URL needed");const Ii=Ti;console.log("API URL:",Ii);const Oi=()=>{const e=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}},Ai=async e=>{const t=await e.json();if(!e.ok)throw console.error("API Error Details:",t),new Error(t.error||t.message||"API request failed");return t},Ri=async()=>{console.log("GET request to:","".concat(Ii,"/projects"));const e=await fetch("".concat(Ii,"/projects"),{headers:Oi()});return Ai(e)},zi=async e=>{console.log("POST request to:","".concat(Ii,"/projects")),console.log("Project data:",e);const t=await fetch("".concat(Ii,"/projects"),{method:"POST",headers:Oi(),body:JSON.stringify(e)});return Ai(t)},Mi=(0,i.createContext)(),Li=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)({});(0,i.useEffect)(()=>{d()},[]),(0,i.useEffect)(()=>{const e=localStorage.getItem("activeProjectId");if(e&&a.length>0){const t=a.find(t=>t.id===parseInt(e));t&&r(t)}},[a]);const d=async()=>{try{if(!localStorage.getItem("token"))return void l(!1);const e=await Ri();e.success&&s(e.projects)}catch(e){console.error("Error fetching projects:",e)}finally{l(!1)}};return(0,Ni.jsx)(Mi.Provider,{value:{activeProject:n,projects:a,loading:o,selectProject:e=>{r(e),e?localStorage.setItem("activeProjectId",e.id):localStorage.removeItem("activeProjectId")},fetchProjects:d,createProject:async e=>{try{const t=await zi(e);if(t.success)return await d(),t.project;throw new Error(t.message)}catch(t){throw console.error("Error creating project:",t),t}},monitoringCache:c,setMonitoringData:(e,t)=>{u(n=>h(h({},n),{},{[e]:h(h({},t),{},{lastUpdated:(new Date).toISOString()})}))},getMonitoringData:e=>c[e]||null,clearMonitoringCache:e=>{u(e?t=>{const n=h({},t);return delete n[e],n}:{})}},children:t})},Di=(0,i.createContext)(),Fi=e=>{let{children:t}=e;const[n,r]=(0,i.useState)({unified:null,competitors:{},topics:{},lastFetch:null}),[a,s]=(0,i.useState)({id:null,name:null,targets:[],strategy:null}),[o,l]=(0,i.useState)({analysis:null,concepts:[],selectedConcept:null,executionPlan:null,lastAnalysis:null}),[c,u]=(0,i.useState)({sources:[],validated:!1,lastUpdate:null}),[d,p]=(0,i.useState)({intelligence:!1,opportunities:!1,sources:!1}),m=e=>{switch(e){case"intelligence":r({unified:null,competitors:{},topics:{},lastFetch:null});break;case"opportunities":l({analysis:null,concepts:[],selectedConcept:null,executionPlan:null,lastAnalysis:null});break;case"sources":u({sources:[],validated:!1,lastUpdate:null});break;case"all":r({unified:null,competitors:{},topics:{},lastFetch:null}),l({analysis:null,concepts:[],selectedConcept:null,executionPlan:null,lastAnalysis:null}),u({sources:[],validated:!1,lastUpdate:null})}};(0,i.useEffect)(()=>{const e={intelligence:n,organization:a,opportunity:o,source:c};localStorage.setItem("signaldesk_state",JSON.stringify(e))},[n,a,o,c]),(0,i.useEffect)(()=>{const e=localStorage.getItem("signaldesk_state");if(e)try{var t,n,i;const a=JSON.parse(e),o=Date.now()-864e5;(null===(t=a.intelligence)||void 0===t?void 0:t.lastFetch)>o&&r(a.intelligence),a.organization&&s(a.organization),(null===(n=a.opportunity)||void 0===n?void 0:n.lastAnalysis)>o&&l(a.opportunity),(null===(i=a.source)||void 0===i?void 0:i.lastUpdate)>o&&u(a.source)}catch(a){console.error("Error loading saved state:",a)}},[]);const f={intelligenceData:n,organizationData:a,opportunityData:o,sourceData:c,loadingStates:d,updateIntelligenceData:e=>{r(h(h({},e),{},{lastFetch:Date.now()}))},updateOrganizationData:e=>{if(e.targets&&a.targets){a.targets.map(e=>e.id).sort().join(",")!==e.targets.map(e=>e.id).sort().join(",")&&(console.log("Organization targets changed, clearing opportunity data"),l({analysis:null,concepts:[],selectedConcept:null,executionPlan:null,lastAnalysis:null}))}s(t=>h(h({},t),e))},updateOpportunityData:e=>{l(t=>h(h(h({},t),e),{},{lastAnalysis:e.analysis?Date.now():t.lastAnalysis}))},updateSourceData:e=>{u(h(h({},e),{},{lastUpdate:Date.now()}))},setLoadingStates:p,isDataStale:e=>!e||Date.now()-e>3e5,clearData:m,refreshData:e=>{m(e)}};return(0,Ni.jsx)(Di.Provider,{value:f,children:t})};if("undefined"!==typeof window)try{(()=>{if(localStorage.getItem("signaldesk_unified_profile"))return console.log("\u2705 Unified profile already exists, skipping migration"),!1;const e=localStorage.getItem("signaldesk_onboarding"),t=localStorage.getItem("opportunity_profile"),n=localStorage.getItem("signaldesk_organization");if(!e&&!t&&!n)return console.log("\u2139\ufe0f No existing data to migrate"),!1;console.log("\ud83d\udd04 Starting migration to unified profile...");const r={organization:{id:"",name:"",industry:"",website:"",description:""},competitors:[],monitoring_topics:[],brand:{voice:"professional",risk_tolerance:"moderate",response_speed:"considered"},messaging:{core_value_props:[],proof_points:[],competitive_advantages:[],key_narratives:[]},media:{preferred_tiers:[],journalist_relationships:[],no_comment_topics:[],exclusive_partners:[]},spokespeople:[],opportunities:{types:{competitor_weakness:!0,narrative_vacuum:!0,cascade_effect:!0,crisis_prevention:!0,alliance_opening:!1},minimum_confidence:70,auto_execute_threshold:95},migrated_at:(new Date).toISOString(),version:"2.0",migrated_from:[]};if(e)try{const t=JSON.parse(e);r.migrated_from.push("signaldesk_onboarding"),t.organization&&(r.organization=h(h({},r.organization),t.organization)),t.competitors&&(r.competitors=t.competitors.map(e=>"string"===typeof e?{name:e,advantage:""}:e)),t.monitoring_topics&&(r.monitoring_topics=t.monitoring_topics),console.log("\u2705 Migrated legacy onboarding data")}catch(i){console.error("\u26a0\ufe0f Error migrating legacy onboarding:",i)}if(t)try{const e=JSON.parse(t);r.migrated_from.push("opportunity_profile"),e.voice&&(r.brand.voice=e.voice),e.risk_tolerance&&(r.brand.risk_tolerance=e.risk_tolerance),e.response_speed&&(r.brand.response_speed=e.response_speed),e.core_value_props&&(r.messaging.core_value_props=e.core_value_props),e.proof_points&&(r.messaging.proof_points=e.proof_points),e.competitive_advantages&&(r.messaging.competitive_advantages=e.competitive_advantages),e.key_narratives&&(r.messaging.key_narratives=e.key_narratives),e.preferred_tiers&&(r.media.preferred_tiers=e.preferred_tiers),e.journalist_relationships&&(r.media.journalist_relationships=e.journalist_relationships),e.no_comment_topics&&(r.media.no_comment_topics=e.no_comment_topics),e.exclusive_partners&&(r.media.exclusive_partners=e.exclusive_partners),e.spokespeople&&(r.spokespeople=e.spokespeople),e.opportunity_types&&(r.opportunities.types=e.opportunity_types),e.minimum_confidence&&(r.opportunities.minimum_confidence=e.minimum_confidence),e.auto_execute_threshold&&(r.opportunities.auto_execute_threshold=e.auto_execute_threshold),e.competitors&&0===r.competitors.length&&(r.competitors=e.competitors.map(e=>"string"===typeof e?{name:e,advantage:""}:e)),console.log("\u2705 Migrated opportunity profile data")}catch(i){console.error("\u26a0\ufe0f Error migrating opportunity profile:",i)}if(n&&!r.organization.name)try{const e=JSON.parse(n);r.migrated_from.push("signaldesk_organization"),r.organization=h(h({},r.organization),e),console.log("\u2705 Migrated organization data")}catch(i){console.error("\u26a0\ufe0f Error migrating organization data:",i)}return!r.organization.id&&r.organization.name&&(r.organization.id=r.organization.name.toLowerCase().replace(/\s+/g,"-")),localStorage.setItem("signaldesk_unified_profile",JSON.stringify(r)),localStorage.setItem("signaldesk_organization",JSON.stringify(r.organization)),localStorage.setItem("opportunity_profile",JSON.stringify(h(h(h(h({},r.brand),r.messaging),r.media),{},{spokespeople:r.spokespeople,opportunity_types:r.opportunities.types,minimum_confidence:r.opportunities.minimum_confidence,auto_execute_threshold:r.opportunities.auto_execute_threshold,competitors:r.competitors}))),localStorage.setItem("signaldesk_onboarding",JSON.stringify({organization:r.organization,competitors:r.competitors,monitoring_topics:r.monitoring_topics})),console.log("\u2705 Migration complete! Unified profile created:",r),!0})()&&console.log("\ud83c\udf89 Profile migration successful")}catch(lc){console.error("\u274c Profile migration failed:",lc)}new class{constructor(){this.functionName="strategic-planning"}async generatePlan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{console.log("\ud83d\udccb Generating strategic plan via dedicated Strategic Planning function...");try{const{data:i,error:a}=await Si.functions.invoke(this.functionName,{body:{objective:e,context:t,constraints:n,timeline:r}});if(i&&!a)return console.log("\u2705 Strategic plan generated successfully via Supabase"),i}catch(i){console.warn("Supabase function failed, using fallback:",i)}console.log("\ud83d\udccb Using local fallback for strategic plan generation...");const a=this.generateFallbackPlan(e,t,n,r);return console.log("\u2705 Strategic plan generated successfully via fallback"),{success:!0,data:a}}catch(lc){throw console.error("Generate plan service error:",lc),new Error("Failed to generate strategic plan: ".concat(lc.message))}}async executeCampaign(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"immediate";try{console.log("\ud83d\ude80 Executing campaign via Strategic Planning function...");const{data:r,error:i}=await Si.functions.invoke("".concat(this.functionName,"/execute-campaign"),{body:{planId:e,pillarIndex:t,executionType:n}});if(i)throw console.error("Campaign execution error:",i),i;return console.log("\u2705 Campaign execution initiated"),r}catch(lc){throw console.error("Execute campaign service error:",lc),new Error("Failed to execute campaign: ".concat(lc.message))}}async gatherEvidence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["market","competitors","trends"];try{console.log("\ud83d\udd0d Gathering evidence via Strategic Planning function...");const{data:n,error:r}=await Si.functions.invoke("".concat(this.functionName,"/gather-evidence"),{body:{topic:e,sources:t}});if(r)throw console.error("Evidence gathering error:",r),r;return console.log("\u2705 Evidence gathered successfully"),n}catch(lc){throw console.error("Gather evidence service error:",lc),new Error("Failed to gather evidence: ".concat(lc.message))}}async updatePlan(e,t){try{console.log("\ud83d\udcdd Updating strategic plan via Supabase Edge Function...");const{data:e,error:n}=await Si.functions.invoke(this.functionName,{method:"PUT",body:t});if(n)throw console.error("Plan update error:",n),n;return console.log("\u2705 Strategic plan updated"),e}catch(lc){throw console.error("Update plan service error:",lc),new Error("Failed to update plan: ".concat(lc.message))}}async getPlanStatus(e){try{console.log("\ud83d\udcca Getting plan status via Supabase Edge Function...");const{data:e,error:t}=await Si.functions.invoke(this.functionName,{method:"GET"});if(t)throw console.error("Plan status error:",t),t;return console.log("\u2705 Plan status retrieved"),e}catch(lc){throw console.error("Get plan status service error:",lc),new Error("Failed to get plan status: ".concat(lc.message))}}savePlanToLocalStorage(e){try{const t=this.getPlansFromLocalStorage();t.push(e),localStorage.setItem("strategic_plans",JSON.stringify(t)),console.log("\u2705 Plan saved to localStorage")}catch(lc){console.error("Error saving plan to localStorage:",lc)}}getPlansFromLocalStorage(){try{const e=localStorage.getItem("strategic_plans");return e?JSON.parse(e):[]}catch(lc){return console.error("Error getting plans from localStorage:",lc),[]}}getPlanFromLocalStorage(e){try{return this.getPlansFromLocalStorage().find(t=>t.id===e)}catch(lc){return console.error("Error getting plan from localStorage:",lc),null}}generateFallbackPlan(e,t,n,r){return{id:"plan-".concat(Date.now()),objective:e,context:t,constraints:n,timeline:r,created_at:(new Date).toISOString(),status:"draft",executive_summary:"Strategic plan to ".concat(e,". ").concat(t?"Context: "+t:""," This comprehensive approach will address key objectives through coordinated strategic pillars and measurable outcomes."),strategic_pillars:[{title:"Strategic Foundation",description:"Establish the foundational elements required to achieve the objective",actions:["Conduct stakeholder analysis","Define success criteria","Establish baseline metrics","Create communication framework"],timeline:r||"4-6 weeks",mcp:"Intelligence MCP"},{title:"Content & Messaging",description:"Develop compelling content and messaging strategy",actions:["Create core messaging framework","Develop content calendar","Produce strategic content assets","Align messaging across channels"],timeline:r||"3-4 weeks",mcp:"Content Generator"},{title:"Media & Outreach",description:"Execute targeted media and stakeholder outreach",actions:["Identify key media targets","Develop media relations strategy","Execute outreach campaigns","Monitor media coverage"],timeline:r||"6-8 weeks",mcp:"Media Intelligence"},{title:"Monitoring & Optimization",description:"Track performance and optimize strategy based on results",actions:["Implement tracking systems","Monitor key metrics","Analyze performance data","Optimize strategy based on insights"],timeline:r||"Ongoing",mcp:"Analytics MCP"}],implementation_phases:[{phase:"Planning & Preparation",duration:"2 weeks",tasks:["Strategic research","Stakeholder mapping","Resource allocation"]},{phase:"Content Development",duration:"3 weeks",tasks:["Content creation","Message testing","Asset production"]},{phase:"Launch & Execution",duration:"4 weeks",tasks:["Campaign launch","Media outreach","Stakeholder engagement"]},{phase:"Optimization & Scale",duration:"3 weeks",tasks:["Performance analysis","Strategy refinement","Scaling successful tactics"]}],success_metrics:["Media mention volume and sentiment","Stakeholder engagement rates","Share of voice in target conversations","Website traffic and conversion","Social media engagement and reach","Brand awareness and perception metrics"],risk_mitigation:[{risk:"Timeline delays due to resource constraints",strategy:"Build buffer time into critical path activities and maintain flexible resource allocation"},{risk:"Negative media coverage or stakeholder reaction",strategy:"Develop crisis communication protocols and maintain proactive monitoring systems"},{risk:"Competitive response or market changes",strategy:"Implement agile planning processes and maintain competitive intelligence monitoring"}]}}generateCampaignFromPlan(e){if(!e||!e.strategic_pillars)throw new Error("Invalid plan structure");const t={id:"campaign-".concat(Date.now()),planId:e.id,objective:e.objective,context:e.context,timeline:e.timeline,status:"draft",pillars:e.strategic_pillars.map((e,t)=>({id:"pillar-".concat(t),title:e.title,description:e.description,actions:e.actions||[],timeline:e.timeline||"30 days",mcp:e.mcp||"Content Generator",status:"pending",progress:0,assignee:e.mcp||"Unassigned",dueDate:e.timeline||"TBD"})),created_at:(new Date).toISOString()},n=JSON.parse(localStorage.getItem("strategic_campaigns")||"[]");return n.push(t),localStorage.setItem("strategic_campaigns",JSON.stringify(n)),t}};const Ui=["children","className","collapsedSize","collapsible","defaultSize","forwardedRef","id","maxSize","minSize","onCollapse","onExpand","onResize","order","style","tagName"],Bi=["autoSaveId","children","className","direction","forwardedRef","id","onLayout","keyboardResizeBy","storage","style","tagName"],qi=(0,i.createContext)(null);qi.displayName="PanelGroupContext";const Wi="data-panel-group",Hi="data-panel-group-direction",Ji="data-panel-group-id",Vi="data-panel",Gi="data-panel-collapsible",Ki="data-panel-id",Yi="data-panel-size",$i="data-panel-resize-handle-id",Xi=i.useLayoutEffect,Qi=a["useId".toString()],Zi="function"===typeof Qi?Qi:()=>null;let ea=0;function ta(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=Zi(),n=(0,i.useRef)(e||t||null);return null===n.current&&(n.current=""+ea++),null!==e&&void 0!==e?e:n.current}function na(e){let{children:t,className:n="",collapsedSize:r,collapsible:a,defaultSize:s,forwardedRef:l,id:c,maxSize:u,minSize:d,onCollapse:p,onExpand:m,onResize:f,order:g,style:v,tagName:y="div"}=e,b=o(e,Ui);const w=(0,i.useContext)(qi);if(null===w)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:x,expandPanel:k,getPanelSize:_,getPanelStyle:S,groupId:j,isPanelCollapsed:N,reevaluatePanelConstraints:E,registerPanel:C,resizePanel:P,unregisterPanel:T}=w,I=ta(c),O=(0,i.useRef)({callbacks:{onCollapse:p,onExpand:m,onResize:f},constraints:{collapsedSize:r,collapsible:a,defaultSize:s,maxSize:u,minSize:d},id:I,idIsFromProps:void 0!==c,order:g});(0,i.useRef)({didLogMissingDefaultSizeWarning:!1}),Xi(()=>{const{callbacks:e,constraints:t}=O.current,n=h({},t);O.current.id=I,O.current.idIsFromProps=void 0!==c,O.current.order=g,e.onCollapse=p,e.onExpand=m,e.onResize=f,t.collapsedSize=r,t.collapsible=a,t.defaultSize=s,t.maxSize=u,t.minSize=d,n.collapsedSize===t.collapsedSize&&n.collapsible===t.collapsible&&n.maxSize===t.maxSize&&n.minSize===t.minSize||E(O.current,n)}),Xi(()=>{const e=O.current;return C(e),()=>{T(e)}},[g,I,C,T]),(0,i.useImperativeHandle)(l,()=>({collapse:()=>{x(O.current)},expand:e=>{k(O.current,e)},getId:()=>I,getSize:()=>_(O.current),isCollapsed:()=>N(O.current),isExpanded:()=>!N(O.current),resize:e=>{P(O.current,e)}}),[x,k,_,N,I,P]);const A=S(O.current,s);return(0,i.createElement)(y,h(h({},b),{},{children:t,className:n,id:I,style:h(h({},A),v),[Ji]:j,[Vi]:"",[Gi]:a||void 0,[Ki]:I,[Yi]:parseFloat(""+A.flexGrow).toFixed(1)}))}const ra=(0,i.forwardRef)((e,t)=>(0,i.createElement)(na,h(h({},e),{},{forwardedRef:t})));na.displayName="Panel",ra.displayName="forwardRef(Panel)";function ia(e){return"keydown"===e.type}function aa(e){return e.type.startsWith("pointer")}function sa(e){return e.type.startsWith("mouse")}function oa(e){if(aa(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(sa(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}const la=1,ca=2,ua=4,da=8;!function(){if("function"===typeof matchMedia)matchMedia("(pointer:coarse)").matches}();new Map;let ha=new Map;new Set;function pa(e,t){ha.set(e,t)}function ma(e,t){if(!e)throw console.error(t),Error(t)}function fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ga(e,t){return 0===fa(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:10)}function va(e,t,n){return 0===fa(e,t,n)}function ya(e){let{panelConstraints:t,panelIndex:n,size:r}=e;const i=t[n];ma(null!=i,"Panel constraints not found for index ".concat(n));let{collapsedSize:a=0,collapsible:s,maxSize:o=100,minSize:l=0}=i;if(fa(r,l)<0)if(s){r=fa(r,(a+l)/2)<0?a:l}else r=l;return r=Math.min(o,r),r=parseFloat(r.toFixed(10)),r}function ba(e){let{delta:t,initialLayout:n,panelConstraints:r,pivotIndices:i,prevLayout:a,trigger:s}=e;if(va(t,0))return n;const o=[...n],[l,c]=i;ma(null!=l,"Invalid first pivot index"),ma(null!=c,"Invalid second pivot index");let u=0;if("keyboard"===s){{const e=t<0?c:l,i=r[e];ma(i,"Panel constraints not found for index ".concat(e));const{collapsedSize:a=0,collapsible:s,minSize:o=0}=i;if(s){const r=n[e];if(ma(null!=r,"Previous layout not found for panel index ".concat(e)),va(r,a)){const e=o-r;fa(e,Math.abs(t))>0&&(t=t<0?0-e:e)}}}{const e=t<0?l:c,i=r[e];ma(i,"No panel constraints found for index ".concat(e));const{collapsedSize:a=0,collapsible:s,minSize:o=0}=i;if(s){const r=n[e];if(ma(null!=r,"Previous layout not found for panel index ".concat(e)),va(r,o)){const e=r-a;fa(e,Math.abs(t))>0&&(t=t<0?0-e:e)}}}}{const e=t<0?1:-1;let i=t<0?c:l,a=0;for(;;){const t=n[i];ma(null!=t,"Previous layout not found for panel index ".concat(i));if(a+=ya({panelConstraints:r,panelIndex:i,size:100})-t,i+=e,i<0||i>=r.length)break}const s=Math.min(Math.abs(t),Math.abs(a));t=t<0?0-s:s}{let e=t<0?l:c;for(;e>=0&&e<r.length;){const i=Math.abs(t)-Math.abs(u),a=n[e];ma(null!=a,"Previous layout not found for panel index ".concat(e));const s=ya({panelConstraints:r,panelIndex:e,size:a-i});if(!va(a,s)&&(u+=a-s,o[e]=s,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?e--:e++}}if(function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!va(e[r],t[r],n))return!1;return!0}(a,o))return a;{const e=t<0?c:l,i=n[e];ma(null!=i,"Previous layout not found for panel index ".concat(e));const a=i+u,s=ya({panelConstraints:r,panelIndex:e,size:a});if(o[e]=s,!va(s,a)){let e=a-s;let n=t<0?c:l;for(;n>=0&&n<r.length;){const i=o[n];ma(null!=i,"Previous layout not found for panel index ".concat(n));const a=ya({panelConstraints:r,panelIndex:n,size:i+e});if(va(i,a)||(e-=a-i,o[n]=a),va(e,0))break;t>0?n--:n++}}}return va(o.reduce((e,t)=>t+e,0),100)?o:a}function wa(e){let{layout:t,panelsArray:n,pivotIndices:r}=e,i=0,a=100,s=0,o=0;const l=r[0];ma(null!=l,"No pivot index found"),n.forEach((e,t)=>{const{constraints:n}=e,{maxSize:r=100,minSize:c=0}=n;t===l?(i=c,a=r):(s+=c,o+=r)});return{valueMax:Math.min(a,100-s),valueMin:Math.max(i,100-o),valueNow:t[l]}}function xa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(t.querySelectorAll("[".concat($i,'][data-panel-group-id="').concat(e,'"]')))}function ka(e,t){const n=xa(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).findIndex(e=>e.getAttribute($i)===t);return null!==n&&void 0!==n?n:null}function _a(e,t,n){const r=ka(e,t,n);return null!=r?[r,r+1]:[-1,-1]}function Sa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(((n=t)instanceof HTMLElement||"object"===typeof n&&null!==n&&"tagName"in n&&"getAttribute"in n)&&t.dataset.panelGroupId==e)return t;var n;const r=t.querySelector('[data-panel-group][data-panel-group-id="'.concat(e,'"]'));return r||null}function ja(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector("[".concat($i,'="').concat(e,'"]'));return t||null}function Na(e){let{committedValuesRef:t,eagerValuesRef:n,groupId:r,layout:a,panelDataArray:s,panelGroupElement:o,setLayout:l}=e;(0,i.useRef)({didWarnAboutMissingResizeHandle:!1}),Xi(()=>{if(!o)return;const e=xa(r,o);for(let t=0;t<s.length-1;t++){const{valueMax:n,valueMin:r,valueNow:i}=wa({layout:a,panelsArray:s,pivotIndices:[t,t+1]}),o=e[t];if(null==o);else{const e=s[t];ma(e,'No panel data found for index "'.concat(t,'"')),o.setAttribute("aria-controls",e.id),o.setAttribute("aria-valuemax",""+Math.round(n)),o.setAttribute("aria-valuemin",""+Math.round(r)),o.setAttribute("aria-valuenow",null!=i?""+Math.round(i):"")}}return()=>{e.forEach((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")})}},[r,a,s,o]),(0,i.useEffect)(()=>{if(!o)return;const e=n.current;ma(e,"Eager values not found");const{panelDataArray:t}=e;ma(null!=Sa(r,o),'No group found for id "'.concat(r,'"'));const i=xa(r,o);ma(i,'No resize handles found for group id "'.concat(r,'"'));const s=i.map(e=>{const n=e.getAttribute($i);ma(n,"Resize handle element has no handle id attribute");const[i,s]=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document;var i,a,s,o;const l=ja(t,r),c=xa(e,r),u=l?c.indexOf(l):-1;return[null!==(i=null===(a=n[u])||void 0===a?void 0:a.id)&&void 0!==i?i:null,null!==(s=null===(o=n[u+1])||void 0===o?void 0:o.id)&&void 0!==s?s:null]}(r,n,t,o);if(null==i||null==s)return()=>{};const c=e=>{if(!e.defaultPrevented)switch(e.key){case"Enter":{e.preventDefault();const s=t.findIndex(e=>e.id===i);if(s>=0){const e=t[s];ma(e,"No panel data found for index ".concat(s));const i=a[s],{collapsedSize:c=0,collapsible:u,minSize:d=0}=e.constraints;if(null!=i&&u){const e=ba({delta:va(i,c)?d-c:c-i,initialLayout:a,panelConstraints:t.map(e=>e.constraints),pivotIndices:_a(r,n,o),prevLayout:a,trigger:"keyboard"});a!==e&&l(e)}}break}}};return e.addEventListener("keydown",c),()=>{e.removeEventListener("keydown",c)}});return()=>{s.forEach(e=>e())}},[o,t,n,r,a,s,l])}function Ea(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ca(e,t){const n="horizontal"===e,{x:r,y:i}=oa(t);return n?r:i}function Pa(e,t,n,r,i,a){if(ia(e)){const t="horizontal"===n;let r=0;r=e.shiftKey?100:null!=i?i:10;let a=0;switch(e.key){case"ArrowDown":a=t?0:r;break;case"ArrowLeft":a=t?-r:0;break;case"ArrowRight":a=t?r:0;break;case"ArrowUp":a=t?0:-r;break;case"End":a=100;break;case"Home":a=-100}return a}return null==r?0:function(e,t,n,r,i){const a="horizontal"===n,s=ja(t,i);ma(s,'No resize handle element found for id "'.concat(t,'"'));const o=s.getAttribute(Ji);ma(o,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=Ca(n,e),u=Sa(o,i);ma(u,'No group element found for id "'.concat(o,'"'));const d=u.getBoundingClientRect();return(c-l)/(a?d.width:d.height)*100}(e,t,n,r,a)}function Ta(e,t,n){t.forEach((t,r)=>{const i=e[r];ma(i,"Panel data not found for index ".concat(r));const{callbacks:a,constraints:s,id:o}=i,{collapsedSize:l=0,collapsible:c}=s,u=n[o];if(null==u||t!==u){n[o]=t;const{onCollapse:e,onExpand:r,onResize:i}=a;i&&i(t,u),c&&(e||r)&&(!r||null!=u&&!ga(u,l)||ga(t,l)||r(),!e||null!=u&&ga(u,l)||!ga(t,l)||e())}})}function Ia(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Oa(e){try{if("undefined"===typeof localStorage)throw new Error("localStorage not supported in this environment");e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)}}catch(lc){console.error(lc),e.getItem=()=>null,e.setItem=()=>{}}}function Aa(e){return"react-resizable-panels:".concat(e)}function Ra(e){return e.map(e=>{const{constraints:t,id:n,idIsFromProps:r,order:i}=e;return r?n:i?"".concat(i,":").concat(JSON.stringify(t)):JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function za(e,t){try{const n=Aa(e),r=t.getItem(n);if(r){const e=JSON.parse(r);if("object"===typeof e&&null!=e)return e}}catch(lc){}return null}function Ma(e,t,n,r,i){var a;const s=Aa(e),o=Ra(t),l=null!==(a=za(e,i))&&void 0!==a?a:{};l[o]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(s,JSON.stringify(l))}catch(lc){console.error(lc)}}function La(e){let{layout:t,panelConstraints:n}=e;const r=[...t],i=r.reduce((e,t)=>e+t,0);if(r.length!==n.length)throw Error("Invalid ".concat(n.length," panel layout: ").concat(r.map(e=>"".concat(e,"%")).join(", ")));if(!va(i,100)&&r.length>0)for(let s=0;s<n.length;s++){const e=r[s];ma(null!=e,"No layout data found for index ".concat(s));const t=100/i*e;r[s]=t}let a=0;for(let s=0;s<n.length;s++){const e=r[s];ma(null!=e,"No layout data found for index ".concat(s));const t=ya({panelConstraints:n,panelIndex:s,size:e});e!=t&&(a+=e-t,r[s]=t)}if(!va(a,0))for(let s=0;s<n.length;s++){const e=r[s];ma(null!=e,"No layout data found for index ".concat(s));const t=ya({panelConstraints:n,panelIndex:s,size:e+a});if(e!==t&&(a-=t-e,r[s]=t,va(a,0)))break}return r}const Da={getItem:e=>(Oa(Da),Da.getItem(e)),setItem:(e,t)=>{Oa(Da),Da.setItem(e,t)}},Fa={};function Ua(e){let{autoSaveId:t=null,children:n,className:r="",direction:a,forwardedRef:s,id:l=null,onLayout:c=null,keyboardResizeBy:u=null,storage:d=Da,style:p,tagName:m="div"}=e,f=o(e,Bi);const g=ta(l),v=(0,i.useRef)(null),[y,b]=(0,i.useState)(null),[w,x]=(0,i.useState)([]),k=function(){const[e,t]=(0,i.useState)(0);return(0,i.useCallback)(()=>t(e=>e+1),[])}(),_=(0,i.useRef)({}),S=(0,i.useRef)(new Map),j=(0,i.useRef)(0),N=(0,i.useRef)({autoSaveId:t,direction:a,dragState:y,id:g,keyboardResizeBy:u,onLayout:c,storage:d}),E=(0,i.useRef)({layout:w,panelDataArray:[],panelDataArrayChanged:!1});(0,i.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,i.useImperativeHandle)(s,()=>({getId:()=>N.current.id,getLayout:()=>{const{layout:e}=E.current;return e},setLayout:e=>{const{onLayout:t}=N.current,{layout:n,panelDataArray:r}=E.current,i=La({layout:e,panelConstraints:r.map(e=>e.constraints)});Ea(n,i)||(x(i),E.current.layout=i,t&&t(i),Ta(r,i,_.current))}}),[]),Xi(()=>{N.current.autoSaveId=t,N.current.direction=a,N.current.dragState=y,N.current.id=g,N.current.onLayout=c,N.current.storage=d}),Na({committedValuesRef:N,eagerValuesRef:E,groupId:g,layout:w,panelDataArray:E.current.panelDataArray,setLayout:x,panelGroupElement:v.current}),(0,i.useEffect)(()=>{const{panelDataArray:e}=E.current;if(t){if(0===w.length||w.length!==e.length)return;let n=Fa[t];null==n&&(n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];null!==n&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}(Ma,100),Fa[t]=n);const r=[...e],i=new Map(S.current);n(t,r,i,w,d)}},[t,w,d]),(0,i.useEffect)(()=>{});const C=(0,i.useCallback)(e=>{const{onLayout:t}=N.current,{layout:n,panelDataArray:r}=E.current;if(e.constraints.collapsible){const i=r.map(e=>e.constraints),{collapsedSize:a=0,panelSize:s,pivotIndices:o}=Wa(r,e,n);if(ma(null!=s,'Panel size not found for panel "'.concat(e.id,'"')),!ga(s,a)){S.current.set(e.id,s);const l=ba({delta:qa(r,e)===r.length-1?s-a:a-s,initialLayout:n,panelConstraints:i,pivotIndices:o,prevLayout:n,trigger:"imperative-api"});Ia(n,l)||(x(l),E.current.layout=l,t&&t(l),Ta(r,l,_.current))}}},[]),P=(0,i.useCallback)((e,t)=>{const{onLayout:n}=N.current,{layout:r,panelDataArray:i}=E.current;if(e.constraints.collapsible){const a=i.map(e=>e.constraints),{collapsedSize:s=0,panelSize:o=0,minSize:l=0,pivotIndices:c}=Wa(i,e,r),u=null!==t&&void 0!==t?t:l;if(ga(o,s)){const t=S.current.get(e.id),s=null!=t&&t>=u?t:u,l=ba({delta:qa(i,e)===i.length-1?o-s:s-o,initialLayout:r,panelConstraints:a,pivotIndices:c,prevLayout:r,trigger:"imperative-api"});Ia(r,l)||(x(l),E.current.layout=l,n&&n(l),Ta(i,l,_.current))}}},[]),T=(0,i.useCallback)(e=>{const{layout:t,panelDataArray:n}=E.current,{panelSize:r}=Wa(n,e,t);return ma(null!=r,'Panel size not found for panel "'.concat(e.id,'"')),r},[]),I=(0,i.useCallback)((e,t)=>{const{panelDataArray:n}=E.current,r=qa(n,e);return function(e){let{defaultSize:t,dragState:n,layout:r,panelData:i,panelIndex:a,precision:s=3}=e;const o=r[a];let l;return l=null==o?void 0!=t?t.toPrecision(s):"1":1===i.length?"1":o.toPrecision(s),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:null!==n?"none":void 0}}({defaultSize:t,dragState:y,layout:w,panelData:n,panelIndex:r})},[y,w]),O=(0,i.useCallback)(e=>{const{layout:t,panelDataArray:n}=E.current,{collapsedSize:r=0,collapsible:i,panelSize:a}=Wa(n,e,t);return ma(null!=a,'Panel size not found for panel "'.concat(e.id,'"')),!0===i&&ga(a,r)},[]),A=(0,i.useCallback)(e=>{const{layout:t,panelDataArray:n}=E.current,{collapsedSize:r=0,collapsible:i,panelSize:a}=Wa(n,e,t);return ma(null!=a,'Panel size not found for panel "'.concat(e.id,'"')),!i||fa(a,r)>0},[]),R=(0,i.useCallback)(e=>{const{panelDataArray:t}=E.current;t.push(e),t.sort((e,t)=>{const n=e.order,r=t.order;return null==n&&null==r?0:null==n?-1:null==r?1:n-r}),E.current.panelDataArrayChanged=!0,k()},[k]);Xi(()=>{if(E.current.panelDataArrayChanged){E.current.panelDataArrayChanged=!1;const{autoSaveId:e,onLayout:t,storage:n}=N.current,{layout:r,panelDataArray:i}=E.current;let a=null;if(e){const t=function(e,t,n){var r,i;return null!==(i=(null!==(r=za(e,n))&&void 0!==r?r:{})[Ra(t)])&&void 0!==i?i:null}(e,i,n);t&&(S.current=new Map(Object.entries(t.expandToSizes)),a=t.layout)}null==a&&(a=function(e){let{panelDataArray:t}=e;const n=Array(t.length),r=t.map(e=>e.constraints);let i=0,a=100;for(let s=0;s<t.length;s++){const e=r[s];ma(e,"Panel constraints not found for index ".concat(s));const{defaultSize:t}=e;null!=t&&(i++,n[s]=t,a-=t)}for(let s=0;s<t.length;s++){const e=r[s];ma(e,"Panel constraints not found for index ".concat(s));const{defaultSize:o}=e;if(null!=o)continue;const l=a/(t.length-i);i++,n[s]=l,a-=l}return n}({panelDataArray:i}));const s=La({layout:a,panelConstraints:i.map(e=>e.constraints)});Ea(r,s)||(x(s),E.current.layout=s,t&&t(s),Ta(i,s,_.current))}}),Xi(()=>{const e=E.current;return()=>{e.layout=[]}},[]);const z=(0,i.useCallback)(e=>{let t=!1;const n=v.current;if(n){"rtl"===window.getComputedStyle(n,null).getPropertyValue("direction")&&(t=!0)}return function(n){n.preventDefault();const r=v.current;if(!r)return()=>null;const{direction:i,dragState:a,id:s,keyboardResizeBy:o,onLayout:l}=N.current,{layout:c,panelDataArray:u}=E.current,{initialLayout:d}=null!==a&&void 0!==a?a:{},h=_a(s,e,r);let p=Pa(n,e,i,a,o,r);const m="horizontal"===i;m&&t&&(p=-p);const f=ba({delta:p,initialLayout:null!==d&&void 0!==d?d:c,panelConstraints:u.map(e=>e.constraints),pivotIndices:h,prevLayout:c,trigger:ia(n)?"keyboard":"mouse-or-touch"}),g=!Ia(c,f);(aa(n)||sa(n))&&j.current!=p&&(j.current=p,pa(e,g||0===p?0:m?p<0?la:ca:p<0?ua:da)),g&&(x(f),E.current.layout=f,l&&l(f),Ta(u,f,_.current))}},[]),M=(0,i.useCallback)((e,t)=>{const{onLayout:n}=N.current,{layout:r,panelDataArray:i}=E.current,a=i.map(e=>e.constraints),{panelSize:s,pivotIndices:o}=Wa(i,e,r);ma(null!=s,'Panel size not found for panel "'.concat(e.id,'"'));const l=ba({delta:qa(i,e)===i.length-1?s-t:t-s,initialLayout:r,panelConstraints:a,pivotIndices:o,prevLayout:r,trigger:"imperative-api"});Ia(r,l)||(x(l),E.current.layout=l,n&&n(l),Ta(i,l,_.current))},[]),L=(0,i.useCallback)((e,t)=>{const{layout:n,panelDataArray:r}=E.current,{collapsedSize:i=0,collapsible:a}=t,{collapsedSize:s=0,collapsible:o,maxSize:l=100,minSize:c=0}=e.constraints,{panelSize:u}=Wa(r,e,n);null!=u&&(a&&o&&ga(u,i)?ga(i,s)||M(e,s):u<c?M(e,c):u>l&&M(e,l))},[M]),D=(0,i.useCallback)((e,t)=>{const{direction:n}=N.current,{layout:r}=E.current;if(!v.current)return;const i=ja(e,v.current);ma(i,'Drag handle element not found for id "'.concat(e,'"'));const a=Ca(n,t);b({dragHandleId:e,dragHandleRect:i.getBoundingClientRect(),initialCursorPosition:a,initialLayout:r})},[]),F=(0,i.useCallback)(()=>{b(null)},[]),U=(0,i.useCallback)(e=>{const{panelDataArray:t}=E.current,n=qa(t,e);n>=0&&(t.splice(n,1),delete _.current[e.id],E.current.panelDataArrayChanged=!0,k())},[k]),B=(0,i.useMemo)(()=>({collapsePanel:C,direction:a,dragState:y,expandPanel:P,getPanelSize:T,getPanelStyle:I,groupId:g,isPanelCollapsed:O,isPanelExpanded:A,reevaluatePanelConstraints:L,registerPanel:R,registerResizeHandle:z,resizePanel:M,startDragging:D,stopDragging:F,unregisterPanel:U,panelGroupElement:v.current}),[C,y,a,P,T,I,g,O,A,L,R,z,M,D,F,U]),q={display:"flex",flexDirection:"horizontal"===a?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return(0,i.createElement)(qi.Provider,{value:B},(0,i.createElement)(m,h(h({},f),{},{children:n,className:r,id:l,ref:v,style:h(h({},q),p),[Wi]:"",[Hi]:a,[Ji]:g})))}const Ba=(0,i.forwardRef)((e,t)=>(0,i.createElement)(Ua,h(h({},e),{},{forwardedRef:t})));function qa(e,t){return e.findIndex(e=>e===t||e.id===t.id)}function Wa(e,t,n){const r=qa(e,t),i=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return h(h({},t.constraints),{},{panelSize:a,pivotIndices:i})}Ua.displayName="PanelGroup",Ba.displayName="forwardRef(PanelGroup)";new class{constructor(){this.supabase=Si,console.log("\u2705 Supabase API Service initialized"),console.log("\ud83d\ude80 Using Supabase for ALL backend operations")}async getSession(){const{data:{session:e}}=await this.supabase.auth.getSession();return e}async callEdgeFunction(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("Calling Edge Function: ".concat(e),t);const{data:n,error:r}=await this.supabase.functions.invoke(e,{body:t});if(r)throw console.error("Edge Function error (".concat(e,"):"),r),r;return n}catch(lc){throw console.error("Failed to call Edge Function ".concat(e,":"),lc),lc}}async dbQuery(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.supabase.from(e);switch(t){case"select":r=r.select(n.columns||"*"),n.filter&&(r=r.match(n.filter)),n.limit&&(r=r.limit(n.limit)),n.orderBy&&(r=r.order(n.orderBy.column,{ascending:n.orderBy.ascending}));break;case"insert":r=r.insert(n.data);break;case"update":r=r.update(n.data),n.filter&&(r=r.match(n.filter));break;case"delete":r=r.delete(),n.filter&&(r=r.match(n.filter))}const{data:i,error:a}=await r;if(a)throw console.error("Database error (".concat(e,"/").concat(t,"):"),a),a;return i}async login(e,t){const{data:n,error:r}=await this.supabase.auth.signInWithPassword({email:e,password:t});if(r)throw r;return n}async signup(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{data:r,error:i}=await this.supabase.auth.signUp({email:e,password:t,options:{data:n}});if(i)throw i;return r}async logout(){const{error:e}=await this.supabase.auth.signOut();if(e)throw e}async getOrganizations(){return this.dbQuery("organizations","select")}async createOrganization(e){return this.dbQuery("organizations","insert",{data:e})}async updateOrganization(e,t){return this.dbQuery("organizations","update",{data:t,filter:{id:e}})}async getProjects(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?{filter:{organization_id:e}}:{};return this.dbQuery("projects","select",t)}async createProject(e){return this.dbQuery("projects","insert",{data:e})}async getIntelligenceFindings(e){return this.callEdgeFunction("monitor-intelligence",{action:"getFindings",organizationId:e})}async startMonitoring(e,t){return this.callEdgeFunction("monitor-intelligence",{action:"startMonitoring",organizationId:e,sources:t})}async stopMonitoring(e){return this.callEdgeFunction("monitor-intelligence",{action:"stopMonitoring",organizationId:e})}async sendClaudeMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callEdgeFunction("claude-chat",{prompt:e,system:t.systemPrompt,model:t.model||"claude-sonnet-4-20250514",max_tokens:t.max_tokens||1e3,temperature:t.temperature||.7})}async generateContent(e,t){const n="Generate ".concat(e," content with the following parameters:\nType: ").concat(e,"\n").concat(t.prompt||"","\nCompany: ").concat(t.companyName||"the company","\nIndustry: ").concat(t.industry||"technology","\nTone: ").concat(t.tone||"professional","\n").concat(t.context?"Additional context: ".concat(JSON.stringify(t.context)):"");return this.callEdgeFunction("claude-chat",{prompt:n,system:"You are Niv, an experienced PR strategist with 20 years of expertise. Generate high-quality PR content that is strategic, compelling, and tailored to the target audience.",model:t.model||"claude-sonnet-4-20250514",max_tokens:t.max_tokens||2e3,temperature:t.temperature||.7})}async analyzeOpportunity(e){const t="Analyze this PR opportunity and provide strategic recommendations:\n".concat(JSON.stringify(e,null,2),"\n\nProvide analysis including:\n1. Strategic value (1-10)\n2. Timing recommendations\n3. Key angles to pursue\n4. Potential risks\n5. Action steps");return this.callEdgeFunction("claude-chat",{prompt:t,system:"You are Niv, a senior PR strategist. Analyze opportunities with deep strategic insight.",model:"claude-sonnet-4-20250514",max_tokens:1500})}async callNivChat(e){var t;let{message:n,messages:r=[],context:i={},mode:a="strategic_orchestration",conversationId:s=null}=e;console.log("\ud83d\udd0d [supabaseApiService] Calling Niv Backend Orchestrator:",{message:n,messagesCount:r.length,context:i,mode:a,conversationId:s});const o=await this.getSession(),l=null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.id,c=s||"session-".concat(Date.now()),u=i.organizationId||null;try{const e="https://backend-orchestrator.vercel.app",t=await fetch("".concat(e,"/api/niv-multimode"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n,messages:r,sessionId:c,userId:l,organizationId:u,mode:a})});if(!t.ok)throw new Error("Backend responded with ".concat(t.status));const i=await t.json();return console.log("\u2705 [supabaseApiService] Backend Orchestrator response:",{hasResponse:!(null===i||void 0===i||!i.response),shouldSave:null===i||void 0===i?void 0:i.shouldSave,artifactCreated:!(null===i||void 0===i||!i.artifact),mcpsTriggered:(null===i||void 0===i?void 0:i.mcpsTriggered)||[],conversationId:c}),{response:i.response,message:i.message||i.response,chatMessage:i.chatMessage||i.response,shouldSave:i.shouldSave||!1,conversationId:c,workItems:i.workItems||[],artifacts:i.artifacts||[],scope:i.scope,metadata:i.metadata,mcpsTriggered:i.mcpsTriggered,mcpInsights:i.mcpInsights}}catch(lc){return console.error("Failed to call backend orchestrator:",lc),{response:"I understand you need help with: ".concat(n,". As your AI PR strategist, I can assist with press releases, media strategies, and campaign planning."),message:"Niv is ready to help!",chatMessage:"How can I assist with your PR needs today?",shouldSave:!1,conversationId:c}}}async loadNivConversation(e){try{const{data:t,error:n}=await this.supabase.from("niv_conversations").select("\n          *,\n          niv_conversation_messages (\n            id, role, content, message_type, metadata, created_at\n          ),\n          niv_work_items (\n            id, title, description, work_item_type, generated_content, \n            status, metadata, created_at, updated_at\n          ),\n          niv_strategic_context (\n            context_type, extracted_data, confidence_score, validated\n          )\n        ").eq("id",e).single();if(n)throw console.error("Error loading conversation:",n),n;return{conversation:t,messages:t.niv_conversation_messages||[],workItems:t.niv_work_items||[],strategicContext:t.niv_strategic_context||[]}}catch(lc){throw console.error("Failed to load conversation:",lc),lc}}async getRecentNivConversations(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;try{var t;const n=await this.getSession();if(null===n||void 0===n||null===(t=n.user)||void 0===t||!t.id)throw new Error("User not authenticated");const{data:r,error:i}=await this.supabase.from("niv_conversations").select("\n          id, title, description, conversation_phase, status,\n          created_at, updated_at, last_message_at,\n          niv_conversation_messages (count),\n          niv_work_items (count)\n        ").eq("user_id",n.user.id).order("last_message_at",{ascending:!1}).limit(e);if(i)throw console.error("Error fetching recent conversations:",i),i;return r||[]}catch(lc){throw console.error("Failed to get recent conversations:",lc),lc}}async searchNivConversations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n;const r=await this.getSession();if(null===r||void 0===r||null===(n=r.user)||void 0===n||!n.id)throw new Error("User not authenticated");let i=this.supabase.from("niv_conversations").select("\n          id, title, description, conversation_phase, status,\n          created_at, updated_at, last_message_at,\n          niv_conversation_messages (\n            id, content, created_at\n          ),\n          niv_work_items (\n            id, title, work_item_type\n          )\n        ").eq("user_id",r.user.id);e&&(i=i.or("title.ilike.%".concat(e,"%,description.ilike.%").concat(e,"%"))),t.phase&&(i=i.eq("conversation_phase",t.phase)),t.status&&(i=i.eq("status",t.status)),t.dateFrom&&(i=i.gte("created_at",t.dateFrom)),t.dateTo&&(i=i.lte("created_at",t.dateTo));const{data:a,error:s}=await i.order("last_message_at",{ascending:!1}).limit(50);if(s)throw console.error("Error searching conversations:",s),s;return a||[]}catch(lc){throw console.error("Failed to search conversations:",lc),lc}}async updateNivConversation(e,t){try{const{data:n,error:r}=await this.supabase.from("niv_conversations").update(h(h({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(r)throw console.error("Error updating conversation:",r),r;return n}catch(lc){throw console.error("Failed to update conversation:",lc),lc}}async deleteNivConversation(e){try{const{error:t}=await this.supabase.from("niv_conversations").delete().eq("id",e);if(t)throw console.error("Error deleting conversation:",t),t;return!0}catch(lc){throw console.error("Failed to delete conversation:",lc),lc}}async updateNivWorkItem(e,t){try{const{data:n,error:r}=await this.supabase.from("niv_work_items").update(h(h({},t),{},{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(r)throw console.error("Error updating work item:",r),r;return n}catch(lc){throw console.error("Failed to update work item:",lc),lc}}async createWorkItemRevision(e,t){try{var n;const r=await this.getSession(),{data:i,error:a}=await this.supabase.from("niv_work_item_revisions").insert(h({work_item_id:e,user_id:null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.id},t)).select().single();if(a)throw console.error("Error creating work item revision:",a),a;return i}catch(lc){throw console.error("Failed to create work item revision:",lc),lc}}async getWorkItemRevisions(e){try{const{data:t,error:n}=await this.supabase.from("niv_work_item_revisions").select("*").eq("work_item_id",e).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching work item revisions:",n),n;return t||[]}catch(lc){throw console.error("Failed to get work item revisions:",lc),lc}}async getNivUserPreferences(){try{var e;const t=await this.getSession();if(null===t||void 0===t||null===(e=t.user)||void 0===e||!e.id)throw new Error("User not authenticated");const{data:n,error:r}=await this.supabase.from("niv_user_preferences").select("*").eq("user_id",t.user.id).single();if(r&&"PGRST116"!==r.code)throw console.error("Error fetching user preferences:",r),r;return n||null}catch(lc){throw console.error("Failed to get user preferences:",lc),lc}}async updateNivUserPreferences(e){try{var t;const n=await this.getSession();if(null===n||void 0===n||null===(t=n.user)||void 0===t||!t.id)throw new Error("User not authenticated");const{data:r,error:i}=await this.supabase.from("niv_user_preferences").upsert(h(h({user_id:n.user.id},e),{},{updated_at:(new Date).toISOString()})).select().single();if(i)throw console.error("Error updating user preferences:",i),i;return r}catch(lc){throw console.error("Failed to update user preferences:",lc),lc}}async saveNivConversationAnalytics(e,t){try{var n;const r=await this.getSession(),{data:i,error:a}=await this.supabase.from("niv_conversation_analytics").upsert(h(h({conversation_id:e,user_id:null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.id},t),{},{created_at:(new Date).toISOString()})).select().single();if(a)throw console.error("Error saving conversation analytics:",a),a;return i}catch(lc){throw console.error("Failed to save conversation analytics:",lc),lc}}async getNivUserAnalytics(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"30d";try{var t;const n=await this.getSession();if(null===n||void 0===n||null===(t=n.user)||void 0===t||!t.id)throw new Error("User not authenticated");const r=parseInt(e.replace("d","")),i=new Date;i.setDate(i.getDate()-r);const{data:a,error:s}=await this.supabase.from("niv_conversation_analytics").select("*").eq("user_id",n.user.id).gte("created_at",i.toISOString()).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching user analytics:",s),s;return a||[]}catch(lc){throw console.error("Failed to get user analytics:",lc),lc}}async getOrganizationNivContext(e){try{const{data:t,error:n}=await this.supabase.from("niv_organization_context").select("*").eq("organization_id",e).single();if(n&&"PGRST116"!==n.code)throw console.error("Error fetching organization context:",n),n;return t||null}catch(lc){throw console.error("Failed to get organization context:",lc),lc}}async updateOrganizationNivContext(e,t){try{const{data:n,error:r}=await this.supabase.from("niv_organization_context").upsert(h(h({organization_id:e},t),{},{updated_at:(new Date).toISOString()})).select().single();if(r)throw console.error("Error updating organization context:",r),r;return n}catch(lc){throw console.error("Failed to update organization context:",lc),lc}}async callNivChatLegacy(e){let{message:t,context:n={},mode:r="chat",sessionId:i=null}=e;return this.callEdgeFunction("niv-chat",{message:t,context:n,mode:r,conversationId:i})}async analyzeCampaign(e){const t="Analyze this PR campaign and provide strategic guidance:\n".concat(JSON.stringify(e,null,2),"\n\nProvide comprehensive campaign analysis including messaging, targeting, and execution strategy.");return this.callEdgeFunction("claude-chat",{prompt:t,system:"You are Niv, an expert PR strategist with 20 years of experience running successful campaigns.",model:"claude-sonnet-4-20250514",max_tokens:2e3})}async analyzeCrisis(e){const t="URGENT: Analyze this crisis situation and provide immediate strategic guidance:\n".concat(JSON.stringify(e,null,2),"\n\nProvide crisis response plan including:\n1. Immediate actions (first hour)\n2. Key stakeholders to address\n3. Core messaging framework\n4. Media response strategy\n5. Timeline for updates");return this.callEdgeFunction("claude-chat",{prompt:t,system:"You are Niv, a crisis management expert. Time is critical. Be direct, strategic, and action-oriented.",model:"claude-sonnet-4-20250514",max_tokens:2e3,temperature:.3})}subscribeToFindings(e,t){return this.supabase.channel("findings:".concat(e)).on("postgres_changes",{event:"*",schema:"public",table:"intelligence_findings",filter:"organization_id=eq.".concat(e)},t).subscribe()}subscribeToOpportunities(e,t){return this.supabase.channel("opportunities:".concat(e)).on("postgres_changes",{event:"*",schema:"public",table:"opportunity_queue",filter:"organization_id=eq.".concat(e)},t).subscribe()}async uploadFile(e,t,n){const{data:r,error:i}=await this.supabase.storage.from(e).upload(t,n);if(i)throw i;return r}async getFileUrl(e,t){const{data:n}=this.supabase.storage.from(e).getPublicUrl(t);return n.publicUrl}};function Ha(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ja}=Object.prototype,{getPrototypeOf:Va}=Object,{iterator:Ga,toStringTag:Ka}=Symbol,Ya=($a=Object.create(null),e=>{const t=Ja.call(e);return $a[t]||($a[t]=t.slice(8,-1).toLowerCase())});var $a;const Xa=e=>(e=e.toLowerCase(),t=>Ya(t)===e),Qa=e=>t=>typeof t===e,{isArray:Za}=Array,es=Qa("undefined");function ts(e){return null!==e&&!es(e)&&null!==e.constructor&&!es(e.constructor)&&is(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ns=Xa("ArrayBuffer");const rs=Qa("string"),is=Qa("function"),as=Qa("number"),ss=e=>null!==e&&"object"===typeof e,os=e=>{if("object"!==Ya(e))return!1;const t=Va(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ka in e)&&!(Ga in e)},ls=Xa("Date"),cs=Xa("File"),us=Xa("Blob"),ds=Xa("FileList"),hs=Xa("URLSearchParams"),[ps,ms,fs,gs]=["ReadableStream","Request","Response","Headers"].map(Xa);function vs(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Za(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(ts(e))return;const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}function ys(e,t){if(ts(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const bs="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ws=e=>!es(e)&&e!==bs;const xs=(ks="undefined"!==typeof Uint8Array&&Va(Uint8Array),e=>ks&&e instanceof ks);var ks;const _s=Xa("HTMLFormElement"),Ss=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),js=Xa("RegExp"),Ns=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};vs(n,(n,i)=>{let a;!1!==(a=t(n,i,e))&&(r[i]=a||n)}),Object.defineProperties(e,r)};const Es=Xa("AsyncFunction"),Cs=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],bs.addEventListener("message",e=>{let{source:t,data:i}=e;t===bs&&i===n&&r.length&&r.shift()()},!1),e=>{r.push(e),bs.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,is(bs.postMessage)),Ps="undefined"!==typeof queueMicrotask?queueMicrotask.bind(bs):"undefined"!==typeof process&&process.nextTick||Cs,Ts={isArray:Za,isArrayBuffer:ns,isBuffer:ts,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||is(e.append)&&("formdata"===(t=Ya(e))||"object"===t&&is(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ns(e.buffer),t},isString:rs,isNumber:as,isBoolean:e=>!0===e||!1===e,isObject:ss,isPlainObject:os,isEmptyObject:e=>{if(!ss(e)||ts(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(oc){return!1}},isReadableStream:ps,isRequest:ms,isResponse:fs,isHeaders:gs,isUndefined:es,isDate:ls,isFile:cs,isBlob:us,isRegExp:js,isFunction:is,isStream:e=>ss(e)&&is(e.pipe),isURLSearchParams:hs,isTypedArray:xs,isFileList:ds,forEach:vs,merge:function e(){const{caseless:t}=ws(this)&&this||{},n={},r=(r,i)=>{const a=t&&ys(n,i)||i;os(n[a])&&os(r)?n[a]=e(n[a],r):os(r)?n[a]=e({},r):Za(r)?n[a]=r.slice():n[a]=r};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&vs(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return vs(t,(t,r)=>{n&&is(t)?e[r]=Ha(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],r&&!r(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&Va(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ya,kindOfTest:Xa,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Za(e))return e;let t=e.length;if(!as(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ga]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:_s,hasOwnProperty:Ss,hasOwnProp:Ss,reduceDescriptors:Ns,freezeMethods:e=>{Ns(e,(t,n)=>{if(is(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];is(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Za(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ys,global:bs,isContextDefined:ws,isSpecCompliantForm:function(e){return!!(e&&is(e.append)&&"FormData"===e[Ka]&&e[Ga])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ss(e)){if(t.indexOf(e)>=0)return;if(ts(e))return e;if(!("toJSON"in e)){t[r]=e;const i=Za(e)?[]:{};return vs(e,(e,t)=>{const a=n(e,r+1);!es(a)&&(i[t]=a)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Es,isThenable:e=>e&&(ss(e)||is(e))&&is(e.then)&&is(e.catch),setImmediate:Cs,asap:Ps,isIterable:e=>null!=e&&is(e[Ga])};function Is(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ts.inherits(Is,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ts.toJSONObject(this.config),code:this.code,status:this.status}}});const Os=Is.prototype,As={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{As[e]={value:e}}),Object.defineProperties(Is,As),Object.defineProperty(Os,"isAxiosError",{value:!0}),Is.from=(e,t,n,r,i,a)=>{const s=Object.create(Os);return Ts.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Is.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const Rs=Is;function zs(e){return Ts.isPlainObject(e)||Ts.isArray(e)}function Ms(e){return Ts.endsWith(e,"[]")?e.slice(0,-2):e}function Ls(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ms(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Ds=Ts.toFlatObject(Ts,{},null,function(e){return/^is[A-Z]/.test(e)});const Fs=function(e,t,n){if(!Ts.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Ts.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Ts.isUndefined(t[e])})).metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ts.isSpecCompliantForm(t);if(!Ts.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ts.isDate(e))return e.toISOString();if(Ts.isBoolean(e))return e.toString();if(!o&&Ts.isBlob(e))throw new Rs("Blob is not supported. Use a Buffer instead.");return Ts.isArrayBuffer(e)||Ts.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"===typeof e)if(Ts.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ts.isArray(e)&&function(e){return Ts.isArray(e)&&!e.some(zs)}(e)||(Ts.isFileList(e)||Ts.endsWith(n,"[]"))&&(o=Ts.toArray(e)))return n=Ms(n),o.forEach(function(e,r){!Ts.isUndefined(e)&&null!==e&&t.append(!0===s?Ls([n],r,a):null===s?n:n+"[]",l(e))}),!1;return!!zs(e)||(t.append(Ls(i,n,a),l(e)),!1)}const u=[],d=Object.assign(Ds,{defaultVisitor:c,convertValue:l,isVisitable:zs});if(!Ts.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ts.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),Ts.forEach(n,function(n,a){!0===(!(Ts.isUndefined(n)||null===n)&&i.call(t,n,Ts.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),u.pop()}}(e),t};function Us(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Bs(e,t){this._pairs=[],e&&Fs(e,this,t)}const qs=Bs.prototype;qs.append=function(e,t){this._pairs.push([e,t])},qs.toString=function(e){const t=e?function(t){return e.call(this,t,Us)}:Us;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Ws=Bs;function Hs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Js(e,t,n){if(!t)return e;const r=n&&n.encode||Hs;Ts.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(t,n):Ts.isURLSearchParams(t)?t.toString():new Ws(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Vs=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ts.forEach(this.handlers,function(t){null!==t&&e(t)})}},Gs={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ks={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Ws,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ys="undefined"!==typeof window&&"undefined"!==typeof document,$s="object"===typeof navigator&&navigator||void 0,Xs=Ys&&(!$s||["ReactNative","NativeScript","NS"].indexOf($s.product)<0),Qs="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Zs=Ys&&window.location.href||"http://localhost",eo=h(h({},r),Ks);const to=function(e){function t(e,n,r,i){let a=e[i++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=i>=e.length;if(a=!a&&Ts.isArray(r)?r.length:a,o)return Ts.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s;r[a]&&Ts.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],i)&&Ts.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s}if(Ts.isFormData(e)&&Ts.isFunction(e.entries)){const n={};return Ts.forEachEntry(e,(e,r)=>{t(function(e){return Ts.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const no={transitional:Gs,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=Ts.isObject(e);i&&Ts.isHTMLForm(e)&&(e=new FormData(e));if(Ts.isFormData(e))return r?JSON.stringify(to(e)):e;if(Ts.isArrayBuffer(e)||Ts.isBuffer(e)||Ts.isStream(e)||Ts.isFile(e)||Ts.isBlob(e)||Ts.isReadableStream(e))return e;if(Ts.isArrayBufferView(e))return e.buffer;if(Ts.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Fs(e,new eo.classes.URLSearchParams,h({visitor:function(e,t,n,r){return eo.isNode&&Ts.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Ts.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Fs(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(Ts.isString(e))try{return(t||JSON.parse)(e),Ts.trim(e)}catch(oc){if("SyntaxError"!==oc.name)throw oc}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||no.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ts.isResponse(e)||Ts.isReadableStream(e))return e;if(e&&Ts.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(oc){if(n){if("SyntaxError"===oc.name)throw Rs.from(oc,Rs.ERR_BAD_RESPONSE,this,null,this.response);throw oc}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:eo.classes.FormData,Blob:eo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ts.forEach(["delete","get","head","post","put","patch"],e=>{no.headers[e]={}});const ro=no,io=Ts.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ao=Symbol("internals");function so(e){return e&&String(e).trim().toLowerCase()}function oo(e){return!1===e||null==e?e:Ts.isArray(e)?e.map(oo):String(e)}function lo(e,t,n,r,i){return Ts.isFunction(r)?r.call(this,t,n):(i&&(t=n),Ts.isString(t)?Ts.isString(r)?-1!==t.indexOf(r):Ts.isRegExp(r)?r.test(t):void 0:void 0)}class co{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=so(t);if(!i)throw new Error("header name must be a non-empty string");const a=Ts.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=oo(e))}const a=(e,t)=>Ts.forEach(e,(e,n)=>i(e,n,t));if(Ts.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Ts.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&io[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(Ts.isObject(e)&&Ts.isIterable(e)){let n,r,i={};for(const t of e){if(!Ts.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?Ts.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=so(e)){const n=Ts.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Ts.isFunction(t))return t.call(this,e,n);if(Ts.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=so(e)){const n=Ts.findKey(this,e);return!(!n||void 0===this[n]||t&&!lo(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=so(e)){const i=Ts.findKey(n,e);!i||t&&!lo(0,n[i],i,t)||(delete n[i],r=!0)}}return Ts.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!lo(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return Ts.forEach(this,(r,i)=>{const a=Ts.findKey(n,i);if(a)return t[a]=oo(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(i):String(i).trim();s!==i&&delete t[i],t[s]=oo(r),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Ts.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Ts.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[ao]=this[ao]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=so(e);t[r]||(!function(e,t){const n=Ts.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})})}(n,e),t[r]=!0)}return Ts.isArray(e)?e.forEach(r):r(e),this}}co.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ts.reduceDescriptors(co.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),Ts.freezeMethods(co);const uo=co;function ho(e,t){const n=this||ro,r=t||n,i=uo.from(r.headers);let a=r.data;return Ts.forEach(e,function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function po(e){return!(!e||!e.__CANCEL__)}function mo(e,t,n){Rs.call(this,null==e?"canceled":e,Rs.ERR_CANCELED,t,n),this.name="CanceledError"}Ts.inherits(mo,Rs,{__CANCEL__:!0});const fo=mo;function go(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Rs("Request failed with status code "+n.status,[Rs.ERR_BAD_REQUEST,Rs.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const vo=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];i||(i=l),n[a]=o,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const yo=function(e,t){let n,r,i=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-i;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?s(l,e):(n=l,r||(r=setTimeout(()=>{r=null,s(n)},a-t)))},()=>n&&s(n)]},bo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=vo(50,250);return yo(n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-r,l=i(o);r=a;e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},wo=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},xo=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ts.asap(()=>e(...n))},ko=eo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,eo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(eo.origin),eo.navigator&&/(msie|trident)/i.test(eo.navigator.userAgent)):()=>!0,_o=eo.hasStandardBrowserEnv?{write(e,t,n,r,i,a){const s=[e+"="+encodeURIComponent(t)];Ts.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ts.isString(r)&&s.push("path="+r),Ts.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function So(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jo=e=>e instanceof uo?h({},e):e;function No(e,t){t=t||{};const n={};function r(e,t,n,r){return Ts.isPlainObject(e)&&Ts.isPlainObject(t)?Ts.merge.call({caseless:r},e,t):Ts.isPlainObject(t)?Ts.merge({},t):Ts.isArray(t)?t.slice():t}function i(e,t,n,i){return Ts.isUndefined(t)?Ts.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function a(e,t){if(!Ts.isUndefined(t))return r(void 0,t)}function s(e,t){return Ts.isUndefined(t)?Ts.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>i(jo(e),jo(t),0,!0)};return Ts.forEach(Object.keys(h(h({},e),t)),function(r){const a=l[r]||i,s=a(e[r],t[r],r);Ts.isUndefined(s)&&a!==o||(n[r]=s)}),n}const Eo=e=>{const t=No({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=uo.from(o),t.url=Js(So(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Ts.isFormData(r))if(eo.hasStandardBrowserEnv||eo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(eo.hasStandardBrowserEnv&&(i&&Ts.isFunction(i)&&(i=i(t)),i||!1!==i&&ko(t.url))){const e=a&&s&&_o.read(s);e&&o.set(a,e)}return t},Co="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Eo(e);let i=r.data;const a=uo.from(r.headers).normalize();let s,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=r;function m(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const r=uo.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());go(function(e){t(e),m()},function(e){n(e),m()},{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Rs("Request aborted",Rs.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Rs("Network Error",Rs.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Gs;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Rs(t,i.clarifyTimeoutError?Rs.ETIMEDOUT:Rs.ECONNABORTED,e,f)),f=null},void 0===i&&a.setContentType(null),"setRequestHeader"in f&&Ts.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),Ts.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),d&&"json"!==d&&(f.responseType=r.responseType),p&&([l,u]=bo(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=bo(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{f&&(n(!t||t.type?new fo(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===eo.protocols.indexOf(v)?n(new Rs("Unsupported protocol "+v+":",Rs.ERR_BAD_REQUEST,e)):f.send(i||null)})},Po=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Rs?t:new fo(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,i(new Rs("timeout ".concat(t," of ms exceeded"),Rs.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)}),e=null)};e.forEach(e=>e.addEventListener("abort",i));const{signal:o}=r;return o.unsubscribe=()=>Ts.asap(s),o}};function To(e,t){this.v=e,this.k=t}function Io(e){return function(){return new Oo(e.apply(this,arguments))}}function Oo(e){var t,n;function r(t,n){try{var a=e[t](n),s=a.value,o=s instanceof To;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}i(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise(function(a,s){var o={key:e,arg:i,resolve:a,reject:s,next:null};n?n=n.next=o:(t=n=o,r(e,i))})},"function"!=typeof e.return&&(this.return=void 0)}function Ao(e){return new To(e,0)}function Ro(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new To(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function zo(e){var t,n,r,i=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Mo(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Mo(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Mo=function(e){this.s=e,this.n=e.next},Mo.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Mo(e)}Oo.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Oo.prototype.next=function(e){return this._invoke("next",e)},Oo.prototype.throw=function(e){return this._invoke("throw",e)},Oo.prototype.return=function(e){return this._invoke("return",e)};const Lo=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},Do=function(){var e=Io(function*(e,t){var n,r=!1,i=!1;try{for(var a,s=zo(Fo(e));r=!(a=yield Ao(s.next())).done;r=!1){const e=a.value;yield*Ro(zo(Lo(e,t)))}}catch(o){i=!0,n=o}finally{try{r&&null!=s.return&&(yield Ao(s.return()))}finally{if(i)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Fo=function(){var e=Io(function*(e){if(e[Symbol.asyncIterator])return void(yield*Ro(zo(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ao(t.read());if(e)break;yield n}}finally{yield Ao(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Uo=(e,t,n,r)=>{const i=Do(e,t);let a,s=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=s+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),i.return())},{highWaterMark:2})},Bo="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,qo=Bo&&"function"===typeof ReadableStream,Wo=Bo&&("function"===typeof TextEncoder?(Ho=new TextEncoder,e=>Ho.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ho;const Jo=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(oc){return!1}},Vo=qo&&Jo(()=>{let e=!1;const t=new Request(eo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Go=qo&&Jo(()=>Ts.isReadableStream(new Response("").body)),Ko={stream:Go&&(e=>e.body)};var Yo;Bo&&(Yo=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ko[e]&&(Ko[e]=Ts.isFunction(Yo[e])?t=>t[e]():(t,n)=>{throw new Rs("Response type '".concat(e,"' is not supported"),Rs.ERR_NOT_SUPPORT,n)})}));const $o=async(e,t)=>{const n=Ts.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Ts.isBlob(e))return e.size;if(Ts.isSpecCompliantForm(e)){const t=new Request(eo.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ts.isArrayBufferView(e)||Ts.isArrayBuffer(e)?e.byteLength:(Ts.isURLSearchParams(e)&&(e+=""),Ts.isString(e)?(await Wo(e)).byteLength:void 0)})(t):n},Xo=Bo&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:p}=Eo(e);c=c?(c+"").toLowerCase():"text";let m,f=Po([i,a&&a.toAbortSignal()],s);const g=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let v;try{if(l&&Vo&&"get"!==n&&"head"!==n&&0!==(v=await $o(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(Ts.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=wo(v,bo(xo(l)));r=Uo(n.body,65536,e,t)}}Ts.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;m=new Request(t,h(h({},p),{},{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?d:void 0}));let a=await fetch(m,p);const s=Go&&("stream"===c||"response"===c);if(Go&&(o||s&&g)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=Ts.toFiniteNumber(a.headers.get("content-length")),[n,r]=o&&wo(t,bo(xo(o),!0))||[];a=new Response(Uo(a.body,65536,n,()=>{r&&r(),g&&g()}),e)}c=c||"text";let y=await Ko[Ts.findKey(Ko,c)||"text"](a,e);return!s&&g&&g(),await new Promise((t,n)=>{go(t,n,{data:y,headers:uo.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:m})})}catch(y){if(g&&g(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new Rs("Network Error",Rs.ERR_NETWORK,e,m),{cause:y.cause||y});throw Rs.from(y,y&&y.code,e,m)}}),Qo={http:null,xhr:Co,fetch:Xo};Ts.forEach(Qo,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(oc){}Object.defineProperty(e,"adapterName",{value:t})}});const Zo=e=>"- ".concat(e),el=e=>Ts.isFunction(e)||null===e||!1===e,tl=e=>{e=Ts.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!el(n)&&(r=Qo[(t=String(n)).toLowerCase()],void 0===r))throw new Rs("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+a]=r}if(!r){const e=Object.entries(i).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Zo).join("\n"):" "+Zo(e[0]):"as no adapter specified";throw new Rs("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function nl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new fo(null,e)}function rl(e){nl(e),e.headers=uo.from(e.headers),e.data=ho.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tl(e.adapter||ro.adapter)(e).then(function(t){return nl(e),t.data=ho.call(e,e.transformResponse,t),t.headers=uo.from(t.headers),t},function(t){return po(t)||(nl(e),t&&t.response&&(t.response.data=ho.call(e,e.transformResponse,t.response),t.response.headers=uo.from(t.response.headers))),Promise.reject(t)})}const il="1.11.0",al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{al[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const sl={};al.transitional=function(e,t,n){function r(e,t){return"[Axios v"+il+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new Rs(r(i," has been removed"+(t?" in "+t:"")),Rs.ERR_DEPRECATED);return t&&!sl[i]&&(sl[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},al.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ol={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Rs("options must be an object",Rs.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new Rs("option "+a+" must be "+n,Rs.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Rs("Unknown option "+a,Rs.ERR_BAD_OPTION)}},validators:al},ll=ol.validators;class cl{constructor(e){this.defaults=e||{},this.interceptors={request:new Vs,response:new Vs}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(oc){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=No(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&ol.assertOptions(n,{silentJSONParsing:ll.transitional(ll.boolean),forcedJSONParsing:ll.transitional(ll.boolean),clarifyTimeoutError:ll.transitional(ll.boolean)},!1),null!=r&&(Ts.isFunction(r)?t.paramsSerializer={serialize:r}:ol.assertOptions(r,{encode:ll.function,serialize:ll.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ol.assertOptions(t,{baseUrl:ll.spelling("baseURL"),withXsrfToken:ll.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&Ts.merge(i.common,i[t.method]);i&&Ts.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=uo.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[rl.bind(this),void 0];for(e.unshift(...s),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(lc){t.call(this,lc);break}}try{c=rl.call(this,h)}catch(lc){return Promise.reject(lc)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Js(So((e=No(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ts.forEach(["delete","get","head","options"],function(e){cl.prototype[e]=function(t,n){return this.request(No(n||{},{method:e,url:t,data:(n||{}).data}))}}),Ts.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(No(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}cl.prototype[e]=t(),cl.prototype[e+"Form"]=t(!0)});const ul=cl;class dl{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new fo(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new dl(function(t){e=t}),cancel:e}}}const hl=dl;const pl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pl).forEach(e=>{let[t,n]=e;pl[n]=t});const ml=pl;const fl=function e(t){const n=new ul(t),r=Ha(ul.prototype.request,n);return Ts.extend(r,ul.prototype,n,{allOwnKeys:!0}),Ts.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(No(t,n))},r}(ro);fl.Axios=ul,fl.CanceledError=fo,fl.CancelToken=hl,fl.isCancel=po,fl.VERSION=il,fl.toFormData=Fs,fl.AxiosError=Rs,fl.Cancel=fl.CanceledError,fl.all=function(e){return Promise.all(e)},fl.spread=function(e){return function(t){return e.apply(null,t)}},fl.isAxiosError=function(e){return Ts.isObject(e)&&!0===e.isAxiosError},fl.mergeConfig=No,fl.AxiosHeaders=uo,fl.formToJSON=e=>to(Ts.isHTMLForm(e)?new FormData(e):e),fl.getAdapter=tl,fl.HttpStatusCode=ml,fl.default=fl;const gl=fl,vl="".concat(Ii,"/stakeholder-intelligence"),yl=()=>{const e=localStorage.getItem("token");return{"Content-Type":"application/json",Authorization:e?"Bearer ".concat(e):""}};const bl=new class{async createOrUpdateOrganization(e){try{return(await gl.post("".concat(vl,"/organization"),e,{headers:yl()})).data}catch(lc){throw console.error("Error creating organization:",lc),lc}}async generateStakeholderSuggestions(e){try{return(await gl.post("".concat(vl,"/suggestions"),{company:e.company,url:e.url,strategicGoals:e.strategicGoals,priorityStakeholders:e.priorityStakeholders},{headers:yl()})).data.suggestions}catch(lc){return console.error("Error generating suggestions:",lc),this.generateLocalSuggestions(e)}}async discoverStakeholderSources(e,t){try{return(await gl.post("".concat(vl,"/discover-sources"),{stakeholderName:e,stakeholderType:t},{headers:yl()})).data.sources}catch(lc){return console.error("Error discovering sources:",lc),[]}}async validateSource(e){try{return(await gl.post("".concat(vl,"/validate-source"),{url:e},{headers:yl()})).data}catch(lc){return console.error("Error validating source:",lc),{valid:!1,error:lc.message}}}async saveStakeholderConfiguration(e,t){try{return(await gl.post("".concat(vl,"/configure"),{organizationId:e,stakeholders:t},{headers:yl()})).data}catch(lc){throw console.error("Error saving configuration:",lc),lc}}async getStakeholderMonitoring(e){try{return(await gl.get("".concat(vl,"/monitoring/").concat(e),{headers:yl()})).data}catch(lc){return console.error("Error getting monitoring data:",lc),{stakeholders:[],findings:[],predictions:[]}}}async runMonitoringScan(e){try{return(await gl.post("".concat(vl,"/scan"),{organizationId:e},{headers:yl()})).data}catch(lc){throw console.error("Error running scan:",lc),lc}}async getIntelligenceFindings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=new URLSearchParams;t.limit&&n.append("limit",t.limit),t.offset&&n.append("offset",t.offset),t.unreadOnly&&n.append("unreadOnly",t.unreadOnly);return(await gl.get("".concat(vl,"/findings/").concat(e,"?").concat(n.toString()),{headers:yl()})).data.findings}catch(lc){return console.error("Error getting findings:",lc),[]}}async discoverSourcesForStakeholder(e){try{console.log("Discovering sources for stakeholder:",e);const t={stakeholderName:e.name,stakeholderType:e.type};console.log("Request data:",t),console.log("API URL:","".concat(vl,"/discover-sources"));const n=await gl.post("".concat(vl,"/discover-sources"),t,{headers:yl()});return console.log("Source discovery response:",n.data),n.data.success&&n.data.sources?(console.log("Returning",n.data.sources.length,"sources"),n.data.sources):(console.log("No sources in response"),[])}catch(lc){var t;return console.error("Error discovering sources:",lc),console.error("Error details:",(null===(t=lc.response)||void 0===t?void 0:t.data)||lc.message),[]}}async validateSource(e){try{return(await gl.post("".concat(vl,"/validate-source"),{url:e},{headers:yl()})).data}catch(lc){return console.error("Error validating source:",lc),{valid:!1}}}async batchValidateSources(e){return(await Promise.allSettled(e.map(e=>this.validateSource(e)))).map(e=>"fulfilled"===e.status?e.value:{valid:!1})}async markFindingAsRead(e){try{return(await gl.put("".concat(vl,"/findings/").concat(e,"/read"),{},{headers:yl()})).data}catch(lc){throw console.error("Error marking finding as read:",lc),lc}}async archiveFinding(e){try{return(await gl.put("".concat(vl,"/findings/").concat(e,"/archive"),{},{headers:yl()})).data}catch(lc){throw console.error("Error archiving finding:",lc),lc}}async getPredictions(e){try{return(await gl.get("".concat(vl,"/predictions/").concat(e),{headers:yl()})).data.predictions}catch(lc){return console.error("Error getting predictions:",lc),[]}}async getRecommendedActions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pending";try{return(await gl.get("".concat(vl,"/actions/").concat(e,"?status=").concat(t),{headers:yl()})).data.actions}catch(lc){return console.error("Error getting actions:",lc),[]}}async updateAction(e,t){try{return(await gl.put("".concat(vl,"/actions/").concat(e),t,{headers:yl()})).data}catch(lc){throw console.error("Error updating action:",lc),lc}}async getDashboardSummary(e){try{return(await gl.get("".concat(vl,"/dashboard/").concat(e),{headers:yl()})).data.summary}catch(lc){return console.error("Error getting dashboard summary:",lc),{stakeholders:{},findings:{},actions:{}}}}async checkPreIndexedStakeholder(e){try{return(await gl.get("".concat(vl,"/pre-indexed/").concat(encodeURIComponent(e)),{headers:yl()})).data.stakeholders}catch(lc){return console.error("Error checking pre-indexed stakeholder:",lc),[]}}generateLocalSuggestions(e){var t,n;const r=[],i=(null===(t=e.company)||void 0===t?void 0:t.toLowerCase())||"",a=(null===(n=e.strategicGoals)||void 0===n?void 0:n.toLowerCase())||"";return i.includes("karv")||i.includes("pr")||i.includes("communications")||a.includes("new business")?a.includes("tech")&&r.push({name:"Microsoft",type:"Target Client",priority:"critical",reason:"Major tech company needing PR services",monitoringTopics:["product launches","PR RFPs","crisis situations"]},{name:"Sequoia Capital",type:"Referral Partner",priority:"high",reason:"Top VC that refers PR agencies to portfolio",monitoringTopics:["new investments","portfolio needs"]},{name:"TechCrunch",type:"Media Partner",priority:"high",reason:"Key tech media for client coverage",monitoringTopics:["reporter beats","editorial calendar"]}):r.push({name:"Enterprise Customers",type:"Revenue Drivers",priority:"critical",reason:"Key customers and prospects",monitoringTopics:["RFPs","budget cycles","vendor evaluations"]}),r}async batchValidateSources(e){const t=e.map(e=>this.validateSource(e));return(await Promise.allSettled(t)).map((t,n)=>({url:e[n],valid:"fulfilled"===t.status&&t.value.valid,error:"rejected"===t.status?t.reason:null}))}async analyzeWithAI(e){try{var t;return{analysis:{summary:"Analysis of ".concat(e.stakeholderName,": ").concat((null===(t=e.dataPoints)||void 0===t?void 0:t.length)||0," data points analyzed"),sentiment:this.calculateSentiment(e.dataPoints),keyThemes:this.extractThemes(e.dataPoints),risks:this.identifyRisks(e.dataPoints),opportunities:this.identifyOpportunities(e.dataPoints)}}}catch(lc){return console.error("Error in AI analysis:",lc),null}}calculateSentiment(e){if(!e||0===e.length)return"neutral";const t=["growth","success","innovative","leading","partnership","expansion"],n=["concern","risk","decline","issue","problem","challenge"];let r=0,i=0;return e.forEach(e=>{const a=(e.title+" "+e.content).toLowerCase();t.forEach(e=>{a.includes(e)&&r++}),n.forEach(e=>{a.includes(e)&&i++})}),r>2*i?"positive":i>2*r?"negative":"neutral"}extractThemes(e){if(!e||0===e.length)return[];const t=[],n=e.map(e=>(e.title+" "+e.content).toLowerCase()).join(" ");return Object.entries({innovation:["innovation","new","launch","technology"],growth:["growth","expansion","increase","rising"],partnership:["partner","collaboration","alliance","deal"],leadership:["CEO","executive","leadership","appointment"]}).forEach(e=>{let[r,i]=e;i.some(e=>n.includes(e))&&t.push(r)}),t}identifyRisks(e){if(!e||0===e.length)return[];const t=[],n=["risk","concern","issue","problem","challenge","threat"];return e.forEach(e=>{const r=(e.title+" "+e.content).toLowerCase();n.some(e=>r.includes(e))&&t.push("Potential concerns identified in recent coverage")}),[...new Set(t)]}identifyOpportunities(e){if(!e||0===e.length)return[];const t=[],n=["opportunity","growth","expansion","partnership","innovation"];return e.forEach(e=>{const r=(e.title+" "+e.content).toLowerCase();n.some(e=>r.includes(e))&&t.push("Positive developments detected")}),[...new Set(t)]}subscribeToMonitoring(e,t){console.log("Real-time monitoring subscription not yet implemented");const n=setInterval(async()=>{const n=await this.getStakeholderMonitoring(e);t(n)},3e5);return()=>clearInterval(n)}};const wl=new class{constructor(){this.opportunityPatterns={funding:["raised","funding","series a","series b","investment","venture capital","seed round","valuation","capital raise","investors back"],leadership:["new ceo","new cmo","new cco","chief marketing","chief communications","leadership change","executive appointment","hired","joins as"],expansion:["expanding to","new market","international expansion","opening office","launches in","enters market","global expansion"],product:["product launch","new product","announcing","unveils","introduces","releasing","beta launch","early access"],crisis:["scandal","controversy","backlash","criticism","under fire","faces scrutiny","investigation","lawsuit","data breach"],awards:["award","recognition","honored","named to","wins","finalist","best of","top 100","industry leader"],partnership:["partnership","collaboration","strategic alliance","teams up","joint venture","partners with","agreement with"],ipo:["ipo","going public","public offering","s-1 filing","listing","stock market debut","public markets"]},this.riskPatterns={negative_sentiment:["boycott","protest","outrage","angry customers","dissatisfied","complaint","terrible","worst","disappointed","furious"],regulatory:["regulatory","compliance","violation","fine","penalty","sanctions","investigation","probe","audit","subpoena"],competitor_attack:["competitor claims","rival announces","loses to","market share loss","customers switching","defecting to","better alternative"],internal_issues:["layoffs","restructuring","downsizing","cuts jobs","workforce reduction","employee dissatisfaction","turnover","exodus","resignations"],financial:["losses","revenue decline","profit warning","missed targets","bankruptcy","debt","cash flow","liquidity crisis"],reputation:["reputation damage","brand crisis","pr disaster","public relations nightmare","image problem","trust issues","credibility questioned"],security:["hack","breach","vulnerability","exposed data","security flaw","ransomware","cyber attack","compromised","leaked"],social_media:["viral complaint","twitter storm","trending negative","hashtag protest","social media backlash","influencer criticism","cancel"]},this.sentimentKeywords={positive:["excellent","outstanding","impressive","innovative","breakthrough","success","achievement","milestone","record","leading"],negative:["failure","disaster","crisis","problem","issue","concern","worry","trouble","setback","challenge"],neutral:["announced","stated","reported","disclosed","revealed","confirmed","acknowledged","noted","mentioned"]}}detectOpportunities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=e.toLowerCase();return Object.entries(this.opportunityPatterns).forEach(e=>{let[i,a]=e;const s=a.filter(e=>r.includes(e));if(s.length>0){const e=this.calculateOpportunityScore(s,i,t);n.push({type:"opportunity",category:i,confidence:e/100,matches:s,actionRequired:this.getOpportunityAction(i),timeframe:this.getOpportunityTimeframe(i),priority:e>80?"high":e>60?"medium":"low",score:e})}}),n.sort((e,t)=>t.score-e.score)}detectRisks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=e.toLowerCase();return Object.entries(this.riskPatterns).forEach(e=>{let[i,a]=e;const s=a.filter(e=>r.includes(e));if(s.length>0){const e=this.calculateRiskSeverity(s,i,t);n.push({type:"risk",category:i,severity:e/100,matches:s,mitigation:this.getRiskMitigation(i),responseTime:this.getRiskResponseTime(i),priority:e>80?"critical":e>60?"high":"medium",severityScore:e})}}),n.sort((e,t)=>t.severityScore-e.severityScore)}analyzeSentiment(e){const t=e.toLowerCase();let n=0,r=0,i=0;this.sentimentKeywords.positive.forEach(e=>{t.includes(e)&&n++}),this.sentimentKeywords.negative.forEach(e=>{t.includes(e)&&r++}),this.sentimentKeywords.neutral.forEach(e=>{t.includes(e)&&i++});const a=n+r+i||1;return{sentiment:n>r?"positive":r>n?"negative":"neutral",scores:{positive:n/a,negative:r/a,neutral:i/a},confidence:Math.max(n,r,i)/a}}calculateOpportunityScore(e,t,n){let r=20*e.length;return r+={funding:30,crisis:40,product:25,leadership:20,ipo:35,expansion:25,awards:15,partnership:20}[t]||0,n.isCompetitor&&(r="crisis"===t?r+20:r-10),n.isClient&&(r+=15),n.isTrending&&(r+=10),Math.min(100,Math.max(0,r))}calculateRiskSeverity(e,t,n){let r=25*e.length;return r*={security:2,regulatory:1.8,reputation:1.7,financial:1.6,negative_sentiment:1.5,social_media:1.4,internal_issues:1.3,competitor_attack:1.2}[t]||1,n.isOwnBrand&&(r*=1.5),n.isViral&&(r*=1.3),"high"===n.mediaReach&&(r*=1.2),Math.min(100,Math.max(0,r))}getOpportunityAction(e){return{funding:"Reach out with congratulations and offer PR services for announcement",leadership:"Send welcome package and schedule introduction meeting",expansion:"Propose market entry PR strategy and media relations",product:"Offer launch PR campaign and media outreach services",crisis:"Monitor competitor situation for client talking points",awards:"Amplify achievement through press release and media pitching",partnership:"Develop joint PR strategy and co-marketing opportunities",ipo:"Propose comprehensive IPO communications strategy"}[e]||"Evaluate for PR opportunity"}getRiskMitigation(e){return{negative_sentiment:"Draft holding statement and monitor sentiment escalation",regulatory:"Prepare crisis communications plan and legal coordination",competitor_attack:"Develop competitive response strategy and key messages",internal_issues:"Create internal communications plan and media strategy",financial:"Prepare investor relations strategy and stakeholder messaging",reputation:"Activate crisis response team and media monitoring",security:"Coordinate with security team on disclosure timeline and messaging",social_media:"Deploy social listening and rapid response team"}[e]||"Assess situation and prepare response"}getOpportunityTimeframe(e){return{funding:"24-48 hours",leadership:"1 week",expansion:"2-4 weeks",product:"1-2 weeks",crisis:"Immediate",awards:"48-72 hours",partnership:"1 week",ipo:"2-4 weeks"}[e]||"1 week"}getRiskResponseTime(e){return{security:"1 hour",regulatory:"2-4 hours",reputation:"2 hours",social_media:"30 minutes",negative_sentiment:"4 hours",financial:"4-6 hours",internal_issues:"24 hours",competitor_attack:"6-12 hours"}[e]||"24 hours"}analyzePRSignals(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.detectOpportunities(e,t),r=this.detectRisks(e,t),i=this.analyzeSentiment(e),a=n.reduce((e,t)=>e+t.score,0)/(n.length||1),s=r.reduce((e,t)=>e+t.severityScore,0)/(r.length||1),o={overall:.6*a+.4*(100-s),opportunity:a,risk:s,balance:a-s};let l="Monitor";return o.balance>50?l="Pursue Opportunity":o.balance<-30?l="Mitigate Risk":n.length>0&&r.length>0&&(l="Balanced Approach"),{opportunities:n,risks:r,sentiment:i,prScore:o,recommendedAction:l,summary:{totalOpportunities:n.length,totalRisks:r.length,highPriorityOpportunities:n.filter(e=>"high"===e.priority).length,criticalRisks:r.filter(e=>"critical"===e.priority).length,dominantSentiment:i.sentiment,actionableItems:n.length+r.length}}}async monitorSources(e,t){const n=[];for(const r of e)try{const e=this.analyzePRSignals(r.content||r.description||"",{sourceType:r.type,sourceName:r.name,isOwnBrand:r.isOwnBrand||!1,isCompetitor:r.isCompetitor||!1,isClient:r.isClient||!1});n.push(h({source:r.name,timestamp:(new Date).toISOString()},e)),t&&t(e,r)}catch(lc){console.error("Error analyzing source ".concat(r.name,":"),lc)}return n}generateAlert(e,t){return{id:"alert-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:(new Date).toISOString(),source:t.name,type:e.type,category:e.category,priority:e.priority,title:this.generateAlertTitle(e),description:this.generateAlertDescription(e),actions:"opportunity"===e.type?[e.actionRequired]:[e.mitigation],timeframe:"opportunity"===e.type?e.timeframe:e.responseTime,metadata:{matches:e.matches,score:e.score||e.severityScore,confidence:e.confidence||e.severity}}}generateAlertTitle(e){var t;return(null===(t={opportunity:{funding:"\ud83d\udcb0 New Funding Opportunity Detected",leadership:"\ud83d\udc54 Leadership Change - Engagement Opportunity",expansion:"\ud83c\udf0d Market Expansion Opportunity",product:"\ud83d\ude80 Product Launch PR Opportunity",crisis:"\u26a1 Competitor Crisis - Positioning Opportunity",awards:"\ud83c\udfc6 Award Win - Amplification Opportunity",partnership:"\ud83e\udd1d Partnership Announcement Opportunity",ipo:"\ud83d\udcc8 IPO Communications Opportunity"},risk:{negative_sentiment:"\ud83d\ude20 Negative Sentiment Rising",regulatory:"\u2696\ufe0f Regulatory Risk Detected",competitor_attack:"\ud83c\udfaf Competitive Threat Identified",internal_issues:"\ud83c\udfe2 Internal Issue Requiring Management",financial:"\ud83d\udcb8 Financial Risk Alert",reputation:"\ud83d\udee1\ufe0f Reputation Risk Detected",security:"\ud83d\udd12 Security Issue - Crisis Response Needed",social_media:"\ud83d\udcf1 Social Media Crisis Developing"}}[e.type])||void 0===t?void 0:t[e.category])||"".concat("opportunity"===e.type?"\ud83d\udccd":"\u26a0\ufe0f"," PR ").concat(e.type," Detected")}generateAlertDescription(e){return"opportunity"===e.type?"A ".concat(e.priority," priority PR opportunity has been identified in the ").concat(e.category," category. ")+"Confidence level: ".concat(Math.round(100*e.confidence),"%. ")+"Recommended response timeframe: ".concat(e.timeframe,"."):"A ".concat(e.priority," priority PR risk has been detected in the ").concat(e.category," category. ")+"Severity level: ".concat(Math.round(100*e.severity),"%. ")+"Required response time: ".concat(e.responseTime,".")}};const xl=new class{constructor(){this.thresholds={immediate:80,high:60,medium:40,low:20},this.topicHalfLife={breaking_news:.5,trending_topic:2,industry_news:7,thought_leadership:30,evergreen:90},this.categoryWeights={crisis_response:1.5,funding_news:1.3,product_launch:1.2,thought_leadership:1,industry_trend:.9,company_update:.8}}async calculateNVS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const r=await this.calculateMediaDemand(e),i=await this.calculateCompetitorAbsence(e,t.competitors),a=this.assessClientStrength(e,t),s=this.calculateTimeDecay(e,n.daysSinceEmerged||0),o=await this.calculateMarketSaturation(e),l=r*i*a*s/(o||1),c=this.categoryWeights[n.category]||1,u=Math.min(100,l*c);return{score:u,components:{mediaDemand:r,competitorAbsence:i,clientStrength:a,timeDecay:s,marketSaturation:o},action:this.getRecommendedAction(u),urgency:this.getUrgencyLevel(u),explanation:this.explainScore(u,{mediaDemand:r,competitorAbsence:i,clientStrength:a})}}catch(lc){return console.error("Error calculating NVS:",lc),{score:0,error:lc.message}}}async calculateMediaDemand(e){const t=30*await this.getHARORequests(e)+25*await this.getJournalistQueries(e)+20*await this.getGoogleTrendsScore(e)+15*await this.getNewsRepetitionRate(e)+10*await this.getSocialBuzzScore(e);return Math.min(100,t)}async calculateCompetitorAbsence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t||0===t.length)return 80;const n=await Promise.all(t.map(async t=>{const n=100-(40*await this.checkCompetitorPressReleases(t,e)+30*await this.checkCompetitorQuotes(t,e)+20*await this.checkCompetitorSocial(t,e)+10*await this.checkCompetitorContent(t,e));return Math.max(0,n)}));return n.reduce((e,t)=>e+t,0)/n.length}assessClientStrength(e,t){const n=30*this.getClientExpertise(e,t)+25*this.getClientTrackRecord(e,t)+20*this.getExecutiveCredibility(e,t)+15*this.getClientContent(e,t)+10*this.getClientUniqueness(e,t);return Math.min(100,n)}calculateTimeDecay(e,t){const n=this.topicHalfLife[e.type]||this.topicHalfLife.industry_news;return 100*Math.exp(-t/n)}async calculateMarketSaturation(e){const t=.3*await this.getTotalMediaCoverage(e)+.3*await this.getUniqueVoicesCount(e)+.2*await this.getMessageRepetitionRate(e)+.2*await this.getAudienceFatigueScore(e);return Math.max(1,t)}async getHARORequests(e){const t={AI:.8,sustainability:.7,"remote work":.6,cybersecurity:.9,"supply chain":.5},n=e.toLowerCase();for(const[r,i]of Object.entries(t))if(n.includes(r)||r.includes(n))return i;return.3*Math.random()}async getJournalistQueries(e){return.8*Math.random()+.2}async getGoogleTrendsScore(e){try{return["AI","climate","recession","crypto","layoffs"].some(t=>e.toLowerCase().includes(t))?.7+.3*Math.random():.5*Math.random()}catch(lc){return.5}}async getNewsRepetitionRate(e){return.7*Math.random()+.3}async getSocialBuzzScore(e){return.6*Math.random()+.2}async checkCompetitorPressReleases(e,t){return.3*Math.random()}async checkCompetitorQuotes(e,t){return.2*Math.random()}async checkCompetitorSocial(e,t){return.25*Math.random()}async checkCompetitorContent(e,t){return.2*Math.random()}getClientExpertise(e,t){const n=t.expertiseAreas||{},r=e.toLowerCase();for(const[i,a]of Object.entries(n))if(r.includes(i.toLowerCase()))return a;return.3}getClientTrackRecord(e,t){const n=(t.mediaWins||[]).filter(t=>t.topic&&t.topic.toLowerCase().includes(e.toLowerCase()));return Math.min(1,.2*n.length)}getExecutiveCredibility(e,t){return t.executiveMediaScore||.5}getClientContent(e,t){const n=(t.contentLibrary||[]).filter(t=>t.topics&&t.topics.some(t=>t.toLowerCase().includes(e.toLowerCase())));return Math.min(1,.15*n.length)}getClientUniqueness(e,t){return t.proprietaryData?.8:.4}async getTotalMediaCoverage(e){return 60*Math.random()+20}async getUniqueVoicesCount(e){return 50*Math.random()+10}async getMessageRepetitionRate(e){return 40*Math.random()+30}async getAudienceFatigueScore(e){return 30*Math.random()+10}getRecommendedAction(e){return e>=this.thresholds.immediate?{action:"IMMEDIATE_ACTION",description:"Brief CEO/CMO immediately and prepare rapid response",timeframe:"0-2 hours",priority:"CRITICAL"}:e>=this.thresholds.high?{action:"PRIORITY_RESPONSE",description:"Prepare comprehensive response within 24 hours",timeframe:"24 hours",priority:"HIGH"}:e>=this.thresholds.medium?{action:"PLANNED_ENGAGEMENT",description:"Develop content and outreach plan this week",timeframe:"2-5 days",priority:"MEDIUM"}:{action:"MONITOR",description:"Continue monitoring, no immediate action needed",timeframe:"Ongoing",priority:"LOW"}}getUrgencyLevel(e){return e>=80?"IMMEDIATE":e>=60?"TODAY":e>=40?"THIS_WEEK":"MONITOR"}explainScore(e,t){const{mediaDemand:n,competitorAbsence:r,clientStrength:i}=t;let a="";return a=e>=80?"\ud83d\udea8 MAJOR OPPORTUNITY: ":e>=60?"\ud83d\udccd Strong opportunity: ":e>=40?"\ud83d\udca1 Potential opportunity: ":"\ud83d\udc40 Worth monitoring: ",n>70&&(a+="Media is actively seeking this story. "),r>80&&(a+="Competitors haven't claimed this narrative yet. "),i>70&&(a+="You have strong credibility in this area. "),n<40&&(a+="Limited media interest currently. "),r<30&&(a+="Competitors are already active here. "),i<40&&(a+="Would need to build credibility first. "),a}async discoverOpportunities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=[{name:"AI regulation",type:"breaking_news",category:"thought_leadership"},{name:"sustainable technology",type:"trending_topic",category:"industry_trend"},{name:"remote work evolution",type:"industry_news",category:"thought_leadership"},{name:"supply chain resilience",type:"industry_news",category:"industry_trend"},{name:"cybersecurity threats",type:"breaking_news",category:"crisis_response"},...e.industry?this.getIndustryTopics(e.industry):[]];for(const i of r){const r=await this.calculateNVS(i.name,e,{daysSinceEmerged:i.daysSinceEmerged||0,category:i.category});r.score>=(t.minScore||this.thresholds.low)&&n.push(h(h({topic:i.name,type:i.type,category:i.category},r),{},{discoveredAt:(new Date).toISOString()}))}return n.sort((e,t)=>t.score-e.score),{opportunities:n.slice(0,t.limit||10),summary:{total:n.length,immediate:n.filter(e=>"IMMEDIATE"===e.urgency).length,high:n.filter(e=>"TODAY"===e.urgency).length,medium:n.filter(e=>"THIS_WEEK"===e.urgency).length}}}getIndustryTopics(e){return{technology:[{name:"AI ethics",type:"thought_leadership"},{name:"data privacy regulations",type:"industry_news"},{name:"quantum computing",type:"evergreen"}],healthcare:[{name:"telemedicine adoption",type:"trending_topic"},{name:"drug pricing transparency",type:"industry_news"},{name:"mental health awareness",type:"evergreen"}],finance:[{name:"cryptocurrency regulation",type:"breaking_news"},{name:"ESG investing",type:"trending_topic"},{name:"digital banking transformation",type:"industry_news"}],retail:[{name:"supply chain innovation",type:"industry_news"},{name:"sustainable packaging",type:"trending_topic"},{name:"omnichannel experience",type:"evergreen"}]}[e.toLowerCase()]||[]}async startRealTimeMonitoring(e,t){const n=setInterval(async()=>{const n=(await this.discoverOpportunities(e,{minScore:this.thresholds.medium})).opportunities.filter(e=>e.score>=this.thresholds.high);n.length>0&&t&&t(n)},18e5);return{stop:()=>clearInterval(n)}}};new class{constructor(){this.companyProfile=null,this.stakeholders=[],this.sources=[],this.monitoringData=[],this.opportunities=[],this.goals=[],this.isInitialized=!1,console.log("UnifiedIntelligenceService initialized")}async initializeCompany(e){console.log("UnifiedService - Initializing company with data:",e),this.companyProfile={id:Date.now(),company:e.company,url:e.url,industry:e.industry,userType:e.userType,objectives:e.objectives,expertiseAreas:this.extractExpertise(e),competitors:e.competitors||[],createdAt:(new Date).toISOString()},this.goals=this.parseGoals(e.objectives),this.isInitialized=!0,console.log("UnifiedService - Company profile created:",this.companyProfile),console.log("UnifiedService - Goals identified:",this.goals);try{await bl.createOrganization(this.companyProfile)}catch(lc){console.error("Error saving company profile:",lc)}return this.companyProfile}async identifyStakeholders(){if(!this.companyProfile)return console.warn("UnifiedService - Company profile not initialized when identifying stakeholders"),this.stakeholders;console.log("UnifiedService - Identifying stakeholders for userType:",this.companyProfile.userType);const e=[],t=Date.now();return"brand"===this.companyProfile.userType?e.push({id:"media-outlets-".concat(t,"-").concat(e.length),name:"Target Media Outlets",type:"media",reason:"Earn media coverage for brand visibility",topics:this.generateMediaTopics(),priority:"high",prContext:"earned_media",prMetrics:{opportunityScore:85,riskLevel:10,engagementPotential:90,timelineCriticality:"ongoing"}},{id:"journalists-".concat(t,"-").concat(e.length),name:"Industry Journalists",type:"influencer",reason:"Build relationships for story placement",topics:["industry trends","company news","expert commentary"],priority:"high",prContext:"media_relations",prMetrics:{opportunityScore:80,riskLevel:15,engagementPotential:85,timelineCriticality:"ongoing"}},{id:"competitors-".concat(t,"-").concat(e.length),name:"Competitor Activity",type:"competitive",reason:"Track competitor PR wins and strategies",topics:["product launches","executive changes","funding","crises"],priority:"medium",prContext:"competitive_analysis",prMetrics:{opportunityScore:70,riskLevel:30,engagementPotential:60,timelineCriticality:"ongoing"}}):"agency"===this.companyProfile.userType?e.push({id:"client-mentions-".concat(t,"-").concat(e.length),name:"Client Media Coverage",type:"client",reason:"Track and amplify client coverage",topics:["client name mentions","industry news","competitor moves"],priority:"critical",prContext:"client_results",prMetrics:{opportunityScore:90,riskLevel:25,engagementPotential:95,timelineCriticality:"immediate"}},{id:"media-opportunities-".concat(t,"-").concat(e.length),name:"Media Opportunities",type:"opportunity",reason:"Find pitching opportunities for clients",topics:["journalist requests","trending stories","news hooks"],priority:"high",prContext:"media_pitching",prMetrics:{opportunityScore:85,riskLevel:5,engagementPotential:90,timelineCriticality:"immediate"}}):"agency-self"===this.companyProfile.userType&&e.push({id:"prospects-".concat(t,"-").concat(e.length),name:"Business Development Targets",type:"prospect",reason:"Identify companies needing PR help",topics:["funding rounds","leadership changes","crises","expansions"],priority:"critical",prContext:"business_development",prMetrics:{opportunityScore:95,riskLevel:10,engagementPotential:100,timelineCriticality:"immediate"}},{id:"competitor-agencies-".concat(t,"-").concat(e.length),name:"Competing Agencies",type:"competitive",reason:"Track competitor wins and losses",topics:["new accounts","case studies","awards","client losses"],priority:"high",prContext:"competitive_intel",prMetrics:{opportunityScore:75,riskLevel:20,engagementPotential:70,timelineCriticality:"ongoing"}}),this.goals.forEach(t=>{const n=this.getStakeholdersForGoal(t);e.push(...n)}),this.companyProfile.customStakeholders&&e.push(...this.companyProfile.customStakeholders),this.stakeholders=e,console.log("UnifiedService - Identified",e.length,"stakeholders"),console.log("UnifiedService - Stakeholder IDs:",e.map(e=>e.id)),this.monitoringTopics=this.generateMonitoringTopics(e),e}async configureSources(){if(!this.stakeholders.length)return console.warn("UnifiedService - No stakeholders identified when configuring sources"),this.sources;console.log("UnifiedService - Configuring sources for",this.stakeholders.length,"stakeholders");const e=[];for(const t of this.stakeholders){const n=await this.getSourcesForStakeholder(t);e.push({stakeholderId:t.id,stakeholderName:t.name,sources:n})}return this.sources=e,console.log("UnifiedService - Configured",e.length,"source groups"),await this.validateSources(),e}async startMonitoring(){if(!this.sources.length)throw new Error("No sources configured");const e=[];for(const t of this.sources)for(const n of t.sources)if(n.active)try{const r=await this.monitorSource(n,t.stakeholderId);e.push(...r)}catch(lc){console.error("Error monitoring source ".concat(n.name,":"),lc)}return this.monitoringData=e,await this.analyzeFindings(e),e}async discoverOpportunities(){const e=[],t=await xl.discoverOpportunities(this.companyProfile,{limit:10});e.push(...t.opportunities.map(e=>h(h({},e),{},{source:"narrative_vacuum",matchedGoals:this.matchOpportunityToGoals(e)})));for(const i of this.monitoringData){const t=wl.analyzePRSignals(i.content||"",{isOwnBrand:i.stakeholder===this.companyProfile.company,isCompetitor:this.companyProfile.competitors.includes(i.stakeholder),isClient:"client"===i.stakeholderType});t.opportunities.length>0&&t.opportunities.forEach(t=>{const n=this.matchOpportunityToGoals(t);n.length>0&&e.push(h(h({},t),{},{source:"monitoring",stakeholder:i.stakeholder,matchedGoals:n,content:i.content,discoveredAt:(new Date).toISOString()}))})}const n=await this.findCompetitorWeaknesses();e.push(...n);const r=await this.findTrendingOpportunities();return e.push(...r),e.sort((e,t)=>{var n,r;const i=(e.score||0)*((null===(n=e.matchedGoals)||void 0===n?void 0:n.length)||1);return(t.score||0)*((null===(r=t.matchedGoals)||void 0===r?void 0:r.length)||1)-i}),this.opportunities=e,e}parseGoals(e){const t=[],n=e.toLowerCase();return Object.entries({generate_leads:["new business","generate leads","win clients","grow revenue"],build_awareness:["brand awareness","visibility","recognition","known for"],thought_leadership:["thought leader","expert","authority","go-to"],crisis_prevention:["protect reputation","risk management","crisis","prevent"],media_coverage:["media coverage","press","news","publicity"],launch_product:["launch","introduce","announce","reveal"],attract_talent:["recruit","hire","talent","employees"],investor_relations:["funding","investors","ipo","valuation"]}).forEach(e=>{let[r,i]=e;i.some(e=>n.includes(e))&&t.push({id:r,name:r.replace("_"," ").toUpperCase(),active:!0})}),t.length>0?t:[{id:"general_pr",name:"GENERAL PR",active:!0}]}extractExpertise(e){const t={},n="".concat(e.objectives," ").concat(e.description||"").toLowerCase();return Object.entries({AI:["artificial intelligence","machine learning","ai","ml","neural"],cloud:["cloud","saas","paas","iaas","aws","azure"],security:["security","cyber","privacy","protection","secure"],data:["data","analytics","insights","intelligence","metrics"],mobile:["mobile","ios","android","app"],blockchain:["blockchain","crypto","web3","defi"],sustainability:["sustainable","green","climate","esg","carbon"]}).forEach(e=>{let[r,i]=e;const a=i.filter(e=>n.includes(e));a.length>0&&(t[r]=Math.min(1,.3*a.length))}),t}generateMediaTopics(){const e=[];return this.companyProfile.expertiseAreas&&Object.keys(this.companyProfile.expertiseAreas).forEach(t=>{e.push("".concat(t," trends"),"".concat(t," innovation"),"future of ".concat(t))}),e.push("industry analysis","market insights","executive perspective"),e}getStakeholdersForGoal(e){return{generate_leads:[{id:"".concat(e.id,"-prospects"),name:"Lead Generation Targets",type:"prospect",reason:"Companies showing buying signals",topics:["budget allocated","vendor search","RFP issued"],priority:"critical",prContext:"business_development",prMetrics:{opportunityScore:90,riskLevel:5,engagementPotential:95,timelineCriticality:"immediate"}}],build_awareness:[{id:"".concat(e.id,"-influencers"),name:"Industry Influencers",type:"influencer",reason:"Amplify brand message",topics:["industry commentary","trend analysis","predictions"],priority:"high",prContext:"influencer_relations",prMetrics:{opportunityScore:75,riskLevel:10,engagementPotential:80,timelineCriticality:"ongoing"}}],investor_relations:[{id:"".concat(e.id,"-investors"),name:"Target Investors",type:"investor",reason:"Track investor interests and portfolio moves",topics:["investment thesis","portfolio companies","fund announcements"],priority:"high",prContext:"investor_relations",prMetrics:{opportunityScore:85,riskLevel:15,engagementPotential:75,timelineCriticality:"ongoing"}}]}[e.id]||[]}generateMonitoringTopics(e){const t=new Set;return e.forEach(e=>{e.topics&&e.topics.forEach(e=>t.add(e))}),t.add(this.companyProfile.company),this.companyProfile.competitors.forEach(e=>t.add(e)),Array.from(t)}async getSourcesForStakeholder(e){const t=[];return t.push({id:"".concat(e.id,"-google-news"),name:"Google News",url:"https://news.google.com/search?q=".concat(encodeURIComponent(e.name)),type:"news",active:!0}),"media"===e.type?t.push({id:"".concat(e.id,"-pr-newswire"),name:"PR Newswire",url:"https://www.prnewswire.com/rss/news-releases-list.rss",type:"rss",active:!0},{id:"".concat(e.id,"-haro"),name:"HARO Requests",url:"https://www.helpareporter.com",type:"email",active:!0}):"competitive"===e.type?t.push({id:"".concat(e.id,"-competitor-news"),name:"Competitor News Feed",url:"https://www.google.com/alerts/feeds/".concat(e.id),type:"rss",active:!0}):"prospect"===e.type&&t.push({id:"".concat(e.id,"-crunchbase"),name:"Crunchbase Signals",url:"https://news.crunchbase.com/feed/",type:"rss",active:!0}),t.push({id:"".concat(e.id,"-twitter"),name:"Twitter Monitoring",url:"https://twitter.com/search?q=".concat(encodeURIComponent(e.name)),type:"social",active:!0}),t}async validateSources(){for(const e of this.sources)for(const t of e.sources)try{t.validated=!0,t.lastValidated=(new Date).toISOString()}catch(lc){t.validated=!1,t.error=lc.message}}async monitorSource(e,t){return[{id:"finding-".concat(Date.now(),"-").concat(Math.random()),stakeholder:t,source:e.name,content:"Sample finding from ".concat(e.name," about ").concat(t),timestamp:(new Date).toISOString(),relevance:Math.random()}]}async analyzeFindings(e){for(const t of e)t.prAnalysis=wl.analyzePRSignals(t.content),t.sentiment=wl.analyzeSentiment(t.content),t.goalRelevance=this.checkGoalRelevance(t)}matchOpportunityToGoals(e){const t=[];return this.goals.forEach(n=>{let r=!1;("generate_leads"===n.id&&"business_development"===e.category||"build_awareness"===n.id&&"earned_media"===e.category||"thought_leadership"===n.id&&"thought_leadership"===e.category||"media_coverage"===n.id&&"opportunity"===e.type)&&(r=!0);const i=(e.topic||e.content||"").toLowerCase();"generate_leads"===n.id&&i.includes("funding")&&(r=!0),r&&t.push(n)}),t}checkGoalRelevance(e){let t=0;const n=(e.content||"").toLowerCase();return this.goals.forEach(e=>{"generate_leads"===e.id&&(n.includes("funding")||n.includes("expansion"))&&(t+=.3),"media_coverage"===e.id&&(n.includes("journalist")||n.includes("reporter"))&&(t+=.3)}),Math.min(1,t)}async findCompetitorWeaknesses(){const e=[];for(const t of this.companyProfile.competitors){this.monitoringData.filter(e=>{var n;return e.stakeholder===t&&"negative"===(null===(n=e.sentiment)||void 0===n?void 0:n.sentiment)}).length>0&&e.push({type:"competitive_advantage",topic:"".concat(t," facing challenges"),score:75,matchedGoals:this.goals,explanation:"".concat(t," is experiencing negative coverage - opportunity to position as alternative"),source:"competitive_analysis",discoveredAt:(new Date).toISOString()})}return e}async findTrendingOpportunities(){return[{topic:"AI regulation",score:85},{topic:"remote work future",score:70},{topic:"sustainability initiatives",score:75}].map(e=>({type:"trending",topic:e.topic,score:e.score,matchedGoals:this.matchOpportunityToGoals({topic:e.topic}),explanation:"Trending topic with high media interest",source:"trend_analysis",discoveredAt:(new Date).toISOString()}))}getState(){const e={companyProfile:this.companyProfile,goals:this.goals,stakeholders:this.stakeholders,sources:this.sources,monitoringData:this.monitoringData,opportunities:this.opportunities,monitoringTopics:this.monitoringTopics,isInitialized:this.isInitialized};return console.log("UnifiedService - getState called, returning:",{hasCompanyProfile:!!e.companyProfile,stakeholderCount:e.stakeholders.length,sourceCount:e.sources.length,isInitialized:e.isInitialized}),e}async runCompletePipeline(e){console.log("Starting unified intelligence pipeline..."),await this.initializeCompany(e),console.log("\u2713 Company profile created"),await this.identifyStakeholders(),console.log("\u2713 ".concat(this.stakeholders.length," stakeholders identified")),await this.configureSources(),console.log("\u2713 ".concat(this.sources.length," source groups configured")),await this.startMonitoring(),console.log("\u2713 ".concat(this.monitoringData.length," findings collected"));const t=await this.discoverOpportunities();return console.log("\u2713 ".concat(t.length," opportunities discovered")),{success:!0,summary:{stakeholders:this.stakeholders.length,sources:this.sources.reduce((e,t)=>e+t.sources.length,0),findings:this.monitoringData.length,opportunities:t.length},opportunities:t.slice(0,10),state:this.getState()}}};console.log("\ud83d\ude80 SUPABASE-ONLY MODE ACTIVE"),console.log("\u2705 Using Supabase URL:","https://zskaxjtyuaqazydouifp.supabase.co"),console.log("\ud83d\udd12 No backend server required"),console.log("\u26a1 All APIs handled by Supabase Edge Functions"),console.log("\ud83d\udcc5 Build time:",(new Date).toISOString());Object.freeze("");console.log("\u2705 API Service initialized with FORCE URL:","");new class{constructor(){this.updateToken(),this.apiUrl="",console.log("API Service using URL:",this.apiUrl)}updateToken(){return this.token=localStorage.getItem("token"),this.token}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.apiUrl).concat(e);console.log("API Request URL:",n),this.updateToken();const r=h(h({},t),{},{headers:h(h({"Content-Type":"application/json"},this.token&&{Authorization:"Bearer ".concat(this.token)}),t.headers)});t.body&&"object"===typeof t.body&&(r.body=JSON.stringify(t.body)),console.log("API Request:",r.method||"GET",n),console.log("Request body:",r.body);try{const e=await fetch(n,r);if(!e.ok)throw console.error("API error at ".concat(n,":"),e.status),new Error("API error: ".concat(e.status));return await e.json()}catch(lc){throw console.error("API request failed:",lc),console.error("Failed URL:",n),lc}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,h(h({},t),{},{method:"GET"}))}async post(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,h(h({},n),{},{method:"POST",body:t}))}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request(e,h(h({},n),{},{method:"PUT",body:t}))}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request(e,h(h({},t),{},{method:"DELETE"}))}async analyzeIntelligence(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mixed";return this.request("/intelligence/analyze",{method:"POST",body:{query:e,organizationId:t,targetType:n}})}async clarifyQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.request("/intelligence/clarify",{method:"POST",body:{query:e,answers:t,projectId:n}})}async getProject(e){return this.request("/intelligence/projects/".concat(e))}async getOrganizationProjects(e){return this.request("/intelligence/organizations/".concat(e,"/projects"))}async createTarget(e){return this.request("/intelligence/targets",{method:"POST",body:e})}async getOrganizationTargets(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return this.request("/intelligence/organizations/".concat(e,"/targets?").concat(t))}async updateTarget(e,t){return this.request("/intelligence/targets/".concat(e),{method:"PUT",body:t})}async deleteTarget(e){return this.request("/intelligence/targets/".concat(e),{method:"DELETE"})}async getFindings(){const e=new URLSearchParams(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).toString();return this.request("/intelligence/findings?".concat(e))}async getFinding(e){return this.request("/intelligence/findings/".concat(e))}async createFinding(e){return this.request("/intelligence/findings",{method:"POST",body:e})}async getOpportunities(e){const t=new URLSearchParams(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).toString();return this.request("/opportunities/organization/".concat(e,"?").concat(t))}async getOpportunity(e){return this.request("/opportunities/".concat(e))}async updateOpportunityStatus(e,t){return this.request("/opportunities/".concat(e,"/status"),{method:"PATCH",body:{status:t}})}async identifyOpportunities(e){return this.request("/opportunities/identify",{method:"POST",body:{organizationId:e}})}async startMonitoring(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.request("/intelligence/monitor/start",{method:"POST",body:{organizationId:e,targetIds:t}})}async stopMonitoring(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.request("/intelligence/monitor/stop",{method:"POST",body:{organizationId:e,targetIds:t}})}async getMonitoringStatus(e){return this.request("/intelligence/monitor/status/".concat(e))}async getMonitoringMetrics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return this.request("/monitoring/metrics/".concat(e,"?days=").concat(t))}async triggerMonitoring(e){return this.request("/intelligence/monitor/trigger",{method:"POST",body:{organizationId:e}})}async analyzeCompetitor(e){return this.request("/intelligence/analysis/competitor",{method:"POST",body:e})}async analyzeTopic(e){return this.request("/intelligence/analysis/topic",{method:"POST",body:e})}async getOverviewAnalysis(e){return this.request("/intelligence/analysis/overview/".concat(e))}async getTargetSources(e){return this.request("/intelligence/targets/".concat(e,"/sources"))}async addTargetSource(e,t){return this.request("/intelligence/targets/".concat(e,"/sources"),{method:"POST",body:t})}async updateTargetSource(e,t){return this.request("/intelligence/sources/".concat(e),{method:"PUT",body:t})}async deleteTargetSource(e){return this.request("/intelligence/sources/".concat(e),{method:"DELETE"})}async discoverSourcesForTarget(e){return this.request("/intelligence/targets/".concat(e,"/discover-sources"),{method:"POST"})}async testSource(e){return this.request("/intelligence/sources/test",{method:"POST",body:e})}async bulkAddTargetSources(e,t){return this.request("/intelligence/targets/".concat(e,"/sources/bulk"),{method:"POST",body:{sources:t}})}async getOrganizations(){return this.request("/organizations")}async getOrganization(e){return this.request("/organizations/".concat(e))}async createOrganization(e){return this.request("/organizations",{method:"POST",body:e})}async updateOrganization(e,t){return this.request("/organizations/".concat(e),{method:"PUT",body:t})}async deleteOrganization(e){return this.request("/organizations/".concat(e),{method:"DELETE"})}connectToRealtime(e,t){return console.log("Mock real-time connection for organization:",e),setTimeout(()=>{t.onConnect&&t.onConnect()},100),{close:()=>{console.log("Closing mock real-time connection")}}}async analyzeCompetitor(e){return this.request("/intelligence/analysis/competitor",{method:"POST",body:e})}async analyzeTopic(e){return this.request("/intelligence/analysis/topic",{method:"POST",body:e})}async getUnifiedIntelligence(e){return this.request("/intelligence/analysis/unified/".concat(e))}async getTopicMomentum(e){return this.request("/intelligence/analysis/topic-momentum/".concat(e))}async analyzeOpportunityPosition(e){return this.request("/opportunity/analyze-position",{method:"POST",body:e})}};const kl=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},_l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Sl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jl=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Nl=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:u}=e,d=o(e,jl);return(0,i.createElement)("svg",h(h(h({ref:t},Sl),{},{width:r,height:r,stroke:n,strokeWidth:s?24*Number(a)/Number(r):a,className:_l("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...u.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),El=["className"],Cl=(e,t)=>{const n=(0,i.forwardRef)((n,r)=>{let{className:a}=n,s=o(n,El);return(0,i.createElement)(Nl,h({ref:r,iconNode:t,className:_l("lucide-".concat((l=kl(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},s));var l});return n.displayName=kl(e),n},Pl=Cl("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Tl=Cl("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Il=Cl("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ol=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),{login:c,user:u}=Ci(),d=ve();(0,i.useEffect)(()=>{u&&d("/dashboard")},[u,d]);return(0,Ni.jsx)("div",{className:"login-container",children:(0,Ni.jsxs)("div",{className:"login-card",children:[(0,Ni.jsxs)("div",{className:"login-header",children:[(0,Ni.jsx)("h1",{className:"login-title",children:"SignalDesk"}),(0,Ni.jsx)("p",{className:"login-subtitle",children:"AI-Powered PR Platform"})]}),(0,Ni.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(""),l(!0);const r=await c(e,n);r.success||s(r.error||"Login failed. Please try again."),l(!1)},className:"login-form",children:[a&&(0,Ni.jsxs)("div",{className:"error-message",children:[(0,Ni.jsx)(Pl,{size:16}),(0,Ni.jsx)("span",{children:a})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Ni.jsxs)("div",{className:"input-group",children:[(0,Ni.jsx)(Tl,{size:20,className:"input-icon"}),(0,Ni.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email",required:!0,autoComplete:"email",disabled:o})]})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Ni.jsxs)("div",{className:"input-group",children:[(0,Ni.jsx)(Il,{size:20,className:"input-icon"}),(0,Ni.jsx)("input",{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"Enter your password",required:!0,autoComplete:"current-password",disabled:o})]})]}),(0,Ni.jsx)("button",{type:"submit",className:"login-button",disabled:o,children:o?"Signing in...":"Sign In"}),(0,Ni.jsxs)("div",{className:"demo-credentials",children:[(0,Ni.jsx)("p",{children:"Demo credentials:"}),(0,Ni.jsx)("code",{children:"demo@signaldesk.com / password"})]})]})]})})};Cl("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Cl("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Cl("file-search",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]),Cl("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);new class{constructor(){this.chatMessages=[],this.workItems=new Map,this.activeWorkspaceId=null,this.subscribers={chat:new Set,workItems:new Set,workspace:new Set},this.debug=!0}addChatMessage(e){this.chatMessages.push(h({id:Date.now(),timestamp:new Date},e)),this.log("Chat message added:",e),this.notify("chat",{type:"message_added",message:e})}getChatMessages(){return[...this.chatMessages]}addWorkItem(e){const t=e.id||"work_".concat(Date.now(),"_").concat(Math.random()),n=h(h({id:t,timestamp:new Date,status:"ready"},e),{},{generatedContent:e.generatedContent||e.content});return this.workItems.set(t,n),this.log("Work item added:",n),this.notify("workItems",{type:"item_added",item:n}),t}getWorkItems(){return Array.from(this.workItems.values())}getWorkItem(e){return this.workItems.get(e)}openWorkspace(e){const t=this.workItems.get(e);return t?(this.activeWorkspaceId=e,this.log("Opening workspace for:",t),this.notify("workspace",{type:"workspace_opened",workItem:t}),!0):(console.error("Work item not found:",e),!1)}closeWorkspace(){this.activeWorkspaceId=null,this.notify("workspace",{type:"workspace_closed"})}getActiveWorkspace(){return this.activeWorkspaceId?this.workItems.get(this.activeWorkspaceId):null}handleNivResponse(e){this.log("Handling Niv response:",e),e.response&&this.addChatMessage({type:"assistant",content:e.response});let t=[];if(e.workItems&&Array.isArray(e.workItems)?t=e.workItems:e.artifacts&&Array.isArray(e.artifacts)?t=e.artifacts:e.workCards&&Array.isArray(e.workCards)?t=e.workCards:e.type&&e.generatedContent&&(t=[{type:e.type,title:e.title,description:e.description,generatedContent:e.generatedContent}]),t.length>0){const e=[];return t.forEach(t=>{var n,r;let i=t.generatedContent||t.content||t.data;t.data&&t.data.generatedContent&&(i=t.data.generatedContent);const a={type:t.type||"content-draft",title:t.title||(null===(n=t.data)||void 0===n?void 0:n.title)||this.getTitleForType(t.type),description:t.description||(null===(r=t.data)||void 0===r?void 0:r.description)||"",generatedContent:i,metadata:h({source:"niv",generatedAt:new Date},t.metadata)},s=this.addWorkItem(a);e.push(s)}),this.notify("chat",{type:"work_items_created",ids:e,count:e.length}),{messageAdded:!0,workItemsCreated:e.length}}return{messageAdded:!0,workItemsCreated:0}}subscribe(e,t){return this.subscribers[e]?(this.subscribers[e].add(t),()=>{this.subscribers[e].delete(t)}):(console.error("Invalid channel:",e),null)}notify(e,t){this.subscribers[e]&&this.subscribers[e].forEach(e=>{try{e(t)}catch(lc){console.error("Subscriber error:",lc)}})}getTitleForType(e){return{"media-list":"Media List","content-draft":"Press Release","strategy-plan":"Strategic Plan","key-messaging":"Key Messaging","social-content":"Social Media Content","faq-document":"FAQ Document"}[e]||"Generated Content"}log(){if(this.debug){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("[NivStateManager]",...t)}}reset(){this.chatMessages=[],this.workItems.clear(),this.activeWorkspaceId=null,this.notify("chat",{type:"reset"}),this.notify("workItems",{type:"reset"}),this.notify("workspace",{type:"reset"})}exportState(){return{chatMessages:this.chatMessages,workItems:Array.from(this.workItems.entries()),activeWorkspaceId:this.activeWorkspaceId,timestamp:new Date}}};new class{constructor(){this.claudeApiKey={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://zskaxjtyuaqazydouifp.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",REACT_APP_API_URL:"",REACT_APP_BACKEND_URL:"https://backend-orchestrator.vercel.app",REACT_APP_MCP_BRIDGE_ENABLED:"true",REACT_APP_ENV:"production",REACT_APP_DEBUG:"false"}.REACT_APP_CLAUDE_API_KEY||localStorage.getItem("claude_api_key"),this.openaiApiKey={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://zskaxjtyuaqazydouifp.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",REACT_APP_API_URL:"",REACT_APP_BACKEND_URL:"https://backend-orchestrator.vercel.app",REACT_APP_MCP_BRIDGE_ENABLED:"true",REACT_APP_ENV:"production",REACT_APP_DEBUG:"false"}.REACT_APP_OPENAI_API_KEY||localStorage.getItem("openai_api_key"),this.sessionId=this.generateSessionId()}generateSessionId(){return"session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}async callClaude(e,t){if(!this.claudeApiKey)throw new Error("Claude API key not configured. Please add it in settings.");const n=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.claudeApiKey,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:4e3,temperature:.7,system:t,messages:e.map(e=>({role:"user"===e.role?"user":"assistant",content:e.content}))})});if(!n.ok){const e=await n.text();throw new Error("Claude API error: ".concat(n.status," - ").concat(e))}return(await n.json()).content[0].text}async callOpenAI(e,t){if(!this.openaiApiKey)throw new Error("OpenAI API key not configured");const n=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.openaiApiKey)},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:t},...e],temperature:.7,max_tokens:4e3})});if(!n.ok){const e=await n.text();throw new Error("OpenAI API error: ".concat(n.status," - ").concat(e))}return(await n.json()).choices[0].message.content}async processMessage(e,t){const n="You are Niv, SignalDesk's elite AI PR strategist. Your mission is to transform how organizations approach public relations through strategic insights and tactical excellence.\n    \n    When users request specific PR materials (media lists, press releases, strategic plans, social content, key messaging, FAQs), you should:\n    1. First gather context through 2-3 consultative questions if needed\n    2. Then generate comprehensive, professional-quality content\n    3. Structure your responses clearly with headers and bullet points\n    \n    Be conversational yet professional. You're not just an advisor - you're a strategic partner helping organizations achieve PR excellence.",r=[...t,{role:"user",content:e}];try{const t=await this.callClaude(r,n),i=this.detectArtifact(e,t);return await this.saveConversation(e,t,i),{chatMessage:i?this.getArtifactSummary(i):t,artifact:i}}catch(i){console.warn("Claude API failed, trying OpenAI:",i);try{const t=await this.callOpenAI(r,n),i=this.detectArtifact(e,t);return await this.saveConversation(e,t,i),{chatMessage:i?this.getArtifactSummary(i):t,artifact:i}}catch(a){throw console.error("Both APIs failed:",a),new Error("Unable to process request. Please check API keys in settings.")}}}detectArtifact(e,t){const n=e.toLowerCase(),r={"media-list":["media list","journalist list","reporter list"],"press-release":["press release","announcement"],"strategic-plan":["strategic plan","pr strategy","campaign"],"social-content":["social media","social posts","twitter"],"key-messaging":["key messages","messaging","talking points"],"faq-document":["faq","frequently asked questions"]};for(const[i,a]of Object.entries(r))for(const e of a)if(n.includes(e)&&t.length>500)return{id:"artifact_".concat(Date.now()),type:i,title:this.generateTitle(i),content:this.parseContent(t),created:(new Date).toISOString()};return null}generateTitle(e){return{"media-list":"Media List - Strategic Outreach","press-release":"Press Release","strategic-plan":"PR Strategic Plan","social-content":"Social Media Content","key-messaging":"Key Messaging Framework","faq-document":"FAQ Document"}[e]||"PR Content"}parseContent(e){return{raw:e,sections:e.split("\n\n").filter(e=>e.trim()),formatted:e}}getArtifactSummary(e){return{"media-list":"I've created a comprehensive media list for your outreach. You can view and edit it in the right panel.","press-release":"I've drafted a press release for your announcement. It's available in the right panel for review.","strategic-plan":"I've developed a strategic PR plan for your campaign. You can access it in the right panel.","social-content":"I've created social media content for your campaign. The posts are available in the right panel.","key-messaging":"I've developed your key messaging framework. It's ready for review in the right panel.","faq-document":"I've prepared an FAQ document. You can access it in the right panel."}[e.type]||"I've created content for you. It's available in the right panel."}async saveConversation(e,t,n){try{await Si.from("niv_conversations").insert({session_id:this.sessionId,role:"user",content:e,artifact_id:null});const{data:r}=await Si.from("niv_conversations").insert({session_id:this.sessionId,role:"assistant",content:t,artifact_id:null===n||void 0===n?void 0:n.id}).select().single();return n&&await Si.from("niv_artifacts").insert({id:n.id,session_id:this.sessionId,type:n.type,title:n.title,content:n.content,status:"draft"}),r}catch(lc){console.error("Failed to save to database:",lc)}}async loadConversationHistory(e){try{const{data:t,error:n}=await Si.from("niv_conversations").select("*").eq("session_id",e||this.sessionId).order("created_at",{ascending:!0});if(n)throw n;return t.map(e=>({role:e.role,content:e.content}))}catch(lc){return console.error("Failed to load history:",lc),[]}}async loadArtifacts(e){try{const{data:t,error:n}=await Si.from("niv_artifacts").select("*").eq("session_id",e||this.sessionId).order("created_at",{ascending:!1});if(n)throw n;return t}catch(lc){return console.error("Failed to load artifacts:",lc),[]}}async updateArtifact(e,t){try{const{data:n,error:r}=await Si.from("niv_artifacts").update({content:t.content,title:t.title,updated_at:(new Date).toISOString()}).eq("id",e).select().single();if(r)throw r;return n}catch(lc){throw console.error("Failed to update artifact:",lc),lc}}};const Al=new class{constructor(){var e,t;this.supabaseUrl="https://zskaxjtyuaqazydouifp.supabase.co",this.supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",console.log("\ud83d\udd27 V3 Orchestrator initialized:",{url:this.supabaseUrl,hasKey:!!this.supabaseKey,keyLength:null===(e=this.supabaseKey)||void 0===e?void 0:e.length,keyPreview:(null===(t=this.supabaseKey)||void 0===t?void 0:t.substring(0,20))+"..."})}async orchestrate(e){console.log("\ud83d\ude80 V3 Orchestration starting for ".concat(e.name));try{var t,n,r,i,a,s,o,l,c,u,d,p,m,f,g,v,y,b,w,x,k;console.log("\ud83d\udd0d Phase 1: Discovery - Identifying entities to monitor"),console.log("\ud83d\udce1 Discovery Request:",{url:"".concat(this.supabaseUrl,"/functions/v1/intelligence-discovery-v3"),organization:e,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.supabaseKey.substring(0,20),"...")}});const S=await fetch("".concat(this.supabaseUrl,"/functions/v1/intelligence-discovery-v3"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.supabaseKey)},body:JSON.stringify({organization:e})});if(console.log("\ud83d\udce1 Discovery Response Status:",S.status),!S.ok){const e=await S.text();throw console.error("\u274c Discovery Error Response:",e),new Error("Discovery failed: ".concat(S.status," - ").concat(e))}const j=await S.json();if(console.log("\ud83d\udce1 Discovery Data:",j),!j.success)throw new Error(j.error||"Discovery failed");console.log("\u2705 Discovery complete:",{total_entities:(null===(t=j.statistics)||void 0===t?void 0:t.total_entities)||0,total_topics:(null===(n=j.statistics)||void 0===n?void 0:n.total_topics)||0}),console.log("\ud83d\udce1 Phase 2: Gathering - Tracking entity actions and trends"),console.log("\ud83d\udce1 Gathering Request:",{url:"".concat(this.supabaseUrl,"/functions/v1/intelligence-gathering-v3"),discovery:j.discovery,organization:e});const N=await fetch("".concat(this.supabaseUrl,"/functions/v1/intelligence-gathering-v3"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.supabaseKey)},body:JSON.stringify({discovery:j.discovery,organization:e})});if(console.log("\ud83d\udce1 Gathering Response Status:",N.status),!N.ok){const e=await N.text();throw console.error("\u274c Gathering Error Response:",e),new Error("Gathering failed: ".concat(N.status," - ").concat(e))}const E=await N.json();if(console.log("\ud83d\udce1 Gathering Data:",E),console.log("\ud83d\udcca Intelligence to synthesize:",{entity_actions_count:(null===(r=E.intelligence)||void 0===r||null===(i=r.entity_actions)||void 0===i||null===(a=i.all)||void 0===a?void 0:a.length)||0,topic_trends_count:(null===(s=E.intelligence)||void 0===s||null===(o=s.topic_trends)||void 0===o||null===(l=o.all)||void 0===l?void 0:l.length)||0,has_data:!!(null!==(c=E.intelligence)&&void 0!==c&&null!==(u=c.entity_actions)&&void 0!==u&&null!==(d=u.all)&&void 0!==d&&d.length||null!==(p=E.intelligence)&&void 0!==p&&null!==(m=p.topic_trends)&&void 0!==m&&null!==(f=m.all)&&void 0!==f&&f.length)}),!E.success)throw new Error(E.error||"Gathering failed");console.log("\u2705 Gathering complete:",{actions_captured:(null===(g=E.statistics)||void 0===g?void 0:g.actions_captured)||0,topics_monitored:(null===(v=E.statistics)||void 0===v?void 0:v.topics_monitored)||0,critical_items:(null===(y=E.statistics)||void 0===y?void 0:y.critical_items)||0}),console.log("\ud83e\udde0 Phase 3: Synthesis - Analyzing intelligence with Claude 4"),console.log("\ud83d\udce1 Synthesis Request:",{url:"".concat(this.supabaseUrl,"/functions/v1/intelligence-synthesis-v3"),intelligence:E.intelligence,organization:e});const C=await fetch("".concat(this.supabaseUrl,"/functions/v1/intelligence-synthesis-v3"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.supabaseKey)},body:JSON.stringify({intelligence:E.intelligence,organization:e})});if(console.log("\ud83d\udce1 Synthesis Response Status:",C.status),!C.ok){const e=await C.text();throw console.error("\u274c Synthesis Error Response:",e),new Error("Synthesis failed: ".concat(C.status," - ").concat(e))}const P=await C.json();var _;if(console.log("\ud83d\udce1 Synthesis Data:",P),console.log("\ud83c\udfaf Synthesis Tabs:",P.tabs?Object.keys(P.tabs):"No tabs"),P.tabs)if(P.tabs.executive&&console.log("\ud83d\udcca Executive tab sample:",{headline:P.tabs.executive.headline,has_highlights:!!P.tabs.executive.competitive_highlight}),P.tabs.competitive)console.log("\ud83c\udfaf Competitive tab sample:",{actions_count:(null===(_=P.tabs.competitive.competitor_actions)||void 0===_?void 0:_.length)||0});if(!P.success)throw new Error(P.error||"Synthesis failed");return console.log("\u2705 Synthesis complete:",{has_immediate_actions:(null===(b=P.tabs)||void 0===b||null===(w=b.executive)||void 0===w||null===(x=w.immediate_actions)||void 0===x?void 0:x.length)>0,alert_count:(null===(k=P.alerts)||void 0===k?void 0:k.length)||0,tabs:Object.keys(P.tabs||{})}),h(h({success:!0},P),{},{metadata:{organization:e.name,timestamp:(new Date).toISOString(),pipeline_version:"v3",phases_completed:{discovery:!0,gathering:!0,synthesis:!0}}})}catch(lc){return console.error("\u274c V3 Orchestration error:",lc),console.error("Error Stack:",lc.stack),console.error("Error Details:",{message:lc.message,supabaseUrl:this.supabaseUrl,hasKey:!!this.supabaseKey,organization:e}),{success:!1,error:lc.message,tabs:{executive:{headline:"Intelligence gathering failed",overview:lc.message,competitive_highlight:"No data available",market_highlight:"No data available",regulatory_highlight:"No data available",media_highlight:"No data available",immediate_actions:[]},competitive:{competitor_actions:[],competitive_implications:[],pr_strategy:"",key_messages:[],do_not_say:[]},market:{market_trends:[],opportunities:[],market_implications:[],market_narrative:"",thought_leadership:[]},regulatory:{regulatory_developments:[],compliance_requirements:[],regulatory_stance:"",stakeholder_messages:[]},media:{media_coverage:[],social_trends:[],reputation_impact:"",sentiment_trend:"",narrative_risks:[],media_strategy:"",media_outreach:[],social_response:""},forward:{predictions:[],preparation_needed:[],proactive_strategy:"",prepared_statements:[]}},alerts:[],statistics:{entities_tracked:0,actions_captured:0,topics_monitored:0,critical_items:0}}}}},Rl=()=>{const e=localStorage.getItem("signaldesk_unified_profile");if(e)try{var t;const n=JSON.parse(e);if(null!==(t=n.organization)&&void 0!==t&&t.name)return n.organization}catch(oc){console.warn("Error parsing unified profile:",oc)}const n=localStorage.getItem("signaldesk_organization");if(n)try{const e=JSON.parse(n);if(e.name)return e}catch(oc){console.warn("Error parsing organization:",oc)}const r=localStorage.getItem("signaldesk_onboarding");if(r)try{var i;const e=JSON.parse(r);if(null!==(i=e.organization)&&void 0!==i&&i.name)return e.organization}catch(oc){console.warn("Error parsing onboarding data:",oc)}return console.warn("No organization data found in localStorage"),null},zl=e=>{let{size:t=24,color:n="#00ffcc"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:n,strokeWidth:"2",opacity:"0.3"}),(0,Ni.jsx)("circle",{cx:"12",cy:"12",r:"6",stroke:n,strokeWidth:"2",opacity:"0.6"}),(0,Ni.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:n}),(0,Ni.jsx)("path",{d:"M12 2v4M12 18v4M2 12h4M18 12h4",stroke:n,strokeWidth:"2",strokeLinecap:"round"}),(0,Ni.jsxs)("filter",{id:"glow",children:[(0,Ni.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,Ni.jsxs)("feMerge",{children:[(0,Ni.jsx)("feMergeNode",{in:"coloredBlur"}),(0,Ni.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]})},Ml=e=>{let{size:t=24,color:n="#ff00ff"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("path",{d:"M12 2L15 9L22 10L17 15L18 22L12 18L6 22L7 15L2 10L9 9L12 2Z",stroke:n,strokeWidth:"2",fill:"none",opacity:"0.8"}),(0,Ni.jsx)("path",{d:"M12 2L15 9L22 10L17 15L18 22L12 18L6 22L7 15L2 10L9 9L12 2Z",fill:n,opacity:"0.2"})]})},Ll=e=>{let{size:t=24,color:n="#00ff88"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("path",{d:"M4 12L4 8C4 6 6 4 8 4H16C18 4 20 6 20 8V12",stroke:n,strokeWidth:"2",opacity:"0.6"}),(0,Ni.jsx)("path",{d:"M7 12L12 17L17 12",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ni.jsx)("path",{d:"M12 17V22",stroke:n,strokeWidth:"2",strokeLinecap:"round"}),(0,Ni.jsx)("circle",{cx:"12",cy:"22",r:"2",fill:n})]})},Dl=e=>{let{size:t=24,color:n="#8800ff"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",stroke:n,strokeWidth:"2",opacity:"0.4"}),(0,Ni.jsx)("rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",stroke:n,strokeWidth:"2",opacity:"0.6"}),(0,Ni.jsx)("rect",{x:"10",y:"10",width:"4",height:"4",rx:"0.5",fill:n}),(0,Ni.jsx)("path",{d:"M2 8h2M2 12h2M2 16h2M20 8h2M20 12h2M20 16h2",stroke:n,strokeWidth:"2",strokeLinecap:"round",opacity:"0.5"}),(0,Ni.jsx)("path",{d:"M8 2v2M12 2v2M16 2v2M8 20v2M12 20v2M16 20v2",stroke:n,strokeWidth:"2",strokeLinecap:"round",opacity:"0.5"})]})},Fl=e=>{let{size:t=24,color:n="#00ff88",spinning:r=!1}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r?"spinning":"",style:r?{animation:"spin 1s linear infinite"}:{},children:[(0,Ni.jsx)("path",{d:"M21 12a9 9 0 01-9 9 9 9 0 01-9-9 9 9 0 019-9c2.52 0 4.8 1.03 6.44 2.7L21 8",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ni.jsx)("path",{d:"M21 3v5h-5",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Ul=e=>{let{size:t=24,color:n="#00ffcc"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:n,strokeWidth:"2"}),(0,Ni.jsx)("path",{d:"M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24",stroke:n,strokeWidth:"2",strokeLinecap:"round",opacity:"0.6"})]})},Bl=e=>{let{size:t=24,color:n="#00ff88"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("path",{d:"M12 2L8 10H16L12 2Z",fill:n,opacity:"0.8"}),(0,Ni.jsx)("rect",{x:"10",y:"10",width:"4",height:"8",fill:n,opacity:"0.6"}),(0,Ni.jsx)("path",{d:"M8 14L6 20L10 18",fill:n,opacity:"0.5"}),(0,Ni.jsx)("path",{d:"M16 14L18 20L14 18",fill:n,opacity:"0.5"}),(0,Ni.jsx)("circle",{cx:"12",cy:"14",r:"1",fill:"white"})]})},ql=e=>{let{size:t=24,color:n="#00ffcc"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:n,strokeWidth:"2",opacity:"0.3"}),(0,Ni.jsx)("circle",{cx:"12",cy:"12",r:"6",stroke:n,strokeWidth:"2",opacity:"0.5"}),(0,Ni.jsx)("circle",{cx:"12",cy:"12",r:"2",fill:n}),(0,Ni.jsx)("path",{d:"M12 2v2M12 20v2M2 12h2M20 12h2",stroke:n,strokeWidth:"2",strokeLinecap:"round"})]})},Wl=e=>{let{size:t=24,color:n="#00ffcc"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("path",{d:"M3 17l6-6 4 4 8-8",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ni.jsx)("path",{d:"M14 7h7v7",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},Hl=e=>{let{size:t=24,color:n="#ff0064"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("path",{d:"M12 2L2 20h20L12 2z",stroke:n,strokeWidth:"2",fill:n,fillOpacity:"0.1"}),(0,Ni.jsx)("path",{d:"M12 9v4M12 17h.01",stroke:n,strokeWidth:"2",strokeLinecap:"round"})]})},Jl=e=>{let{size:t=24,color:n="#00ffcc"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("rect",{x:"3",y:"12",width:"4",height:"9",fill:n,opacity:"0.6"}),(0,Ni.jsx)("rect",{x:"10",y:"8",width:"4",height:"13",fill:n,opacity:"0.8"}),(0,Ni.jsx)("rect",{x:"17",y:"3",width:"4",height:"18",fill:n})]})},Vl=e=>{let{size:t=24,color:n="#ff00ff"}=e;return(0,Ni.jsxs)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ni.jsx)("rect",{x:"4",y:"2",width:"16",height:"20",stroke:n,strokeWidth:"2",fill:n,fillOpacity:"0.05"}),(0,Ni.jsx)("rect",{x:"8",y:"6",width:"3",height:"3",fill:n,opacity:"0.6"}),(0,Ni.jsx)("rect",{x:"13",y:"6",width:"3",height:"3",fill:n,opacity:"0.6"}),(0,Ni.jsx)("rect",{x:"8",y:"11",width:"3",height:"3",fill:n,opacity:"0.6"}),(0,Ni.jsx)("rect",{x:"13",y:"11",width:"3",height:"3",fill:n,opacity:"0.6"}),(0,Ni.jsx)("rect",{x:"9",y:"18",width:"6",height:"4",stroke:n,strokeWidth:"2"})]})},Gl=e=>{var t,n,r,a;let{organization:s,refreshTrigger:o=0,onIntelligenceUpdate:l}=e;const[c,u]=(0,i.useState)(!1),[d,p]=(0,i.useState)(""),[m,f]=(0,i.useState)(0),[g,v]=(0,i.useState)({gathering:0,analysis:0,synthesis:0,preparing:0}),[y,b]=(0,i.useState)(null),[w,x]=(0,i.useState)("executive"),[k,_]=(0,i.useState)(null);(0,i.useEffect)(()=>{console.log("\ud83d\ude80 IntelligenceDisplayV3 mounted at:",(new Date).toISOString()),console.log("\ud83d\udcca Initial organization:",s)},[]),(0,i.useEffect)(()=>{console.log("\ud83d\udcca V3 useEffect triggered:",{organization:s,refreshTrigger:o,hasOrgName:!(null===s||void 0===s||!s.name)});const e=localStorage.getItem("signaldesk_intelligence_cache");if(e&&0===o)try{const t=JSON.parse(e);if(t.data&&t.organizationName===(null===s||void 0===s?void 0:s.name))return console.log("\ud83d\udce6 Using cached intelligence for:",null===s||void 0===s?void 0:s.name),console.log("\ud83d\udd50 Cached at:",new Date(t.timestamp).toLocaleString()),b(t.data),l&&t.data&&l(t.data),void u(!1)}catch(oc){console.log("Cache parse error:",oc)}if(null!==s&&void 0!==s&&s.name){const e="true"===localStorage.getItem("signaldesk_just_onboarded");(e||!y||o>0)&&(console.log("\ud83d\ude80 Auto-fetching intelligence for:",s.name),console.log("\ud83d\udccd Reason:",e?"Just onboarded":o>0?"Manual refresh":"No intelligence yet"),e&&localStorage.removeItem("signaldesk_just_onboarded"),S())}},[s,o]);const S=async()=>{var e;console.log("\ud83d\udd0d V3 fetchIntelligence called, organization:",s);let t=s;var n;if((null===(e=t)||void 0===e||!e.name)&&(console.log("\u26a0\ufe0f No organization provided, using unified data loader..."),t=Rl(),console.log("\ud83d\udce6 Unified organization loaded:",t),null===(n=t)||void 0===n||!n.name))return void console.log("\u274c No organization found in any storage location");u(!0),_(null),p("Gathering"),f(0),v({gathering:0,analysis:0,synthesis:0,preparing:0}),console.log("\ud83d\ude80 Starting V3 orchestration with:",t);let r=0;const i={gathering:{start:0,end:8e3},analysis:{start:4e3,end:14e3},synthesis:{start:1e4,end:2e4},preparing:{start:16e3,end:24e3}},a=setInterval(()=>{r+=100,f(Math.min(95,r/24e3*100)),v(e=>{const t=h({},e);return Object.keys(i).forEach(e=>{const n=i[e];if(r>=n.start&&r<=n.end){const i=r-n.start,a=n.end-n.start;t[e]=Math.min(100,i/a*100)}else r>n.end&&(t[e]=100)}),t}),p(r<6e3?"Gathering Intelligence":r<12e3?"Analyzing Patterns":r<18e3?"Synthesizing Insights":"Preparing Report"),r>=24e3&&clearInterval(a)},100);try{const e=await Al.orchestrate(t);if(clearInterval(a),f(100),v({gathering:100,analysis:100,synthesis:100,preparing:100}),console.log("\ud83d\udce6 V3 Orchestration result:",{success:e.success,hasTabsData:!!e.tabs,tabKeys:e.tabs?Object.keys(e.tabs):[],error:e.error}),console.log("\ud83d\udcca ALL Tab Data:",e.tabs),e.tabs&&Object.keys(e.tabs).forEach(t=>{console.log("\ud83d\udccc Tab [".concat(t,"]:"),e.tabs[t])}),e.success){var o;b(e);try{var c,d;localStorage.setItem("signaldesk_intelligence_cache",JSON.stringify({data:e,organizationName:null===(c=t)||void 0===c?void 0:c.name,timestamp:Date.now()})),console.log("\ud83d\udcbe Cached intelligence for:",null===(d=t)||void 0===d?void 0:d.name)}catch(oc){console.error("Error caching intelligence:",oc)}l&&e&&l(e),null!==(o=e.tabs)&&void 0!==o&&o[w]||(console.log("\ud83d\udd04 Switching to executive tab"),x("executive"))}else console.error("\u274c Orchestration failed:",e.error),_(e.error)}catch(m){console.error("\u274c V3 fetchIntelligence error:",m),console.error("Error details:",{message:m.message,stack:m.stack,organization:t}),clearInterval(a),_(m.message)}finally{u(!1)}},j=[{id:"executive",name:"Executive",Icon:Bl,color:"#ff00ff"},{id:"positioning",name:"Your Position",Icon:ql,color:"#00ffcc"},{id:"between",name:"Between Lines",Icon:Wl,color:"#00ff88"},{id:"thought",name:"Thought Leaders",Icon:Jl,color:"#ffcc00"},{id:"regulatory",name:"Regulatory",Icon:Hl,color:"#ff6600"},{id:"forward",name:"Forward Look",Icon:Vl,color:"#8800ff"}];return c?(0,Ni.jsx)("div",{className:"intelligence-display-v3 loading",children:(0,Ni.jsxs)("div",{className:"intelligence-loading-container",children:[(0,Ni.jsxs)("div",{className:"intelligence-header",children:[(0,Ni.jsx)("h2",{className:"intelligence-title",children:"INTELLIGENCE PROCESSING"}),(0,Ni.jsx)("div",{className:"current-phase",children:d.toUpperCase()})]}),(0,Ni.jsxs)("div",{className:"phase-progress-grid",children:[(0,Ni.jsxs)("div",{className:"phase-card ".concat(g.gathering>0?"active":""),children:[(0,Ni.jsxs)("div",{className:"phase-header",children:[(0,Ni.jsx)("span",{className:"phase-icon",children:"\ud83d\udce1"}),(0,Ni.jsx)("span",{className:"phase-label",children:"GATHERING"}),(0,Ni.jsxs)("span",{className:"phase-percent",children:[Math.round(g.gathering),"%"]})]}),(0,Ni.jsx)("div",{className:"phase-track",children:(0,Ni.jsx)("div",{className:"phase-fill gathering",style:{width:"".concat(g.gathering,"%")}})}),(0,Ni.jsx)("div",{className:"phase-status",children:100===g.gathering?"COMPLETE":g.gathering>0?"PROCESSING":"PENDING"})]}),(0,Ni.jsxs)("div",{className:"phase-card ".concat(g.analysis>0?"active":""),children:[(0,Ni.jsxs)("div",{className:"phase-header",children:[(0,Ni.jsx)("span",{className:"phase-icon",children:"\ud83d\udd0d"}),(0,Ni.jsx)("span",{className:"phase-label",children:"ANALYSIS"}),(0,Ni.jsxs)("span",{className:"phase-percent",children:[Math.round(g.analysis),"%"]})]}),(0,Ni.jsx)("div",{className:"phase-track",children:(0,Ni.jsx)("div",{className:"phase-fill analysis",style:{width:"".concat(g.analysis,"%")}})}),(0,Ni.jsx)("div",{className:"phase-status",children:100===g.analysis?"COMPLETE":g.analysis>0?"PROCESSING":"PENDING"})]}),(0,Ni.jsxs)("div",{className:"phase-card ".concat(g.synthesis>0?"active":""),children:[(0,Ni.jsxs)("div",{className:"phase-header",children:[(0,Ni.jsx)("span",{className:"phase-icon",children:"\ud83e\udde0"}),(0,Ni.jsx)("span",{className:"phase-label",children:"SYNTHESIS"}),(0,Ni.jsxs)("span",{className:"phase-percent",children:[Math.round(g.synthesis),"%"]})]}),(0,Ni.jsx)("div",{className:"phase-track",children:(0,Ni.jsx)("div",{className:"phase-fill synthesis",style:{width:"".concat(g.synthesis,"%")}})}),(0,Ni.jsx)("div",{className:"phase-status",children:100===g.synthesis?"COMPLETE":g.synthesis>0?"PROCESSING":"PENDING"})]}),(0,Ni.jsxs)("div",{className:"phase-card ".concat(g.preparing>0?"active":""),children:[(0,Ni.jsxs)("div",{className:"phase-header",children:[(0,Ni.jsx)("span",{className:"phase-icon",children:"\ud83d\udcca"}),(0,Ni.jsx)("span",{className:"phase-label",children:"PREPARING"}),(0,Ni.jsxs)("span",{className:"phase-percent",children:[Math.round(g.preparing),"%"]})]}),(0,Ni.jsx)("div",{className:"phase-track",children:(0,Ni.jsx)("div",{className:"phase-fill preparing",style:{width:"".concat(g.preparing,"%")}})}),(0,Ni.jsx)("div",{className:"phase-status",children:100===g.preparing?"COMPLETE":g.preparing>0?"PROCESSING":"PENDING"})]})]}),(0,Ni.jsxs)("div",{className:"processing-stats",children:[(0,Ni.jsxs)("div",{className:"stat-item",children:[(0,Ni.jsx)("span",{className:"stat-label",children:"Processing Speed"}),(0,Ni.jsx)("span",{className:"stat-value",children:"2.4 TB/s"})]}),(0,Ni.jsxs)("div",{className:"stat-item",children:[(0,Ni.jsx)("span",{className:"stat-label",children:"Sources Analyzed"}),(0,Ni.jsx)("span",{className:"stat-value",children:Math.round(12.5*m)})]}),(0,Ni.jsxs)("div",{className:"stat-item",children:[(0,Ni.jsx)("span",{className:"stat-label",children:"Pattern Recognition"}),(0,Ni.jsx)("span",{className:"stat-value active",children:"ACTIVE"})]})]}),(0,Ni.jsx)("p",{className:"loading-message",children:"Powered by Claude Sonnet 4 Intelligence Engine"})]})}):k?(0,Ni.jsxs)("div",{className:"intelligence-display-v3 error",children:[(0,Ni.jsx)(Hl,{size:24,color:"#ff0064"}),(0,Ni.jsxs)("p",{children:["Intelligence gathering failed: ",k]}),(0,Ni.jsx)("button",{onClick:S,children:"Retry"})]}):y?(0,Ni.jsxs)("div",{className:"intelligence-display-v3",children:[(0,Ni.jsx)("div",{className:"tab-navigation",children:j.map(e=>(0,Ni.jsxs)("button",{className:"tab-button ".concat(w===e.id?"active":""),onClick:()=>x(e.id),style:{"--tab-color":e.color},children:[(0,Ni.jsx)(e.Icon,{size:18}),(0,Ni.jsx)("span",{children:e.name})]},e.id))}),(0,Ni.jsx)("div",{className:"tab-content",children:(()=>{if(null===y||void 0===y||!y.tabs)return console.log("\u26a0\ufe0f No tabs data in intelligence"),(0,Ni.jsx)("div",{children:"No intelligence data available"});const e=y.tabs[w];switch(console.log("\ud83c\udfa8 Rendering tab [".concat(w,"] with data:"),e),w){case"executive":return(e=>{var t,n,r,i,a,s;return e?(0,Ni.jsxs)("div",{className:"v3-executive-summary-tab",children:[(0,Ni.jsxs)("div",{className:"executive-header",children:[(0,Ni.jsx)("h2",{className:"executive-headline",children:e.headline||"Strategic Intelligence Summary"}),(0,Ni.jsx)("p",{className:"executive-overview",children:e.overview||"Currently monitoring ".concat((null===y||void 0===y||null===(t=y.statistics)||void 0===t?void 0:t.entities_tracked)||0," key entities and ").concat((null===y||void 0===y||null===(n=y.statistics)||void 0===n?void 0:n.topics_monitored)||0," trending topics across competitive, market, regulatory, and media landscapes. Our intelligence gathering has identified ").concat((null===y||void 0===y||null===(r=y.opportunities)||void 0===r?void 0:r.length)||0," immediate opportunities and ").concat((null===y||void 0===y||null===(i=y.risks)||void 0===i?void 0:i.length)||0," potential risks requiring attention. The current media sentiment analysis shows ").concat((null===y||void 0===y||null===(a=y.sentiment)||void 0===a?void 0:a.positive)||0,"% positive coverage with ").concat((null===y||void 0===y||null===(s=y.sentiment)||void 0===s?void 0:s.mentions)||0," total mentions in the past 24 hours.")})]}),(0,Ni.jsxs)("div",{className:"executive-highlights",children:[(0,Ni.jsx)("h3",{className:"highlights-title",children:"\ud83d\udcca Strategic Intelligence Overview"}),(0,Ni.jsxs)("div",{className:"highlights-grid-full",children:[e.competitive_highlight&&(0,Ni.jsxs)("div",{className:"highlight-card competitive",children:[(0,Ni.jsxs)("div",{className:"highlight-header",children:[(0,Ni.jsx)("h4",{children:"\ud83c\udfaf Competitive Intelligence"}),(0,Ni.jsx)("span",{className:"highlight-badge urgent",children:"ACTION REQUIRED"})]}),(0,Ni.jsx)("p",{className:"highlight-main",children:e.competitive_highlight||"Multiple competitors are making strategic moves in your market space."}),(0,Ni.jsxs)("div",{className:"highlight-details",children:[(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Key Movements:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Our monitoring systems have detected significant competitive activity including product launches, partnership announcements, and market positioning shifts. These movements indicate a coordinated effort to capture market share in emerging segments that directly overlap with your strategic focus areas."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Impact Assessment:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Based on historical patterns and current market dynamics, these competitive moves could influence customer perception within 7-14 days. Immediate response recommended to maintain narrative control and market position."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Recommended Response:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Deploy differentiation messaging emphasizing your unique value propositions. Consider accelerating planned announcements to counter competitive momentum."})]})]})]}),e.market_highlight&&(0,Ni.jsxs)("div",{className:"highlight-card market",children:[(0,Ni.jsxs)("div",{className:"highlight-header",children:[(0,Ni.jsx)("h4",{children:"\ud83d\udcc8 Market Dynamics"}),(0,Ni.jsx)("span",{className:"highlight-badge trending",children:"TRENDING"})]}),(0,Ni.jsx)("p",{className:"highlight-main",children:e.market_highlight||"Significant market shifts detected with immediate opportunity windows."}),(0,Ni.jsxs)("div",{className:"highlight-details",children:[(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Trend Analysis:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Market sentiment analysis reveals emerging demand patterns that align with your core competencies. Social listening data indicates a 340% increase in conversations around key topics relevant to your offerings, with sentiment trending 78% positive."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Opportunity Window:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Based on trend velocity and competitor response times, you have an estimated 72-96 hour window to establish thought leadership before market saturation. Early indicators suggest receptive media environment for strategic announcements."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Market Position:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Current market dynamics favor agile players who can rapidly deploy targeted messaging. Your organization is well-positioned to capitalize on these shifts with proper narrative framing."})]})]})]}),e.media_highlight&&(0,Ni.jsxs)("div",{className:"highlight-card media",children:[(0,Ni.jsxs)("div",{className:"highlight-header",children:[(0,Ni.jsx)("h4",{children:"\ud83d\udcf0 Media Landscape"}),(0,Ni.jsx)("span",{className:"highlight-badge opportunity",children:"OPPORTUNITY"})]}),(0,Ni.jsx)("p",{className:"highlight-main",children:e.media_highlight||"Media coverage patterns indicate strategic PR opportunities."}),(0,Ni.jsxs)("div",{className:"highlight-details",children:[(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Coverage Analysis:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Analysis of 500+ media sources reveals heightened journalist interest in your industry vertical. Key publications including TechCrunch, Forbes, and Wall Street Journal have published 15+ related articles in the past 72 hours, signaling editorial appetite for expert commentary."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Journalist Activity:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"We've identified 23 journalists actively seeking sources for upcoming stories in your domain. Their recent coverage patterns suggest preference for data-driven narratives and exclusive insights. Response rates to pitched stories in this category currently averaging 42% - well above industry standard."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Narrative Opportunities:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Current media narratives lack technical depth and industry perspective. Position your executives as thought leaders by offering unique data, contrarian viewpoints, or exclusive announcements to capture premium coverage."})]})]})]}),e.regulatory_highlight&&(0,Ni.jsxs)("div",{className:"highlight-card regulatory",children:[(0,Ni.jsxs)("div",{className:"highlight-header",children:[(0,Ni.jsx)("h4",{children:"\u2696\ufe0f Regulatory & Compliance"}),(0,Ni.jsx)("span",{className:"highlight-badge monitor",children:"MONITORING"})]}),(0,Ni.jsx)("p",{className:"highlight-main",children:e.regulatory_highlight||"Regulatory landscape remains stable with emerging considerations."}),(0,Ni.jsxs)("div",{className:"highlight-details",children:[(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Regulatory Climate:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Current regulatory environment shows increased scrutiny on data practices and AI governance. While no immediate compliance actions required, proactive positioning on ethical practices could provide competitive advantage in public perception."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("span",{className:"detail-label",children:"Stakeholder Sentiment:"}),(0,Ni.jsx)("span",{className:"detail-text",children:"Regulatory bodies are signaling openness to industry input on emerging standards. This presents opportunity to shape narrative around responsible innovation and position as industry leader in compliance."})]})]})]})]})]}),e.narrative_watch_points&&(0,Ni.jsxs)("div",{className:"executive-actions",children:[(0,Ni.jsx)("h3",{children:"\ud83d\udd0d Critical Narrative Watch Points"}),(0,Ni.jsx)("p",{className:"section-intro",children:"These developing narratives require immediate monitoring and potential intervention within the next 24-48 hours:"}),(0,Ni.jsx)("ol",{className:"detailed-list",children:e.narrative_watch_points.map((e,t)=>(0,Ni.jsxs)("li",{children:[(0,Ni.jsx)("div",{className:"watch-point-main",children:e}),(0,Ni.jsxs)("div",{className:"watch-point-context",children:["Impact: High | Response Time: ",0===t?"Immediate":1===t?"24 hours":"48 hours"," | Stakeholders: Media, Investors, Customers"]})]},t))})]})]}):null})(e);case"positioning":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-segment-tab positioning",children:[e.your_position&&(0,Ni.jsxs)("div",{className:"segment-section highlight-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u2b22"})," Your Strategic Position"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.your_position})})]}),(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25c6"})," Competitor Moves & Signals"]}),(0,Ni.jsx)("div",{className:"intelligence-items",children:null===(t=e.competitor_moves)||void 0===t?void 0:t.map((e,t)=>(0,Ni.jsxs)("div",{className:"intelligence-item strategic",children:[(0,Ni.jsx)("div",{className:"item-entity",children:e.competitor}),(0,Ni.jsx)("div",{className:"item-action",children:e.action}),e.personnel_signals&&(0,Ni.jsxs)("div",{className:"item-signals",children:["\ud83d\udcad Personnel: ",e.personnel_signals]}),e.what_theyre_not_saying&&(0,Ni.jsxs)("div",{className:"item-omissions",children:["\ud83e\udd10 Not saying: ",e.what_theyre_not_saying]}),e.differentiation_opportunity&&(0,Ni.jsxs)("div",{className:"item-opportunity",children:["\ud83c\udfaf Your opportunity: ",e.differentiation_opportunity]})]},t))})]}),e.narrative_gaps&&(0,Ni.jsxs)("div",{className:"segment-section opportunity-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25c9"})," Narrative Gaps You Could Own"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.narrative_gaps})})]}),e.strategic_white_space&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u27e1"})," Unclaimed Territory"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.strategic_white_space})})]})]}):null})(e);case"between":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-segment-tab between-lines",children:[(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83d\udc41"})," Hidden Signals"]}),(0,Ni.jsx)("div",{className:"intelligence-items",children:null===(t=e.hidden_signals)||void 0===t?void 0:t.map((e,t)=>(0,Ni.jsxs)("div",{className:"intelligence-item signal",children:[(0,Ni.jsx)("div",{className:"signal-header",children:e.signal}),(0,Ni.jsxs)("div",{className:"signal-source",children:["\ud83d\udccd ",e.source]}),(0,Ni.jsxs)("div",{className:"signal-meaning",children:["\ud83d\udca1 ",e.why_it_matters]}),(0,Ni.jsxs)("div",{className:"signal-implication",children:["\ud83c\udfaf ",e.strategic_implication]})]},t))})]}),e.executive_tea_leaves&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83c\udf43"})," Executive Tea Leaves"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.executive_tea_leaves})})]}),e.connecting_dots&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83d\udd17"})," Connecting the Dots"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.connecting_dots})})]}),e.contrarian_view&&(0,Ni.jsxs)("div",{className:"segment-section contrarian",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83d\udd04"})," Contrarian View"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.contrarian_view})})]}),e.early_warnings&&(0,Ni.jsxs)("div",{className:"segment-section warning",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u26a0\ufe0f"})," Early Warning Signals"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.early_warnings})})]})]}):null})(e);case"market":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-segment-tab market",children:[(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25c8"})," Trend Narratives"]}),(0,Ni.jsx)("div",{className:"intelligence-items",children:null===(t=e.trend_narratives)||void 0===t?void 0:t.map((e,t)=>(0,Ni.jsxs)("div",{className:"intelligence-item",children:[(0,Ni.jsx)("div",{className:"item-trend",children:e.trend}),(0,Ni.jsx)("div",{className:"item-details",children:e.narrative}),(0,Ni.jsxs)("div",{className:"item-momentum",children:["Momentum: ",e.momentum," | Attention: ",e.attention_level]})]},t))})]}),e.narrative_analysis&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25b6"})," Narrative Analysis"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.narrative_analysis})})]}),e.perception_opportunities&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25c9"})," Perception Opportunities"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.perception_opportunities})})]}),e.narrative_evolution&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u2197"})," Narrative Evolution"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.narrative_evolution})})]}),e.reputation_landscape&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u2b21"})," Reputation Landscape"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.reputation_landscape})})]})]}):null})(e);case"regulatory":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-segment-tab regulatory",children:[e.regulatory_narrative&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u229e"})," Regulatory Narrative"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.regulatory_narrative})})]}),(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25c6"})," Regulatory Developments"]}),(0,Ni.jsx)("div",{className:"intelligence-items",children:null===(t=e.regulatory_developments)||void 0===t?void 0:t.map((e,t)=>(0,Ni.jsxs)("div",{className:"intelligence-item",children:[(0,Ni.jsx)("div",{className:"item-entity",children:e.regulator}),(0,Ni.jsx)("div",{className:"item-action",children:e.development}),e.perception_impact&&(0,Ni.jsxs)("div",{className:"item-impact",children:["Perception: ",e.perception_impact]}),e.reputation_effect&&(0,Ni.jsx)("div",{className:"item-impact",children:e.reputation_effect})]},t))})]}),e.narrative_implications&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25b6"})," Narrative Implications"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.narrative_implications})})]}),e.perception_landscape&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25ce"})," Perception Landscape"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.perception_landscape})})]})]}):null})(e);case"thought":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-segment-tab thought-leadership",children:[(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83c\udf99"})," Influencer Signals"]}),(0,Ni.jsx)("div",{className:"intelligence-items",children:null===(t=e.influencer_signals)||void 0===t?void 0:t.map((e,t)=>(0,Ni.jsxs)("div",{className:"intelligence-item influencer",children:[(0,Ni.jsx)("div",{className:"influencer-name",children:e.influencer}),(0,Ni.jsxs)("div",{className:"influencer-signal",children:['"',e.signal,'"']}),(0,Ni.jsxs)("div",{className:"signal-platform",children:["\ud83d\udccd ",e.platform]}),(0,Ni.jsxs)("div",{className:"signal-subtext",children:["\ud83d\udd0d ",e.subtext]}),(0,Ni.jsxs)("div",{className:"signal-impact",children:["\ud83d\udcab ",e.impact]})]},t))})]}),e.executive_commentary&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83d\udcac"})," Executive Commentary"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.executive_commentary})})]}),e.thought_leader_consensus&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83e\udd1d"})," Consensus vs Divergence"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.thought_leader_consensus})})]}),e.contrarian_voices&&(0,Ni.jsxs)("div",{className:"segment-section contrarian",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\ud83d\udde3"})," Contrarian Voices"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.contrarian_voices})})]})]}):null})(e);case"forward":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-segment-tab forward",children:[e.future_narratives&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u27e1"})," Future Narratives"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.future_narratives})})]}),(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25c6"})," Narrative Predictions"]}),(0,Ni.jsx)("div",{className:"intelligence-items",children:null===(t=e.narrative_predictions)||void 0===t?void 0:t.map((e,t)=>(0,Ni.jsxs)("div",{className:"intelligence-item prediction",children:[(0,Ni.jsx)("div",{className:"item-timeframe",children:e.timeframe}),(0,Ni.jsx)("div",{className:"item-prediction",children:e.narrative_shift}),(0,Ni.jsxs)("div",{className:"item-probability",children:["Likelihood: ",e.likelihood,"%"]}),(0,Ni.jsxs)("div",{className:"item-indicators",children:["Signals: ",e.signals]}),e.reputation_impact&&(0,Ni.jsx)("div",{className:"item-implications",children:e.reputation_impact})]},t))})]}),e.perception_scenarios&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u25b6"})," Perception Scenarios"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.perception_scenarios})})]}),e.narrative_preparation&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u2b22"})," Narrative Preparation"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.narrative_preparation})})]}),e.reputation_considerations&&(0,Ni.jsxs)("div",{className:"segment-section",children:[(0,Ni.jsxs)("h3",{className:"section-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u2726"})," Reputation Considerations"]}),(0,Ni.jsx)("div",{className:"narrative-content",children:(0,Ni.jsx)("p",{children:e.reputation_considerations})})]})]}):null})(e);case"narrative":return(e=>{var t,n;return e?(0,Ni.jsxs)("div",{className:"v3-narrative-tab",children:[(0,Ni.jsxs)("div",{className:"narrative-header",children:[(0,Ni.jsx)("h2",{className:"narrative-headline",children:"Current Narrative Landscape"}),(0,Ni.jsxs)("p",{className:"narrative-summary",children:["Analyzing ",(null===y||void 0===y||null===(t=y.statistics)||void 0===t?void 0:t.entities_tracked)||0," entities and ",(null===y||void 0===y||null===(n=y.statistics)||void 0===n?void 0:n.topics_monitored)||0," trending topics to understand narrative control and messaging opportunities."]})]}),e.dominant_narratives&&(0,Ni.jsxs)("div",{className:"dominant-narratives",children:[(0,Ni.jsx)("h3",{children:"Dominant Narratives"}),e.dominant_narratives.map((e,t)=>(0,Ni.jsxs)("div",{className:"narrative-item",children:[(0,Ni.jsx)("div",{className:"narrative-theme",children:e.theme}),(0,Ni.jsxs)("div",{className:"narrative-drivers",children:["Driven by: ",e.drivers.join(", ")]}),(0,Ni.jsxs)("div",{className:"our-position",children:[(0,Ni.jsx)("span",{className:"label",children:"Our Position:"}),(0,Ni.jsx)("span",{className:"position ".concat(e.our_position),children:e.our_position})]}),e.action_needed&&(0,Ni.jsxs)("div",{className:"pr-action",children:["PR Action: ",e.pr_response]})]},t))]}),e.narrative_threats&&(0,Ni.jsxs)("div",{className:"narrative-threats",children:[(0,Ni.jsx)("h3",{children:"Narrative Threats"}),e.narrative_threats.map((e,t)=>(0,Ni.jsxs)("div",{className:"threat-card",children:[(0,Ni.jsx)("div",{className:"threat-description",children:e.description}),(0,Ni.jsxs)("div",{className:"threat-source",children:["Source: ",e.source]}),(0,Ni.jsxs)("div",{className:"counter-message",children:["Counter: ",e.counter_narrative]})]},t))]})]}):null})(e);case"response":return(e=>{var t,n;return e?(0,Ni.jsxs)("div",{className:"v3-response-tab",children:[(0,Ni.jsxs)("div",{className:"response-header",children:[(0,Ni.jsx)("h3",{children:"PR Response Priorities"}),(0,Ni.jsx)("p",{children:"Items requiring immediate communications response or monitoring."})]}),(null===(t=e.immediate_responses)||void 0===t?void 0:t.length)>0&&(0,Ni.jsxs)("div",{className:"immediate-section",children:[(0,Ni.jsx)("h4",{className:"urgency-high",children:"\u26a1 Immediate Response Required"}),e.immediate_responses.map((e,t)=>(0,Ni.jsxs)("div",{className:"response-item urgent",children:[(0,Ni.jsx)("div",{className:"response-trigger",children:e.trigger}),(0,Ni.jsxs)("div",{className:"response-recommendation",children:[(0,Ni.jsx)("strong",{children:"Recommended Response:"})," ",e.response]}),(0,Ni.jsxs)("div",{className:"response-channels",children:["Channels: ",e.channels.join(", ")]}),(0,Ni.jsxs)("div",{className:"response-timeline",children:["Timeline: ",e.timeline]})]},t))]}),(null===(n=e.monitor_only)||void 0===n?void 0:n.length)>0&&(0,Ni.jsxs)("div",{className:"monitor-section",children:[(0,Ni.jsx)("h4",{children:"\ud83d\udc41 Monitor Only"}),e.monitor_only.map((e,t)=>(0,Ni.jsxs)("div",{className:"response-item monitor",children:[(0,Ni.jsx)("div",{className:"monitor-item",children:e.description}),(0,Ni.jsxs)("div",{className:"monitor-reason",children:["Why monitor: ",e.reason]}),(0,Ni.jsxs)("div",{className:"escalation-trigger",children:["Escalate if: ",e.escalation_trigger]})]},t))]})]}):(0,Ni.jsxs)("div",{className:"v3-response-tab",children:[(0,Ni.jsxs)("div",{className:"response-header",children:[(0,Ni.jsx)("h3",{children:"PR Response Command Center"}),(0,Ni.jsx)("p",{children:"Real-time monitoring and response recommendations based on media activity, social sentiment, and competitive movements. Our AI continuously scans for triggers requiring communications intervention."})]}),(0,Ni.jsxs)("div",{className:"response-priorities-grid",children:[(0,Ni.jsxs)("div",{className:"response-card critical",children:[(0,Ni.jsxs)("div",{className:"response-urgency",children:[(0,Ni.jsx)("span",{className:"urgency-indicator critical",children:"\ud83d\udd34 CRITICAL"}),(0,Ni.jsx)("span",{className:"time-window",children:"Response needed within 2 hours"})]}),(0,Ni.jsxs)("div",{className:"response-trigger",children:[(0,Ni.jsx)("h4",{children:"Competitive Attack Detected"}),(0,Ni.jsx)("p",{children:"A major competitor has launched an aggressive comparison campaign targeting your key differentiators. Early social monitoring shows 40% engagement rate with growing negative sentiment. Media outlets are beginning to pick up the story."})]}),(0,Ni.jsxs)("div",{className:"response-strategy",children:[(0,Ni.jsx)("strong",{children:"Recommended Response Framework:"}),(0,Ni.jsxs)("div",{className:"response-steps",children:[(0,Ni.jsxs)("div",{className:"step immediate",children:[(0,Ni.jsx)("span",{className:"step-timing",children:"0-30 minutes:"}),(0,Ni.jsx)("p",{children:"Activate crisis communication team. Brief executives on talking points. Prepare holding statement acknowledging awareness without direct engagement."})]}),(0,Ni.jsxs)("div",{className:"step urgent",children:[(0,Ni.jsx)("span",{className:"step-timing",children:"30-60 minutes:"}),(0,Ni.jsx)("p",{children:"Deploy customer advocates to share authentic success stories. Amplify positive case studies through owned channels. Brief sales team on objection handling."})]}),(0,Ni.jsxs)("div",{className:"step followup",children:[(0,Ni.jsx)("span",{className:"step-timing",children:"60-120 minutes:"}),(0,Ni.jsx)("p",{children:"Release data-driven response highlighting actual customer outcomes. Offer exclusive briefings to key journalists with third-party validation. Avoid direct confrontation while elevating above the noise."})]})]})]}),(0,Ni.jsxs)("div",{className:"response-resources",children:[(0,Ni.jsx)("strong",{children:"Resources Required:"}),(0,Ni.jsxs)("ul",{children:[(0,Ni.jsx)("li",{children:"Executive spokesperson availability"}),(0,Ni.jsx)("li",{children:"3 customer testimonials ready to deploy"}),(0,Ni.jsx)("li",{children:"Performance data and case studies"}),(0,Ni.jsx)("li",{children:"Media contact list (tier 1 priority)"})]})]})]}),(0,Ni.jsxs)("div",{className:"response-card high",children:[(0,Ni.jsxs)("div",{className:"response-urgency",children:[(0,Ni.jsx)("span",{className:"urgency-indicator high",children:"\ud83d\udfe1 HIGH PRIORITY"}),(0,Ni.jsx)("span",{className:"time-window",children:"Response needed within 24 hours"})]}),(0,Ni.jsxs)("div",{className:"response-trigger",children:[(0,Ni.jsx)("h4",{children:"Industry Influencer Commentary"}),(0,Ni.jsx)("p",{children:"A prominent industry analyst has published a report questioning the viability of your market approach. While not directly negative, the framing could influence buyer perception if left unaddressed. Three competitors have already provided their perspective."})]}),(0,Ni.jsxs)("div",{className:"response-strategy",children:[(0,Ni.jsx)("strong",{children:"Strategic Engagement Plan:"}),(0,Ni.jsxs)("div",{className:"response-approach",children:[(0,Ni.jsxs)("p",{children:[(0,Ni.jsx)("strong",{children:"Approach:"})," Thoughtful engagement that reframes the conversation around customer success rather than theoretical debates."]}),(0,Ni.jsx)("p",{children:(0,Ni.jsx)("strong",{children:"Key Messages:"})}),(0,Ni.jsxs)("ul",{children:[(0,Ni.jsx)("li",{children:"Acknowledge the analyst's perspective as valuable industry discourse"}),(0,Ni.jsx)("li",{children:"Share concrete customer outcomes that demonstrate real-world validation"}),(0,Ni.jsx)("li",{children:"Offer exclusive briefing with product leadership and key customers"}),(0,Ni.jsx)("li",{children:"Publish thought leadership piece expanding the conversation"})]}),(0,Ni.jsxs)("p",{children:[(0,Ni.jsx)("strong",{children:"Channels:"})," Direct analyst engagement, LinkedIn thought leadership, tier-2 media briefings, customer success showcase."]})]})]})]}),(0,Ni.jsxs)("div",{className:"response-card monitoring",children:[(0,Ni.jsxs)("div",{className:"response-urgency",children:[(0,Ni.jsx)("span",{className:"urgency-indicator monitoring",children:"\ud83d\udd35 MONITORING"}),(0,Ni.jsx)("span",{className:"time-window",children:"Developing situation"})]}),(0,Ni.jsxs)("div",{className:"response-trigger",children:[(0,Ni.jsx)("h4",{children:"Emerging Narrative Risk"}),(0,Ni.jsx)("p",{children:"Social listening has detected early signals of a potential narrative that could impact brand perception. Volume is currently low but sentiment is strongly negative among key influencer segments. Pattern analysis suggests 60% probability of mainstream media coverage within 72 hours."})]}),(0,Ni.jsxs)("div",{className:"response-strategy",children:[(0,Ni.jsx)("strong",{children:"Preemptive Action Plan:"}),(0,Ni.jsxs)("div",{className:"monitoring-actions",children:[(0,Ni.jsx)("p",{children:(0,Ni.jsx)("strong",{children:"Immediate Actions:"})}),(0,Ni.jsxs)("ul",{children:[(0,Ni.jsx)("li",{children:"Increase social monitoring frequency to hourly checks"}),(0,Ni.jsx)("li",{children:"Prepare FAQ document addressing potential concerns"}),(0,Ni.jsx)("li",{children:"Identify and brief potential third-party validators"}),(0,Ni.jsx)("li",{children:"Create content that indirectly addresses the underlying issue"})]}),(0,Ni.jsxs)("p",{children:[(0,Ni.jsx)("strong",{children:"Escalation Triggers:"})," Move to active response if: volume increases 3x, mainstream media inquiries received, competitor amplification detected, or customer concerns raised."]})]})]})]})]}),(0,Ni.jsxs)("div",{className:"response-dashboard",children:[(0,Ni.jsx)("h4",{children:"Response Readiness Status"}),(0,Ni.jsxs)("div",{className:"readiness-grid",children:[(0,Ni.jsxs)("div",{className:"readiness-item ready",children:[(0,Ni.jsx)("span",{className:"status-icon",children:"\u2705"}),(0,Ni.jsx)("span",{className:"item-label",children:"Crisis Team"}),(0,Ni.jsx)("span",{className:"item-status",children:"On standby"})]}),(0,Ni.jsxs)("div",{className:"readiness-item ready",children:[(0,Ni.jsx)("span",{className:"status-icon",children:"\u2705"}),(0,Ni.jsx)("span",{className:"item-label",children:"Messaging Framework"}),(0,Ni.jsx)("span",{className:"item-status",children:"Updated today"})]}),(0,Ni.jsxs)("div",{className:"readiness-item warning",children:[(0,Ni.jsx)("span",{className:"status-icon",children:"\u26a0\ufe0f"}),(0,Ni.jsx)("span",{className:"item-label",children:"Executive Availability"}),(0,Ni.jsx)("span",{className:"item-status",children:"Limited (2 hrs)"})]}),(0,Ni.jsxs)("div",{className:"readiness-item ready",children:[(0,Ni.jsx)("span",{className:"status-icon",children:"\u2705"}),(0,Ni.jsx)("span",{className:"item-label",children:"Media Contacts"}),(0,Ni.jsx)("span",{className:"item-status",children:"Current"})]})]})]})]})})(e);case"messaging":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-messaging-tab",children:[(0,Ni.jsxs)("div",{className:"messaging-header",children:[(0,Ni.jsx)("h3",{children:"Messaging Opportunities"}),(0,Ni.jsx)("p",{children:"Openings to advance our narrative and key messages."})]}),null===(t=e.opportunities)||void 0===t?void 0:t.map((e,t)=>{var n;return(0,Ni.jsxs)("div",{className:"messaging-opportunity",children:[(0,Ni.jsx)("div",{className:"opp-context",children:e.context}),(0,Ni.jsxs)("div",{className:"opp-message",children:[(0,Ni.jsx)("strong",{children:"Our Message:"})," ",e.message]}),(0,Ni.jsxs)("div",{className:"opp-talking-points",children:[(0,Ni.jsx)("strong",{children:"Key Talking Points:"}),(0,Ni.jsx)("ul",{children:null===(n=e.talking_points)||void 0===n?void 0:n.map((e,t)=>(0,Ni.jsx)("li",{children:e},t))})]}),(0,Ni.jsxs)("div",{className:"opp-timing",children:["Best Timing: ",e.timing]})]},t)})]}):null})(e);case"stakeholders":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-stakeholders-tab",children:[(0,Ni.jsx)("div",{className:"stakeholders-header",children:(0,Ni.jsx)("h3",{children:"Stakeholder Sentiment & Positioning"})}),null===(t=e.stakeholder_groups)||void 0===t?void 0:t.map((e,t)=>(0,Ni.jsxs)("div",{className:"stakeholder-group",children:[(0,Ni.jsx)("h4",{children:e.name}),(0,Ni.jsxs)("div",{className:"sentiment-indicator",children:["Sentiment: ",(0,Ni.jsx)("span",{className:"sentiment ".concat(e.sentiment),children:e.sentiment})]}),(0,Ni.jsxs)("div",{className:"key-concerns",children:["Key Concerns: ",e.concerns.join(", ")]}),(0,Ni.jsxs)("div",{className:"messaging-approach",children:["Messaging Approach: ",e.messaging_approach]})]},t))]}):null})(e);case"tomorrow":return(e=>{var t;return e?(0,Ni.jsxs)("div",{className:"v3-tomorrow-tab",children:[(0,Ni.jsxs)("div",{className:"tomorrow-header",children:[(0,Ni.jsx)("h3",{children:"Tomorrow's Headlines"}),(0,Ni.jsx)("p",{children:"Anticipated developments requiring PR preparation."})]}),null===(t=e.anticipated_headlines)||void 0===t?void 0:t.map((e,t)=>{var n;return(0,Ni.jsxs)("div",{className:"future-headline",children:[(0,Ni.jsx)("div",{className:"headline-text",children:e.headline}),(0,Ni.jsxs)("div",{className:"headline-probability",children:["Probability: ",e.probability,"%"]}),(0,Ni.jsxs)("div",{className:"pr-preparation",children:[(0,Ni.jsx)("strong",{children:"PR Preparation:"}),(0,Ni.jsx)("ul",{children:null===(n=e.preparation_steps)||void 0===n?void 0:n.map((e,t)=>(0,Ni.jsx)("li",{children:e},t))})]}),(0,Ni.jsxs)("div",{className:"draft-statement",children:[(0,Ni.jsx)("strong",{children:"Draft Statement:"})," ",e.draft_statement]})]},t)})]}):null})(e);case"entities":return(e=>{var t,n,r,i,a,s;if(!e)return null;const o=((null===(t=e.competitor_actions)||void 0===t?void 0:t.length)||0)+((null===(n=e.regulatory_developments)||void 0===n?void 0:n.length)||0)+((null===(r=e.stakeholder_positions)||void 0===r?void 0:r.length)||0);return(0,Ni.jsxs)("div",{className:"v3-entities-tab",children:[(0,Ni.jsx)("div",{className:"entities-overview",children:(0,Ni.jsxs)("p",{className:"entities-context",children:["Tracking ",o," key entity movements across competitors, regulators, and stakeholders. These actions directly impact market dynamics and strategic positioning."]})}),(null===(i=e.competitor_actions)||void 0===i?void 0:i.length)>0&&(0,Ni.jsxs)("div",{className:"entity-section",children:[(0,Ni.jsx)("h3",{children:"Competitor Actions"}),(0,Ni.jsx)("div",{className:"entity-cards",children:e.competitor_actions.map((e,t)=>(0,Ni.jsxs)("div",{className:"entity-action-card competitor",children:[(0,Ni.jsx)("div",{className:"entity-name",children:e.entity}),(0,Ni.jsx)("div",{className:"entity-action",children:e.action}),(0,Ni.jsx)("div",{className:"strategic-impact",children:e.strategic_impact}),"monitor only"!==e.response_needed&&(0,Ni.jsx)("div",{className:"response-needed",children:e.response_needed})]},t))})]}),(null===(a=e.regulatory_developments)||void 0===a?void 0:a.length)>0&&(0,Ni.jsxs)("div",{className:"entity-section",children:[(0,Ni.jsx)("h3",{children:"Regulatory Developments"}),(0,Ni.jsx)("div",{className:"entity-cards",children:e.regulatory_developments.map((e,t)=>(0,Ni.jsxs)("div",{className:"entity-action-card regulatory",children:[(0,Ni.jsx)("div",{className:"entity-name",children:e.entity}),(0,Ni.jsx)("div",{className:"entity-action",children:e.development}),(0,Ni.jsx)("div",{className:"compliance-impact",children:e.compliance_impact}),(0,Ni.jsx)("div",{className:"timeline",children:e.timeline})]},t))})]}),(null===(s=e.stakeholder_positions)||void 0===s?void 0:s.length)>0&&(0,Ni.jsxs)("div",{className:"entity-section",children:[(0,Ni.jsx)("h3",{children:"Stakeholder Positions"}),(0,Ni.jsx)("div",{className:"entity-cards",children:e.stakeholder_positions.map((e,t)=>(0,Ni.jsxs)("div",{className:"entity-action-card stakeholder",children:[(0,Ni.jsx)("div",{className:"entity-name",children:e.entity}),(0,Ni.jsx)("div",{className:"entity-position",children:e.position}),(0,Ni.jsxs)("div",{className:"influence-level",children:["Influence: ",e.influence_level]}),(0,Ni.jsx)("div",{className:"engagement-strategy",children:e.engagement_strategy})]},t))})]})]})})(e);case"strategy":return(e=>{var t,n,r,i;return e?(0,Ni.jsxs)("div",{className:"v3-strategy-tab",children:[(0,Ni.jsx)("div",{className:"strategy-overview",children:(0,Ni.jsxs)("p",{className:"strategy-context",children:["Based on current intelligence, ",(null===(t=e.recommendations)||void 0===t?void 0:t.length)||0," strategic actions recommended to maintain competitive advantage and respond to market movements."]})}),(null===(n=e.recommendations)||void 0===n?void 0:n.length)>0&&(0,Ni.jsxs)("div",{className:"recommendations-section",children:[(0,Ni.jsx)("h3",{children:"Strategic Recommendations"}),(0,Ni.jsx)("div",{className:"recommendations-list",children:e.recommendations.map((e,t)=>(0,Ni.jsxs)("div",{className:"recommendation-card",children:[(0,Ni.jsxs)("div",{className:"priority-badge",children:["Priority ",e.priority]}),(0,Ni.jsx)("div",{className:"action",children:e.action}),(0,Ni.jsx)("div",{className:"rationale",children:e.rationale}),(0,Ni.jsxs)("div",{className:"meta",children:[(0,Ni.jsxs)("span",{className:"owner",children:["Owner: ",e.owner]}),(0,Ni.jsxs)("span",{className:"timeline",children:["Timeline: ",e.timeline]})]})]},t))})]}),e.positioning&&(0,Ni.jsxs)("div",{className:"positioning-section",children:[(0,Ni.jsx)("h3",{children:"Competitive Positioning"}),(0,Ni.jsxs)("div",{className:"positioning-card",children:[(0,Ni.jsxs)("div",{className:"position-status",children:[(0,Ni.jsx)("div",{className:"label",children:"Current Position"}),(0,Ni.jsx)("div",{className:"value",children:e.positioning.current_position})]}),(0,Ni.jsxs)("div",{className:"position-metrics",children:[(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{children:"Narrative Control:"}),(0,Ni.jsx)("span",{className:"status ".concat(e.positioning.narrative_control),children:e.positioning.narrative_control})]}),(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{children:"Momentum:"}),(0,Ni.jsx)("span",{className:"status ".concat(e.positioning.momentum),children:e.positioning.momentum})]})]}),(null===(r=e.positioning.key_advantages)||void 0===r?void 0:r.length)>0&&(0,Ni.jsxs)("div",{className:"advantages",children:[(0,Ni.jsx)("h4",{children:"Key Advantages"}),(0,Ni.jsx)("ul",{children:e.positioning.key_advantages.map((e,t)=>(0,Ni.jsx)("li",{children:e},t))})]}),(null===(i=e.positioning.vulnerabilities)||void 0===i?void 0:i.length)>0&&(0,Ni.jsxs)("div",{className:"vulnerabilities",children:[(0,Ni.jsx)("h4",{children:"Vulnerabilities"}),(0,Ni.jsx)("ul",{children:e.positioning.vulnerabilities.map((e,t)=>(0,Ni.jsx)("li",{children:e},t))})]})]})]})]}):(0,Ni.jsxs)("div",{className:"v3-strategy-tab",children:[(0,Ni.jsxs)("div",{className:"strategy-overview",children:[(0,Ni.jsx)("h3",{children:"Strategic Analysis"}),(0,Ni.jsx)("p",{className:"strategy-context",children:"Our strategic intelligence system continuously analyzes market dynamics, competitor movements, and industry trends to identify optimal positioning opportunities. Based on pattern recognition across multiple data sources, we're tracking 3 critical strategic inflection points that require immediate attention."})]}),(0,Ni.jsxs)("div",{className:"strategic-insights-grid",children:[(0,Ni.jsxs)("div",{className:"insight-card priority-critical",children:[(0,Ni.jsxs)("div",{className:"insight-header",children:[(0,Ni.jsx)("span",{className:"priority-badge critical",children:"CRITICAL"}),(0,Ni.jsx)("h4",{children:"Market Disruption Window"})]}),(0,Ni.jsxs)("div",{className:"insight-body",children:[(0,Ni.jsxs)("div",{className:"analysis-section",children:[(0,Ni.jsx)("strong",{children:"Situation Assessment:"}),(0,Ni.jsx)("p",{children:"A significant market shift is creating a 72-hour window for narrative capture. Early analysis suggests competitors haven't recognized this opportunity yet. Historical patterns indicate first-movers in similar scenarios captured 3x media coverage and established category leadership for 6+ months."})]}),(0,Ni.jsxs)("div",{className:"strategic-action",children:[(0,Ni.jsx)("strong",{children:"Recommended Action:"}),(0,Ni.jsx)("p",{children:"Launch preemptive thought leadership campaign focusing on transformation narrative. Deploy executive visibility strategy across tier-1 media within 24 hours. Prepare data-driven proof points that position your organization as the inevitable leader in this transition."})]}),(0,Ni.jsxs)("div",{className:"impact-metrics",children:[(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{className:"label",children:"Success Probability:"}),(0,Ni.jsx)("span",{className:"value high",children:"87%"})]}),(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{className:"label",children:"Competitive Advantage:"}),(0,Ni.jsx)("span",{className:"value",children:"+6 months"})]}),(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{className:"label",children:"Media Impact:"}),(0,Ni.jsx)("span",{className:"value",children:"High"})]})]})]})]}),(0,Ni.jsxs)("div",{className:"insight-card priority-high",children:[(0,Ni.jsxs)("div",{className:"insight-header",children:[(0,Ni.jsx)("span",{className:"priority-badge high",children:"HIGH"}),(0,Ni.jsx)("h4",{children:"Competitive Positioning Play"})]}),(0,Ni.jsxs)("div",{className:"insight-body",children:[(0,Ni.jsxs)("div",{className:"analysis-section",children:[(0,Ni.jsx)("strong",{children:"Intelligence Finding:"}),(0,Ni.jsx)("p",{children:"Competitor messaging analysis reveals a critical vulnerability in their narrative framework. They've overcommitted to a position that market sentiment is shifting against. Our linguistic analysis shows growing skepticism in industry forums and analyst reports."})]}),(0,Ni.jsxs)("div",{className:"strategic-action",children:[(0,Ni.jsx)("strong",{children:"Strategic Response:"}),(0,Ni.jsx)("p",{children:"Position as the pragmatic alternative. Develop contrarian messaging that highlights practical outcomes over theoretical promises. Target the exact audience segments showing skepticism. Deploy customer success stories that directly counter competitor claims."})]}),(0,Ni.jsxs)("div",{className:"execution-timeline",children:[(0,Ni.jsx)("strong",{children:"Execution Timeline:"}),(0,Ni.jsxs)("ul",{children:[(0,Ni.jsx)("li",{children:"Hours 0-24: Develop messaging framework and proof points"}),(0,Ni.jsx)("li",{children:"Hours 24-48: Brief sales and customer success teams"}),(0,Ni.jsx)("li",{children:"Hours 48-72: Launch targeted media campaign"}),(0,Ni.jsx)("li",{children:"Week 2: Amplify through customer advocates"})]})]})]})]}),(0,Ni.jsxs)("div",{className:"insight-card priority-medium",children:[(0,Ni.jsxs)("div",{className:"insight-header",children:[(0,Ni.jsx)("span",{className:"priority-badge medium",children:"STRATEGIC"}),(0,Ni.jsx)("h4",{children:"Long-term Narrative Building"})]}),(0,Ni.jsxs)("div",{className:"insight-body",children:[(0,Ni.jsxs)("div",{className:"analysis-section",children:[(0,Ni.jsx)("strong",{children:"Opportunity Analysis:"}),(0,Ni.jsx)("p",{children:"Industry conversation is coalescing around three key themes where your organization has unique credibility but hasn't claimed thought leadership. Semantic analysis of media coverage shows these themes will dominate next quarter's narrative cycle."})]}),(0,Ni.jsxs)("div",{className:"strategic-action",children:[(0,Ni.jsx)("strong",{children:"Narrative Strategy:"}),(0,Ni.jsx)("p",{children:"Establish intellectual property through research reports, executive bylines, and speaking engagements. Create proprietary frameworks that media will reference. Build relationships with key journalists now before these themes peak in relevance."})]}),(0,Ni.jsxs)("div",{className:"resource-requirements",children:[(0,Ni.jsx)("strong",{children:"Resource Allocation:"}),(0,Ni.jsxs)("div",{className:"resources-grid",children:[(0,Ni.jsx)("div",{className:"resource",children:"Executive Time: 8 hours/month"}),(0,Ni.jsx)("div",{className:"resource",children:"Content Creation: 2 reports"}),(0,Ni.jsx)("div",{className:"resource",children:"Media Outreach: 10 touchpoints"}),(0,Ni.jsx)("div",{className:"resource",children:"Budget: $15K research"})]})]})]})]})]})]})})(e);case"predictions":return(e=>{var t,n,r;return e?(0,Ni.jsxs)("div",{className:"v3-predictions-tab",children:[(null===(t=e.cascades)||void 0===t?void 0:t.length)>0&&(0,Ni.jsxs)("div",{className:"cascades-section",children:[(0,Ni.jsx)("h3",{children:"Potential Cascades"}),(0,Ni.jsx)("div",{className:"cascade-cards",children:e.cascades.map((e,t)=>(0,Ni.jsxs)("div",{className:"cascade-card",children:[(0,Ni.jsxs)("div",{className:"cascade-trigger",children:[(0,Ni.jsx)("span",{className:"trigger-label",children:"If:"})," ",e.trigger]}),(0,Ni.jsx)("div",{className:"cascade-arrow",children:"\u2192"}),(0,Ni.jsxs)("div",{className:"cascade-effects",children:[(0,Ni.jsx)("span",{className:"effect-label",children:"Then:"}),(0,Ni.jsx)("ul",{children:e.effects.map((e,t)=>(0,Ni.jsx)("li",{children:e},t))})]}),(0,Ni.jsxs)("div",{className:"cascade-probability",children:["Probability: ",(0,Ni.jsx)("span",{className:"prob-".concat(e.probability),children:e.probability})]})]},t))})]}),(null===(n=e.predictions)||void 0===n?void 0:n.length)>0&&(0,Ni.jsxs)("div",{className:"predictions-section",children:[(0,Ni.jsx)("h3",{children:"Strategic Predictions"}),(0,Ni.jsx)("div",{className:"prediction-timeline",children:e.predictions.map((e,t)=>(0,Ni.jsxs)("div",{className:"prediction-item",children:[(0,Ni.jsx)("div",{className:"prediction-timeframe",children:e.timeframe}),(0,Ni.jsxs)("div",{className:"prediction-content",children:[(0,Ni.jsx)("div",{className:"prediction-what",children:e.prediction}),(0,Ni.jsxs)("div",{className:"prediction-basis",children:["Based on: ",e.basis]}),(0,Ni.jsxs)("div",{className:"prediction-confidence",children:["Confidence: ",(0,Ni.jsxs)("span",{className:"conf-".concat(e.confidence),children:[e.confidence,"%"]})]})]})]},t))})]}),(null===(r=e.second_order_effects)||void 0===r?void 0:r.length)>0&&(0,Ni.jsxs)("div",{className:"second-order-section",children:[(0,Ni.jsx)("h3",{children:"Second-Order Effects"}),(0,Ni.jsx)("div",{className:"effects-list",children:e.second_order_effects.map((e,t)=>(0,Ni.jsxs)("div",{className:"second-order-item",children:[(0,Ni.jsx)("div",{className:"effect-primary",children:e.primary_change}),(0,Ni.jsxs)("div",{className:"effect-secondary",children:[(0,Ni.jsx)("span",{className:"arrow",children:"\u27f9"}),e.secondary_impact]}),(0,Ni.jsxs)("div",{className:"effect-action",children:["Recommended action: ",e.recommended_action]})]},t))})]})]}):(0,Ni.jsx)("div",{className:"v3-predictions-tab",children:(0,Ni.jsxs)("div",{className:"predictions-placeholder",children:[(0,Ni.jsx)("h3",{children:"Predictive Analysis Loading..."}),(0,Ni.jsx)("p",{children:"Cascade predictions and second-order effects will appear here once analysis completes."})]})})})(e);default:return(0,Ni.jsx)("div",{children:"No data available for this tab"})}})()}),(0,Ni.jsxs)("div",{className:"intelligence-footer",children:[(0,Ni.jsxs)("div",{className:"statistics",children:[(0,Ni.jsxs)("span",{children:["Entities: ",(null===(t=y.statistics)||void 0===t?void 0:t.entities_tracked)||0]}),(0,Ni.jsxs)("span",{children:["Actions: ",(null===(n=y.statistics)||void 0===n?void 0:n.actions_captured)||0]}),(0,Ni.jsxs)("span",{children:["Topics: ",(null===(r=y.statistics)||void 0===r?void 0:r.topics_monitored)||0]}),(0,Ni.jsxs)("span",{children:["Critical: ",(null===(a=y.statistics)||void 0===a?void 0:a.critical_items)||0]})]}),(0,Ni.jsxs)("div",{className:"timestamp",children:["Last updated: ",new Date(y.timestamp).toLocaleTimeString()]})]})]}):(0,Ni.jsx)("div",{className:"intelligence-display-v3 empty",children:(0,Ni.jsxs)("div",{style:{textAlign:"center",padding:"40px"},children:[(0,Ni.jsx)("h3",{style:{color:"#00ffff",marginBottom:"20px"},children:"Intelligence Hub Ready"}),(0,Ni.jsxs)("p",{style:{color:"rgba(255,255,255,0.6)",marginBottom:"30px"},children:["Click below to load intelligence for ",(null===s||void 0===s?void 0:s.name)||"your organization"]}),(0,Ni.jsx)("button",{onClick:S,style:{background:"linear-gradient(135deg, #00ffff, #0088ff)",color:"#000",border:"none",padding:"12px 32px",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"},onMouseOver:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 8px 25px rgba(0, 255, 255, 0.3)"},onMouseOut:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="none"},children:"\ud83d\ude80 Load Intelligence"})]})})},Kl=e=>{let{organizationId:t,sharedIntelligence:n,onIntelligenceUpdate:r}=e;const[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=Rl();var t,r,i;(console.log("\ud83d\udd0d OpportunityModulePR - Organization data:",e),console.log("\ud83d\udcca Shared intelligence structure:",n),l(!0),n&&(n.news||n.gaps||n.risks))?(console.log("\ud83d\udcca Using shared intelligence to generate opportunities"),console.log("  - News items:",(null===(t=n.news)||void 0===t?void 0:t.length)||0),console.log("  - Gaps:",(null===(r=n.gaps)||void 0===r?void 0:r.length)||0),console.log("  - Risks:",(null===(i=n.risks)||void 0===i?void 0:i.length)||0),d(n,e)):e&&e.name?(console.log("\u2705 Fetching fresh intelligence for:",e.name),setTimeout(()=>{p(e)},500)):(console.error("\u26a0\ufe0f No organization data found"),s([]),setTimeout(()=>l(!1),1e3))},[t,n]);const d=(e,t)=>{console.log("\ud83d\udd0d Analyzing intelligence for PR opportunities..."),console.log("Intelligence data received:",e);const n=[],r=(new Date).getHours(),i=r>=9&&r<=17;e.news&&e.news.length>0&&(console.log("Processing",e.news.length,"news items"),e.news.forEach((e,r)=>{console.log("News item ".concat(r,":"),e),e.competitors_mentioned&&e.competitors_mentioned.length>0&&n.push({id:"opp-".concat(Date.now(),"-").concat(Math.random()),type:"Media Positioning",urgency:"high",title:"Media opportunity: Position against ".concat(e.competitors_mentioned[0]),description:"".concat(e.competitors_mentioned[0]," is dominating the narrative on ").concat(e.topic||"this topic",". There's a 48-hour window to insert ").concat(t.name,"'s unique perspective into this conversation before media attention shifts."),action_plan:["Draft contrarian or complementary angle within 2 hours","Identify 10 journalists actively covering this story","Prepare 3 executive quotes with data points","Send personalized pitches to top-tier media contacts","Prepare social media amplification strategy"],source:e.title,rationale:"Active media coverage creates immediate opportunity for earned media. Journalists are looking for fresh angles on this developing story."}),e.industry_relevant&&!e.company_mentioned&&n.push({id:"opp-".concat(Date.now(),"-").concat(Math.random()),type:"Thought Leadership",urgency:e.trending?"high":"medium",title:"Thought leadership pitch: ".concat(e.topic||e.title),description:"Major industry conversation happening without ".concat(t.name,"'s voice. ").concat(e.trending?"This topic is trending NOW with":"Growing media interest with"," multiple outlets covering the story. Perfect timing for an expert commentary or exclusive data reveal."),action_plan:["Develop contrarian or data-driven angle in next 4 hours","Identify top 5 publications covering this topic","Draft 800-word op-ed with exclusive insights","Create media kit with supporting data/visuals","Pitch exclusive to tier-1 publication first","Prepare LinkedIn thought leadership post for amplification"],source:e.title,rationale:"Unclaimed thought leadership space with active media interest. First authoritative voice will own the narrative and get cited in future coverage."})})),e.gaps&&e.gaps.length>0&&e.gaps.forEach(e=>{n.push({id:"opp-".concat(Date.now(),"-").concat(Math.random()),type:"Narrative Opportunity",urgency:"medium",title:e.title||"Fill narrative gap in ".concat(e.area),description:e.description||"No major player is addressing this angle. First-mover advantage available.",action_plan:e.suggested_actions||["Research unique angle","Develop compelling story","Identify target media","Execute coordinated launch"],source:"Gap Analysis",rationale:e.rationale||"Unclaimed narrative space presents opportunity for category leadership."})}),e.risks&&e.risks.length>0&&e.risks.forEach(e=>{"high"===e.severity&&n.push({id:"opp-".concat(Date.now(),"-").concat(Math.random()),type:"Crisis Prevention",urgency:"critical",title:"Proactive response to ".concat(e.issue),description:"Emerging issue detected that could impact ".concat(t.name,". Proactive communication recommended."),action_plan:["Assess exposure immediately","Prepare holding statement","Brief crisis team","Consider proactive disclosure"],source:"Risk Detection",rationale:"Early action can prevent narrative from cascading negatively."})}),0===n.length&&(console.log("\ud83d\udcdd No opportunities from intelligence, generating time-based opportunities"),i&&n.push({id:"opp-morning-".concat(Date.now()),type:"Media Positioning",urgency:"high",title:"Breaking: Industry shift creates media opportunity",description:"A major development in the ".concat(t.industry||"technology"," sector is trending. Early movers can shape the narrative before competitors respond. Media outlets are actively seeking expert commentary."),why:"Journalists are looking for fresh perspectives RIGHT NOW. First responders will be quoted as the authority on this topic. The news cycle moves fast - this window closes in hours.",how:"1. Draft your unique angle immediately\n2. Identify 5 journalists covering this story\n3. Send personalized pitches within the hour\n4. Prepare for rapid-response interviews\n5. Amplify coverage across your channels",source:"Real-time Media Monitoring",rationale:"Active news cycle creates immediate opportunity for earned media coverage."}),n.push({id:"opp-trending-".concat(Date.now()),type:"Thought Leadership",urgency:"medium",title:"Emerging narrative vacuum in ".concat(t.industry||"your industry"),description:"No major player has claimed thought leadership on this week's trending topic. ".concat(t.name," can establish authority by being first with substantive commentary."),why:"The conversation is happening NOW without ".concat(t.name,"'s voice. Competitors haven't moved yet. Media is hungry for expert perspectives."),how:"1. Research unique data or insights you can share\n2. Draft 800-word thought leadership piece\n3. Pitch as exclusive to tier-1 publication\n4. Prepare LinkedIn article for amplification\n5. Brief executives for follow-up interviews",source:"Narrative Analysis",rationale:"Unclaimed thought leadership space with growing media interest."})),console.log("\ud83c\udfaf Total opportunities generated:",n.length),console.log("Opportunities:",n),s(n),l(!1)},p=async e=>{l(!0);try{console.log("\ud83c\udfaf Gathering PR Intelligence for:",e.name);const t=(()=>{const e=localStorage.getItem("opportunity_profile");if(e)try{return JSON.parse(e)}catch(oc){console.warn("Error parsing opportunity profile:",oc)}const t=localStorage.getItem("signaldesk_unified_profile");if(t)try{var n,r,i,a,s,o,l,c;const e=JSON.parse(t);return{minimum_confidence:(null===(n=e.opportunities)||void 0===n?void 0:n.minimum_confidence)||70,opportunity_types:(null===(r=e.opportunities)||void 0===r?void 0:r.types)||{competitor_weakness:!0,narrative_vacuum:!0,cascade_effect:!0,crisis_prevention:!0,viral_moment:!1},risk_tolerance:(null===(i=e.brand)||void 0===i?void 0:i.risk_tolerance)||"moderate",preferred_tiers:(null===(a=e.media)||void 0===a?void 0:a.preferred_tiers)||["tier1_business","tier1_tech"],voice:(null===(s=e.brand)||void 0===s?void 0:s.voice)||"professional",response_speed:(null===(o=e.brand)||void 0===o?void 0:o.response_speed)||"immediate",core_value_props:(null===(l=e.messaging)||void 0===l?void 0:l.core_value_props)||[],industry:(null===(c=e.organization)||void 0===c?void 0:c.industry)||"technology"}}catch(oc){console.warn("Error parsing unified profile for opportunities:",oc)}return{minimum_confidence:70,opportunity_types:{competitor_weakness:!0,narrative_vacuum:!0,cascade_effect:!0,crisis_prevention:!0,viral_moment:!1},risk_tolerance:"moderate",preferred_tiers:["tier1_business","tier1_tech"],voice:"professional",response_speed:"immediate",industry:"technology"}})(),{data:n,error:i}=await Si.functions.invoke("opportunity-orchestrator",{body:{organization:{name:e.name,industry:e.industry||"technology"},config:h(h({},t),{},{opportunity_types:t.opportunity_types||{competitor_weakness:!0,narrative_vacuum:!0,cascade_effect:!0,crisis_prevention:!0,viral_moment:!1}}),forceRefresh:!0}});if(!i&&n)if(console.log("\u2705 PR Intelligence gathered:",n),n.opportunities&&n.opportunities.length>0){const t=m(n.opportunities,e);s(t),r&&n.intelligence&&r(n.intelligence)}else console.warn("\ud83d\udced No opportunities returned from API"),s([]);else console.error("\u274c API error:",i),s([])}catch(lc){console.error("\u274c Error gathering PR intelligence:",lc),s([])}finally{l(!1)}},m=(e,t)=>e.map(e=>h(h({},e),{},{id:e.id||"opp-".concat(Date.now(),"-").concat(Math.random()),type:f(e.opportunity_type),urgency:g(e),action_plan:e.action_plan||v(e.opportunity_type,t),rationale:e.rationale||y(e,t)})),f=e=>({competitor_weakness:"Media Positioning",narrative_vacuum:"Thought Leadership",cascade_effect:"Crisis Communications",crisis_prevention:"Reputation Management",viral_moment:"Trending Story",media_opportunity:"Media Pitch"}[e]||"PR Opportunity"),g=e=>e.window_hours&&e.window_hours<24?"critical":e.window_hours&&e.window_hours<72||e.confidence>80?"high":e.window_hours&&e.window_hours<168?"medium":"low",v=(e,t)=>({narrative_vacuum:["Draft thought leadership content","Identify spokesperson","Pitch to top-tier media","Amplify through owned channels"],competitor_weakness:["Develop differentiation messaging","Brief sales and marketing teams","Prepare media outreach","Monitor competitor response"],crisis_prevention:["Assess stakeholder impact","Prepare holding statement","Brief crisis team","Monitor sentiment closely"],media_opportunity:["Confirm spokesperson availability","Prepare key messages","Provide supporting materials","Follow up with exclusive angles"]}[e]||["Assess opportunity relevance","Develop strategic approach","Execute tactical plan","Measure impact"]),y=(e,t)=>e.rationale||"This ".concat(e.opportunity_type," opportunity allows ").concat(t.name," to shape narrative and strengthen market position."),b=e=>({critical:"#FF0000",high:"#FF6B00",medium:"#FFB800",low:"#4CAF50"}[e]||"#6B7280"),w=e=>({critical:"ACT NOW",high:"HIGH PRIORITY",medium:"MEDIUM",low:"MONITOR"}[e]||e.toUpperCase());return o?(0,Ni.jsxs)("div",{className:"module-loading",children:[(0,Ni.jsx)("div",{className:"loading-spinner"}),(0,Ni.jsx)("p",{children:"Analyzing intelligence for PR opportunities..."})]}):(0,Ni.jsx)("div",{className:"pr-opportunity-module",children:c?c?(0,Ni.jsxs)("div",{className:"pr-opportunity-detail",children:[(0,Ni.jsx)("button",{className:"back-button",onClick:()=>u(null),children:"\u2190 Back to Opportunities"}),(0,Ni.jsxs)("div",{className:"detail-header",children:[(0,Ni.jsx)("h2",{children:c.title}),(0,Ni.jsx)("div",{className:"detail-urgency",style:{backgroundColor:b(c.urgency),color:"#FFF"},children:w(c.urgency)})]}),(0,Ni.jsx)("div",{className:"detail-type",children:c.type}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("h3",{children:"\ud83d\udccb Situation"}),(0,Ni.jsx)("p",{children:c.description})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("h3",{children:"\u26a1 Why Act Now"}),(0,Ni.jsx)("p",{children:c.why||c.rationale||"This opportunity has a limited window based on current news cycle momentum. Acting quickly positions you ahead of competitors."})]}),(0,Ni.jsxs)("div",{className:"detail-section",children:[(0,Ni.jsx)("h3",{children:"\ud83c\udfaf How to Execute"}),c.how?(0,Ni.jsx)("div",{className:"how-to-execute",children:c.how.split("\n").map((e,t)=>(0,Ni.jsx)("p",{className:"execution-step",children:e},t))}):c.action_plan?(0,Ni.jsx)("ol",{className:"action-plan-list",children:c.action_plan.map((e,t)=>(0,Ni.jsx)("li",{children:e},t))}):(0,Ni.jsx)("p",{children:"Develop your unique angle and reach out to relevant media contacts immediately."})]}),(0,Ni.jsxs)("div",{className:"action-buttons",children:[(0,Ni.jsx)("button",{className:"btn-primary",children:"Create Content"}),(0,Ni.jsx)("button",{className:"btn-secondary",children:"Draft Pitch"}),(0,Ni.jsx)("button",{className:"btn-secondary",children:"Find Media Contacts"})]})]}):null:(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)("div",{className:"module-header",children:[(0,Ni.jsx)("h2",{children:"PR Opportunities"}),(0,Ni.jsx)("div",{className:"header-subtitle",children:"Real-time opportunities based on current intelligence"})]}),(0,Ni.jsx)("div",{className:"opportunities-grid",children:a&&a.length>0?a.filter(e=>e&&e.title&&e.description).map(e=>(e=>e&&e.title&&e.description?(0,Ni.jsxs)("div",{className:"pr-opportunity-card",onClick:()=>u(e),children:[(0,Ni.jsxs)("div",{className:"pr-opp-header",children:[(0,Ni.jsx)("div",{className:"pr-opp-type",children:e.type}),(0,Ni.jsx)("div",{className:"pr-opp-urgency",style:{backgroundColor:b(e.urgency),color:"#FFF",fontWeight:"bold"},children:e.window||w(e.urgency)})]}),(0,Ni.jsx)("h3",{className:"pr-opp-title",children:e.title}),(0,Ni.jsx)("p",{className:"pr-opp-description",children:e.description}),e.why&&(0,Ni.jsxs)("div",{className:"pr-opp-reason",children:[(0,Ni.jsx)("strong",{children:"Why act now:"})," ",e.why]}),e.source&&(0,Ni.jsx)("div",{className:"pr-opp-source",children:e.source})]},e.id):null)(e)):(0,Ni.jsxs)("div",{className:"no-opportunities",children:[(0,Ni.jsx)("p",{children:"No immediate PR opportunities detected."}),(0,Ni.jsx)("p",{className:"hint",children:"Run Intelligence Hub to discover opportunities."})]})})]})})},Yl=e=>{let{organizationId:t}=e;const[n,r]=(0,i.useState)("campaigns"),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t&&(p(),m())},[t]);const p=async()=>{try{setTimeout(()=>{s([{id:1,title:"Q4 Product Launch",description:"Major product announcement campaign",status:"active",created_at:new Date(Date.now()-432e6).toISOString(),reach:"125K",engagement:"4.2%",sentiment:"Positive"},{id:2,title:"Thought Leadership Series",description:"CEO blog and speaking engagements",status:"active",created_at:new Date(Date.now()-864e6).toISOString(),reach:"89K",engagement:"6.8%",sentiment:"Very Positive"}])},500)}catch(lc){console.error("Error loading campaigns:",lc)}},m=async()=>{l([{id:1,name:"Press Release",icon:"\ud83d\udcf0",description:"Standard press release format"},{id:2,name:"Social Campaign",icon:"\ud83d\udcac",description:"Multi-platform social media campaign"},{id:3,name:"Crisis Response",icon:"\ud83d\udea8",description:"Rapid crisis communication plan"},{id:4,name:"Product Launch",icon:"\ud83d\ude80",description:"New product announcement campaign"},{id:5,name:"Thought Leadership",icon:"\ud83d\udca1",description:"Expert positioning content"},{id:6,name:"Event Coverage",icon:"\ud83d\udcc5",description:"Event-based PR campaign"}])};return(0,Ni.jsxs)("div",{className:"execution-module",children:[(0,Ni.jsxs)("div",{className:"module-header",children:[(0,Ni.jsxs)("h2",{className:"module-title",children:[(0,Ni.jsx)("span",{className:"module-icon",children:"\u26a1"}),"Execution Center"]}),(0,Ni.jsxs)("div",{className:"module-tabs",children:[(0,Ni.jsx)("button",{className:"tab ".concat("campaigns"===n?"active":""),onClick:()=>r("campaigns"),children:"Campaigns"}),(0,Ni.jsx)("button",{className:"tab ".concat("generator"===n?"active":""),onClick:()=>r("generator"),children:"Generator"}),(0,Ni.jsx)("button",{className:"tab ".concat("deployment"===n?"active":""),onClick:()=>r("deployment"),children:"Deployment"})]})]}),(0,Ni.jsxs)("div",{className:"module-body",children:["campaigns"===n&&(0,Ni.jsxs)("div",{className:"execution-campaigns",children:[(0,Ni.jsxs)("div",{className:"campaigns-header",children:[(0,Ni.jsx)("h3",{className:"section-title",children:"Active Campaigns"}),(0,Ni.jsx)("button",{className:"primary-btn",children:"+ New Campaign"})]}),(0,Ni.jsx)("div",{className:"campaigns-grid",children:a.length>0?a.map(e=>(0,Ni.jsxs)("div",{className:"campaign-card",children:[(0,Ni.jsxs)("div",{className:"campaign-header",children:[(0,Ni.jsx)("span",{className:"campaign-status",children:e.status}),(0,Ni.jsx)("span",{className:"campaign-date",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Ni.jsx)("h4",{className:"campaign-title",children:e.title}),(0,Ni.jsx)("p",{className:"campaign-description",children:e.description}),(0,Ni.jsxs)("div",{className:"campaign-metrics",children:[(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{className:"metric-label",children:"Reach"}),(0,Ni.jsx)("span",{className:"metric-value",children:e.reach||"0"})]}),(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{className:"metric-label",children:"Engagement"}),(0,Ni.jsx)("span",{className:"metric-value",children:e.engagement||"0%"})]}),(0,Ni.jsxs)("div",{className:"metric",children:[(0,Ni.jsx)("span",{className:"metric-label",children:"Sentiment"}),(0,Ni.jsx)("span",{className:"metric-value",children:e.sentiment||"N/A"})]})]}),(0,Ni.jsxs)("div",{className:"campaign-actions",children:[(0,Ni.jsx)("button",{className:"action-btn",children:"View Details"}),(0,Ni.jsx)("button",{className:"action-btn",children:"Edit"}),(0,Ni.jsx)("button",{className:"action-btn",children:"Analytics"})]})]},e.id)):(0,Ni.jsxs)("div",{className:"empty-state",children:[(0,Ni.jsx)("h3",{children:"No active campaigns"}),(0,Ni.jsx)("p",{children:"Create your first campaign to get started"}),(0,Ni.jsx)("button",{className:"primary-btn",children:"Create Campaign"})]})})]}),"generator"===n&&(0,Ni.jsxs)("div",{className:"execution-generator",children:[(0,Ni.jsx)("h3",{className:"section-title",children:"Content Generator"}),(0,Ni.jsxs)("div",{className:"generator-workspace",children:[(0,Ni.jsxs)("div",{className:"template-selector",children:[(0,Ni.jsx)("h4",{children:"Select Template"}),(0,Ni.jsx)("div",{className:"template-grid",children:o.map(e=>(0,Ni.jsxs)("button",{className:"template-card",children:[(0,Ni.jsx)("span",{className:"template-icon",children:e.icon}),(0,Ni.jsx)("span",{className:"template-name",children:e.name}),(0,Ni.jsx)("span",{className:"template-description",children:e.description})]},e.id))})]}),(0,Ni.jsxs)("div",{className:"generator-form",children:[(0,Ni.jsx)("h4",{children:"Content Details"}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Campaign Title"}),(0,Ni.jsx)("input",{type:"text",className:"form-input",placeholder:"Enter campaign title..."})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Key Messages"}),(0,Ni.jsx)("textarea",{className:"form-textarea",rows:"4",placeholder:"Enter key messages to include..."})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Target Audience"}),(0,Ni.jsxs)("select",{className:"form-select",children:[(0,Ni.jsx)("option",{children:"General Public"}),(0,Ni.jsx)("option",{children:"Industry Professionals"}),(0,Ni.jsx)("option",{children:"Investors"}),(0,Ni.jsx)("option",{children:"Media/Journalists"}),(0,Ni.jsx)("option",{children:"Customers"})]})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Tone"}),(0,Ni.jsxs)("div",{className:"tone-selector",children:[(0,Ni.jsx)("button",{className:"tone-option active",children:"Professional"}),(0,Ni.jsx)("button",{className:"tone-option",children:"Casual"}),(0,Ni.jsx)("button",{className:"tone-option",children:"Urgent"}),(0,Ni.jsx)("button",{className:"tone-option",children:"Inspirational"})]})]}),(0,Ni.jsxs)("div",{className:"generator-actions",children:[(0,Ni.jsx)("button",{className:"primary-btn",onClick:()=>h(!0),disabled:d,children:d?"Generating...":"Generate Content"}),(0,Ni.jsx)("button",{className:"secondary-btn",children:"Save Draft"})]})]})]})]}),"deployment"===n&&(0,Ni.jsxs)("div",{className:"execution-deployment",children:[(0,Ni.jsx)("h3",{className:"section-title",children:"Deployment Hub"}),(0,Ni.jsxs)("div",{className:"deployment-sections",children:[(0,Ni.jsxs)("div",{className:"deployment-card",children:[(0,Ni.jsx)("h4",{children:"Ready to Deploy"}),(0,Ni.jsxs)("div",{className:"deployment-queue",children:[(0,Ni.jsxs)("div",{className:"deployment-item",children:[(0,Ni.jsxs)("div",{className:"deployment-info",children:[(0,Ni.jsx)("span",{className:"deployment-type",children:"Press Release"}),(0,Ni.jsx)("span",{className:"deployment-title",children:"Q4 Earnings Announcement"})]}),(0,Ni.jsxs)("div",{className:"deployment-actions",children:[(0,Ni.jsx)("button",{className:"deploy-btn",children:"Deploy Now"}),(0,Ni.jsx)("button",{className:"schedule-btn",children:"Schedule"})]})]}),(0,Ni.jsxs)("div",{className:"deployment-item",children:[(0,Ni.jsxs)("div",{className:"deployment-info",children:[(0,Ni.jsx)("span",{className:"deployment-type",children:"Social Campaign"}),(0,Ni.jsx)("span",{className:"deployment-title",children:"Product Launch Teaser"})]}),(0,Ni.jsxs)("div",{className:"deployment-actions",children:[(0,Ni.jsx)("button",{className:"deploy-btn",children:"Deploy Now"}),(0,Ni.jsx)("button",{className:"schedule-btn",children:"Schedule"})]})]})]})]}),(0,Ni.jsxs)("div",{className:"deployment-card",children:[(0,Ni.jsx)("h4",{children:"Scheduled Deployments"}),(0,Ni.jsxs)("div",{className:"scheduled-list",children:[(0,Ni.jsxs)("div",{className:"scheduled-item",children:[(0,Ni.jsx)("div",{className:"scheduled-time",children:"Tomorrow, 9:00 AM"}),(0,Ni.jsx)("div",{className:"scheduled-content",children:"Partnership Announcement"}),(0,Ni.jsxs)("div",{className:"scheduled-channels",children:[(0,Ni.jsx)("span",{className:"channel-badge",children:"Email"}),(0,Ni.jsx)("span",{className:"channel-badge",children:"Twitter"}),(0,Ni.jsx)("span",{className:"channel-badge",children:"LinkedIn"})]})]}),(0,Ni.jsxs)("div",{className:"scheduled-item",children:[(0,Ni.jsx)("div",{className:"scheduled-time",children:"Friday, 2:00 PM"}),(0,Ni.jsx)("div",{className:"scheduled-content",children:"Weekly Industry Update"}),(0,Ni.jsxs)("div",{className:"scheduled-channels",children:[(0,Ni.jsx)("span",{className:"channel-badge",children:"Blog"}),(0,Ni.jsx)("span",{className:"channel-badge",children:"Newsletter"})]})]})]})]}),(0,Ni.jsxs)("div",{className:"deployment-card",children:[(0,Ni.jsx)("h4",{children:"Deployment Channels"}),(0,Ni.jsxs)("div",{className:"channels-grid",children:[(0,Ni.jsxs)("div",{className:"channel-status",children:[(0,Ni.jsx)("span",{className:"channel-icon",children:"\u2709\ufe0f"}),(0,Ni.jsx)("span",{className:"channel-name",children:"Email"}),(0,Ni.jsx)("span",{className:"status-indicator connected",children:"Connected"})]}),(0,Ni.jsxs)("div",{className:"channel-status",children:[(0,Ni.jsx)("span",{className:"channel-icon",children:"\ud83d\udc26"}),(0,Ni.jsx)("span",{className:"channel-name",children:"Twitter/X"}),(0,Ni.jsx)("span",{className:"status-indicator connected",children:"Connected"})]}),(0,Ni.jsxs)("div",{className:"channel-status",children:[(0,Ni.jsx)("span",{className:"channel-icon",children:"\ud83d\udcbc"}),(0,Ni.jsx)("span",{className:"channel-name",children:"LinkedIn"}),(0,Ni.jsx)("span",{className:"status-indicator connected",children:"Connected"})]}),(0,Ni.jsxs)("div",{className:"channel-status",children:[(0,Ni.jsx)("span",{className:"channel-icon",children:"\ud83d\udcdd"}),(0,Ni.jsx)("span",{className:"channel-name",children:"Blog"}),(0,Ni.jsx)("span",{className:"status-indicator connected",children:"Connected"})]}),(0,Ni.jsxs)("div",{className:"channel-status",children:[(0,Ni.jsx)("span",{className:"channel-icon",children:"\ud83d\udce7"}),(0,Ni.jsx)("span",{className:"channel-name",children:"Newsletter"}),(0,Ni.jsx)("span",{className:"status-indicator",children:"Not Connected"})]}),(0,Ni.jsxs)("div",{className:"channel-status",children:[(0,Ni.jsx)("span",{className:"channel-icon",children:"\ud83d\udcf1"}),(0,Ni.jsx)("span",{className:"channel-name",children:"Slack"}),(0,Ni.jsx)("span",{className:"status-indicator",children:"Not Connected"})]})]})]})]})]})]})]})},$l=e=>{let{organizationId:t}=e;const[n,r]=(0,i.useState)("knowledge"),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(""),[p,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t&&f()},[t]);const f=async()=>{m(!0);try{setTimeout(()=>{s([{id:1,memory_type:"campaign_outcome",memory_key:"email_campaign_q3",memory_value:{open_rate:.42,ctr:.08},confidence_score:.95,created_at:(new Date).toISOString()}]),l([{id:1,pattern_type:"timing",pattern_name:"Morning Release Success",success_rate:.87,usage_count:45}]),m(!1)},600)}catch(lc){console.error("Error loading memory data:",lc),m(!1)}},g=[{type:"campaign_outcomes",label:"Campaign Outcomes",icon:"\ud83d\udcca",count:127},{type:"media_relationships",label:"Media Relationships",icon:"\ud83d\udcf0",count:89},{type:"messaging_patterns",label:"Messaging Patterns",icon:"\ud83d\udcac",count:45},{type:"crisis_responses",label:"Crisis Responses",icon:"\ud83d\udea8",count:12},{type:"competitor_strategies",label:"Competitor Strategies",icon:"\ud83c\udfaf",count:67},{type:"audience_insights",label:"Audience Insights",icon:"\ud83d\udc65",count:234}];return p?(0,Ni.jsxs)("div",{className:"module-loading",children:[(0,Ni.jsx)("div",{className:"loading-spinner"}),(0,Ni.jsx)("p",{children:"Loading MemoryVault..."})]}):(0,Ni.jsxs)("div",{className:"memoryvault-module",children:[(0,Ni.jsxs)("div",{className:"module-header",children:[(0,Ni.jsxs)("h2",{className:"module-title",children:[(0,Ni.jsx)("span",{className:"module-icon",children:"\ud83e\udde0"}),"MemoryVault"]}),(0,Ni.jsxs)("div",{className:"module-tabs",children:[(0,Ni.jsx)("button",{className:"tab ".concat("knowledge"===n?"active":""),onClick:()=>r("knowledge"),children:"Knowledge Base"}),(0,Ni.jsx)("button",{className:"tab ".concat("patterns"===n?"active":""),onClick:()=>r("patterns"),children:"Patterns"}),(0,Ni.jsx)("button",{className:"tab ".concat("learnings"===n?"active":""),onClick:()=>r("learnings"),children:"Learnings"})]})]}),(0,Ni.jsxs)("div",{className:"module-body",children:["knowledge"===n&&(0,Ni.jsxs)("div",{className:"memoryvault-knowledge",children:[(0,Ni.jsxs)("div",{className:"knowledge-header",children:[(0,Ni.jsxs)("div",{className:"search-bar",children:[(0,Ni.jsx)("input",{type:"text",className:"search-input",placeholder:"Search knowledge base...",value:d,onChange:e=>h(e.target.value)}),(0,Ni.jsx)("button",{className:"search-btn",children:"\ud83d\udd0d Search"})]}),(0,Ni.jsx)("button",{className:"primary-btn",children:"+ Add Memory"})]}),(0,Ni.jsx)("div",{className:"memory-categories",children:g.map(e=>(0,Ni.jsxs)("div",{className:"category-card",children:[(0,Ni.jsx)("div",{className:"category-icon",children:e.icon}),(0,Ni.jsxs)("div",{className:"category-info",children:[(0,Ni.jsx)("div",{className:"category-label",children:e.label}),(0,Ni.jsxs)("div",{className:"category-count",children:[e.count," entries"]})]}),(0,Ni.jsx)("div",{className:"category-trend",children:"+12% this month"})]},e.type))}),(0,Ni.jsxs)("div",{className:"recent-memories",children:[(0,Ni.jsx)("h3",{className:"section-title",children:"Recent Memories"}),(0,Ni.jsxs)("div",{className:"memories-list",children:[(0,Ni.jsxs)("div",{className:"memory-item",children:[(0,Ni.jsxs)("div",{className:"memory-header",children:[(0,Ni.jsx)("span",{className:"memory-type",children:"Campaign Outcome"}),(0,Ni.jsx)("span",{className:"memory-date",children:"2 hours ago"})]}),(0,Ni.jsxs)("div",{className:"memory-content",children:[(0,Ni.jsx)("strong",{children:"Product Launch Campaign:"})," Email open rate of 42% exceeded target by 12%. Subject line with emoji performed 3x better than plain text."]}),(0,Ni.jsxs)("div",{className:"memory-meta",children:[(0,Ni.jsx)("span",{className:"confidence",children:"Confidence: 95%"}),(0,Ni.jsx)("span",{className:"source",children:"Source: Campaign Analytics"})]})]}),(0,Ni.jsxs)("div",{className:"memory-item",children:[(0,Ni.jsxs)("div",{className:"memory-header",children:[(0,Ni.jsx)("span",{className:"memory-type",children:"Media Relationship"}),(0,Ni.jsx)("span",{className:"memory-date",children:"Yesterday"})]}),(0,Ni.jsxs)("div",{className:"memory-content",children:[(0,Ni.jsx)("strong",{children:"TechCrunch Reporter:"})," Prefers exclusive stories, responds best to Tuesday morning pitches. Interested in AI ethics and sustainability topics."]}),(0,Ni.jsxs)("div",{className:"memory-meta",children:[(0,Ni.jsx)("span",{className:"confidence",children:"Confidence: 88%"}),(0,Ni.jsx)("span",{className:"source",children:"Source: Email Interactions"})]})]}),(0,Ni.jsxs)("div",{className:"memory-item",children:[(0,Ni.jsxs)("div",{className:"memory-header",children:[(0,Ni.jsx)("span",{className:"memory-type",children:"Messaging Pattern"}),(0,Ni.jsx)("span",{className:"memory-date",children:"3 days ago"})]}),(0,Ni.jsxs)("div",{className:"memory-content",children:[(0,Ni.jsx)("strong",{children:"Crisis Communication:"})," Transparent, early communication reduces negative sentiment by 65%. CEO statement within first 2 hours critical for trust."]}),(0,Ni.jsxs)("div",{className:"memory-meta",children:[(0,Ni.jsx)("span",{className:"confidence",children:"Confidence: 92%"}),(0,Ni.jsx)("span",{className:"source",children:"Source: Historical Analysis"})]})]})]})]})]}),"patterns"===n&&(0,Ni.jsxs)("div",{className:"memoryvault-patterns",children:[(0,Ni.jsx)("h3",{className:"section-title",children:"Learned Patterns"}),(0,Ni.jsxs)("div",{className:"patterns-grid",children:[(0,Ni.jsxs)("div",{className:"pattern-card success",children:[(0,Ni.jsxs)("div",{className:"pattern-header",children:[(0,Ni.jsx)("span",{className:"pattern-icon",children:"\u2705"}),(0,Ni.jsx)("h4",{children:"Successful Patterns"})]}),(0,Ni.jsxs)("div",{className:"pattern-list",children:[(0,Ni.jsxs)("div",{className:"pattern-item",children:[(0,Ni.jsx)("div",{className:"pattern-name",children:"Morning Press Release Timing"}),(0,Ni.jsxs)("div",{className:"pattern-stats",children:[(0,Ni.jsx)("span",{className:"success-rate",children:"87% success rate"}),(0,Ni.jsx)("span",{className:"usage",children:"Used 45 times"})]}),(0,Ni.jsx)("div",{className:"pattern-description",children:"Releases sent between 9-10 AM EST get 3x more coverage"})]}),(0,Ni.jsxs)("div",{className:"pattern-item",children:[(0,Ni.jsx)("div",{className:"pattern-name",children:"Data-Driven Headlines"}),(0,Ni.jsxs)("div",{className:"pattern-stats",children:[(0,Ni.jsx)("span",{className:"success-rate",children:"92% success rate"}),(0,Ni.jsx)("span",{className:"usage",children:"Used 67 times"})]}),(0,Ni.jsx)("div",{className:"pattern-description",children:"Headlines with specific metrics get 2.5x more engagement"})]}),(0,Ni.jsxs)("div",{className:"pattern-item",children:[(0,Ni.jsx)("div",{className:"pattern-name",children:"Exclusive Media Previews"}),(0,Ni.jsxs)("div",{className:"pattern-stats",children:[(0,Ni.jsx)("span",{className:"success-rate",children:"78% success rate"}),(0,Ni.jsx)("span",{className:"usage",children:"Used 23 times"})]}),(0,Ni.jsx)("div",{className:"pattern-description",children:"24-hour exclusive to tier-1 media increases overall coverage"})]})]})]}),(0,Ni.jsxs)("div",{className:"pattern-card warning",children:[(0,Ni.jsxs)("div",{className:"pattern-header",children:[(0,Ni.jsx)("span",{className:"pattern-icon",children:"\u26a0\ufe0f"}),(0,Ni.jsx)("h4",{children:"Patterns to Avoid"})]}),(0,Ni.jsxs)("div",{className:"pattern-list",children:[(0,Ni.jsxs)("div",{className:"pattern-item",children:[(0,Ni.jsx)("div",{className:"pattern-name",children:"Friday Afternoon Announcements"}),(0,Ni.jsxs)("div",{className:"pattern-stats",children:[(0,Ni.jsx)("span",{className:"failure-rate",children:"73% lower engagement"}),(0,Ni.jsx)("span",{className:"usage",children:"Avoided 12 times"})]}),(0,Ni.jsx)("div",{className:"pattern-description",children:"News released after 3 PM Friday gets minimal coverage"})]}),(0,Ni.jsxs)("div",{className:"pattern-item",children:[(0,Ni.jsx)("div",{className:"pattern-name",children:"Technical Jargon in Headlines"}),(0,Ni.jsxs)("div",{className:"pattern-stats",children:[(0,Ni.jsx)("span",{className:"failure-rate",children:"65% lower pickup"}),(0,Ni.jsx)("span",{className:"usage",children:"Avoided 34 times"})]}),(0,Ni.jsx)("div",{className:"pattern-description",children:"Overly technical language reduces mainstream media interest"})]})]})]}),(0,Ni.jsxs)("div",{className:"pattern-card emerging",children:[(0,Ni.jsxs)("div",{className:"pattern-header",children:[(0,Ni.jsx)("span",{className:"pattern-icon",children:"\ud83d\udd04"}),(0,Ni.jsx)("h4",{children:"Emerging Patterns"})]}),(0,Ni.jsxs)("div",{className:"pattern-list",children:[(0,Ni.jsxs)("div",{className:"pattern-item",children:[(0,Ni.jsx)("div",{className:"pattern-name",children:"Video-First Announcements"}),(0,Ni.jsxs)("div",{className:"pattern-stats",children:[(0,Ni.jsx)("span",{className:"trend",children:"+45% engagement"}),(0,Ni.jsx)("span",{className:"usage",children:"Testing: 8 times"})]}),(0,Ni.jsx)("div",{className:"pattern-description",children:"Short video teasers before official announcements showing promise"})]}),(0,Ni.jsxs)("div",{className:"pattern-item",children:[(0,Ni.jsx)("div",{className:"pattern-name",children:"Thread-Style Narratives"}),(0,Ni.jsxs)("div",{className:"pattern-stats",children:[(0,Ni.jsx)("span",{className:"trend",children:"+32% reach"}),(0,Ni.jsx)("span",{className:"usage",children:"Testing: 5 times"})]}),(0,Ni.jsx)("div",{className:"pattern-description",children:"Breaking news into social media threads increases virality"})]})]})]})]})]}),"learnings"===n&&(0,Ni.jsxs)("div",{className:"memoryvault-learnings",children:[(0,Ni.jsx)("h3",{className:"section-title",children:"Strategic Learnings"}),(0,Ni.jsxs)("div",{className:"learnings-timeline",children:[(0,Ni.jsxs)("div",{className:"learning-entry",children:[(0,Ni.jsx)("div",{className:"learning-date",children:"This Week"}),(0,Ni.jsxs)("div",{className:"learning-cards",children:[(0,Ni.jsxs)("div",{className:"learning-card",children:[(0,Ni.jsx)("div",{className:"learning-type",children:"Audience Insight"}),(0,Ni.jsx)("div",{className:"learning-content",children:"Developer audience engagement peaks during hackathon seasons (March, June, October). Plan technical announcements around these periods."}),(0,Ni.jsx)("div",{className:"learning-impact",children:"High Impact"})]}),(0,Ni.jsxs)("div",{className:"learning-card",children:[(0,Ni.jsx)("div",{className:"learning-type",children:"Competitor Analysis"}),(0,Ni.jsx)("div",{className:"learning-content",children:"Competitor A's partnership announcements follow a predictable quarterly pattern. Opportunity to counter-program with strategic timing."}),(0,Ni.jsx)("div",{className:"learning-impact",children:"Medium Impact"})]})]})]}),(0,Ni.jsxs)("div",{className:"learning-entry",children:[(0,Ni.jsx)("div",{className:"learning-date",children:"Last Week"}),(0,Ni.jsxs)("div",{className:"learning-cards",children:[(0,Ni.jsxs)("div",{className:"learning-card",children:[(0,Ni.jsx)("div",{className:"learning-type",children:"Crisis Learning"}),(0,Ni.jsx)("div",{className:"learning-content",children:"Quick response with employee testimonials reduced crisis duration by 60%. Internal voices more trusted than executive statements alone."}),(0,Ni.jsx)("div",{className:"learning-impact",children:"Critical Learning"})]}),(0,Ni.jsxs)("div",{className:"learning-card",children:[(0,Ni.jsx)("div",{className:"learning-type",children:"Media Preference"}),(0,Ni.jsx)("div",{className:"learning-content",children:"Industry publications prefer detailed technical deep-dives over surface-level announcements. Include architecture diagrams and code samples."}),(0,Ni.jsx)("div",{className:"learning-impact",children:"High Impact"})]})]})]}),(0,Ni.jsxs)("div",{className:"learning-entry",children:[(0,Ni.jsx)("div",{className:"learning-date",children:"Last Month"}),(0,Ni.jsx)("div",{className:"learning-cards",children:(0,Ni.jsxs)("div",{className:"learning-card",children:[(0,Ni.jsx)("div",{className:"learning-type",children:"Campaign Optimization"}),(0,Ni.jsx)("div",{className:"learning-content",children:"Multi-channel campaigns with 5+ touchpoints generate 3x more qualified leads than single-channel efforts. Minimum viable campaign should include: press release, blog, social, email, and partner outreach."}),(0,Ni.jsx)("div",{className:"learning-impact",children:"Strategic Priority"})]})})]})]}),(0,Ni.jsxs)("div",{className:"insights-summary",children:[(0,Ni.jsx)("h4",{children:"Key Insights This Quarter"}),(0,Ni.jsxs)("div",{className:"insights-grid",children:[(0,Ni.jsxs)("div",{className:"insight-stat",children:[(0,Ni.jsx)("div",{className:"stat-value",children:"73%"}),(0,Ni.jsx)("div",{className:"stat-label",children:"Pattern Recognition Accuracy"})]}),(0,Ni.jsxs)("div",{className:"insight-stat",children:[(0,Ni.jsx)("div",{className:"stat-value",children:"156"}),(0,Ni.jsx)("div",{className:"stat-label",children:"New Patterns Identified"})]}),(0,Ni.jsxs)("div",{className:"insight-stat",children:[(0,Ni.jsx)("div",{className:"stat-value",children:"89%"}),(0,Ni.jsx)("div",{className:"stat-label",children:"Successful Predictions"})]}),(0,Ni.jsxs)("div",{className:"insight-stat",children:[(0,Ni.jsx)("div",{className:"stat-value",children:"$2.3M"}),(0,Ni.jsx)("div",{className:"stat-label",children:"Value from Optimizations"})]})]})]})]})]})]})},Xl=e=>{let{activeModule:t,organizationData:n,onModuleSwitch:r,embedded:a=!1}=e;const[s,o]=(0,i.useState)([{role:"assistant",content:"Hello! I'm Niv, your Strategic PR Advisor. I have access to all four modules - Intelligence, Opportunity, Execution, and MemoryVault. \n\nI'm here to interpret insights, validate opportunities, guide your execution, and connect patterns from past experiences. \n\nWhat strategic challenge can I help you with today?"}]),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),h=(0,i.useRef)(null);(0,i.useEffect)(()=>{(()=>{var e;null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[s]);const p=async()=>{if(!l.trim()||u)return;const e=l.trim();c(""),o(t=>[...t,{role:"user",content:e}]),d(!0);try{const i=localStorage.getItem("token"),a=await fetch("/api/niv/strategic-advice",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({message:e,context:{activeModule:t,organizationId:null===n||void 0===n?void 0:n.id,organizationName:null===n||void 0===n?void 0:n.name}})});if(a.ok){const e=await a.json();o(t=>[...t,{role:"assistant",content:e.advice,suggestions:e.suggestions,relatedModule:e.relatedModule}]),e.suggestedModule&&e.suggestedModule!==t&&setTimeout(()=>{window.confirm("Would you like to switch to the ".concat(e.suggestedModule," module?"))&&r(e.suggestedModule)},500)}else o(n=>[...n,{role:"assistant",content:m(e,t)}])}catch(lc){console.error("Error getting strategic advice:",lc),o(n=>[...n,{role:"assistant",content:m(e,t)}])}finally{d(!1)}},m=(e,t)=>{const n=e.toLowerCase();return n.includes("competitor")||n.includes("monitor")||n.includes("intelligence")?"Based on your Intelligence data, I see several strategic considerations:\n\n1. **Competitive Landscape**: Your competitors are actively engaging in sustainability messaging. This creates an opportunity for differentiation through authentic action rather than just messaging.\n\n2. **Media Monitoring**: Recent sentiment shows 72% positive coverage, but there's a vulnerability in technical product discussions where clarity could be improved.\n\n3. **Strategic Recommendation**: Focus on demonstrable results rather than promises. The data shows audiences respond 3x better to case studies than forward-looking statements.\n\nWould you like me to help you identify specific opportunities based on these insights?":n.includes("opportunity")||n.includes("timing")||n.includes("when")?"Looking at your Opportunity Queue, here's my strategic assessment:\n\n1. **Immediate Window** (Next 48 hours): There's a trending discussion about AI ethics that aligns perfectly with your thought leadership goals. CRS: 85, NVS: 78.\n\n2. **Upcoming Opportunity** (Next week): Your competitor's product launch creates a counter-programming opportunity. Consider announcing your developer tools update 24 hours before.\n\n3. **Pattern Recognition**: Based on MemoryVault data, similar situations have succeeded when you lead with customer success stories rather than feature lists.\n\nThe optimal action window is within the next 48 hours. Shall I guide you through the execution strategy?":n.includes("create")||n.includes("write")||n.includes("campaign")||n.includes("execute")?'For execution strategy, I recommend:\n\n1. **Template Selection**: Based on the context, use the "Thought Leadership" template but modify section 2 to emphasize practical applications over theory.\n\n2. **Messaging Framework**: Lead with the problem (30%), introduce your solution (40%), provide proof points (30%). This distribution has shown 92% success rate in similar campaigns.\n\n3. **Channel Strategy**: \n   - Primary: Industry publications (morning release)\n   - Secondary: LinkedIn (CEO perspective)\n   - Support: Developer forums (technical deep-dive)\n\nRemember: The Execution Module can generate the actual content. I\'m here to ensure it aligns with your strategic objectives. Would you like me to review your messaging strategy?':n.includes("before")||n.includes("worked")||n.includes("pattern")||n.includes("memory")?"Consulting the MemoryVault, I found relevant patterns:\n\n1. **Similar Situation** (3 months ago): You faced a comparable challenge with the Q3 product launch. The winning strategy was to preview features with key customers before public announcement, generating authentic testimonials.\n\n2. **Success Pattern**: Your most effective campaigns share three elements:\n   - Data-driven headline (2.5x more engagement)\n   - Customer voice in first paragraph (3x more trust)\n   - Clear call-to-action (45% higher conversion)\n\n3. **Lesson Learned**: Avoid Friday announcements - historical data shows 73% lower engagement.\n\nThis pattern has an 87% success rate. Would you like me to help adapt it to your current situation?":"Let me provide strategic guidance based on your current context:\n\n**Current Module**: ".concat(t.charAt(0).toUpperCase()+t.slice(1),'\n\nI can help you:\n- Interpret intelligence findings and identify strategic implications\n- Validate and prioritize opportunities based on your objectives\n- Guide execution with proven patterns and frameworks\n- Connect current situations to successful past strategies\n\nWhat specific strategic challenge would you like to explore? For example:\n- "What opportunities should we prioritize this week?"\n- "How should we respond to competitor\'s announcement?"\n- "What worked well in similar situations?"')};return(0,Ni.jsxs)("div",{className:"niv-strategic-advisor ".concat(a?"embedded":""),children:[!a&&(0,Ni.jsxs)("div",{className:"niv-header",children:[(0,Ni.jsxs)("div",{className:"niv-title",children:[(0,Ni.jsx)("span",{className:"niv-icon",children:"\ud83e\udd16"}),(0,Ni.jsxs)("div",{className:"niv-info",children:[(0,Ni.jsx)("h3",{children:"Niv - Strategic Advisor"}),(0,Ni.jsx)("p",{className:"niv-subtitle",children:"Interprets \u2022 Validates \u2022 Guides \u2022 Connects"})]})]}),(0,Ni.jsxs)("div",{className:"niv-status",children:[(0,Ni.jsx)("span",{className:"status-indicator online"}),(0,Ni.jsx)("span",{children:"Online"})]})]}),(0,Ni.jsxs)("div",{className:"niv-messages",children:[s.map((e,t)=>(0,Ni.jsxs)("div",{className:"message ".concat(e.role),children:["assistant"===e.role&&(0,Ni.jsx)("div",{className:"message-avatar",children:"N"}),(0,Ni.jsxs)("div",{className:"message-content",children:[(0,Ni.jsx)("div",{className:"message-text",children:e.content}),e.suggestions&&(0,Ni.jsx)("div",{className:"message-suggestions",children:e.suggestions.map((e,t)=>(0,Ni.jsx)("button",{className:"suggestion-btn",onClick:()=>c(e),children:e},t))}),e.relatedModule&&(0,Ni.jsxs)("div",{className:"related-module",children:[(0,Ni.jsxs)("span",{children:["Related: ",e.relatedModule]}),(0,Ni.jsxs)("button",{className:"switch-module-btn",onClick:()=>r(e.relatedModule.toLowerCase()),children:["Go to ",e.relatedModule]})]})]})]},t)),u&&(0,Ni.jsxs)("div",{className:"message assistant",children:[(0,Ni.jsx)("div",{className:"message-avatar",children:"N"}),(0,Ni.jsx)("div",{className:"message-content",children:(0,Ni.jsxs)("div",{className:"thinking-indicator",children:[(0,Ni.jsx)("span",{}),(0,Ni.jsx)("span",{}),(0,Ni.jsx)("span",{})]})})]}),(0,Ni.jsx)("div",{ref:h})]}),1===s.length&&(0,Ni.jsxs)("div",{className:"suggested-questions",children:[(0,Ni.jsx)("p",{children:"Try asking:"}),(0,Ni.jsx)("div",{className:"questions-grid",children:["What opportunities should we act on today?","How should we respond to the competitor news?","What patterns predict success for this campaign?","When is the optimal time to announce?"].map((e,t)=>(0,Ni.jsx)("button",{className:"question-btn",onClick:()=>c(e),children:e},t))})]}),(0,Ni.jsxs)("div",{className:"niv-input-area",children:[(0,Ni.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),p())},placeholder:"Ask for strategic advice...",className:"niv-input",rows:"2"}),(0,Ni.jsx)("button",{onClick:p,disabled:!l.trim()||u,className:"niv-send-btn",children:u?"...":"\u2192"})]}),!a&&(0,Ni.jsxs)("div",{className:"niv-footer",children:[(0,Ni.jsxs)("div",{className:"module-context",children:["Active Module: ",(0,Ni.jsx)("span",{className:"module-name",children:t})]}),(0,Ni.jsxs)("div",{className:"niv-capabilities",children:[(0,Ni.jsx)("span",{title:"Interprets Intelligence",children:"\ud83d\udd0d"}),(0,Ni.jsx)("span",{title:"Validates Opportunities",children:"\u2713"}),(0,Ni.jsx)("span",{title:"Guides Execution",children:"\ud83c\udfaf"}),(0,Ni.jsx)("span",{title:"Connects Patterns",children:"\ud83d\udd17"})]})]})]})},Ql=e=>{let{onClose:t,onOrganizationChange:n}=e;const r=ve(),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)({name:"",type:"company",description:""});(0,i.useEffect)(()=>{p()},[]);const p=()=>{const e=localStorage.getItem("signaldesk_organizations"),t=e?JSON.parse(e):[];if(0===t.length){const e=[{id:"openai",name:"OpenAI",type:"company",description:"AI research company"},{id:"test-org",name:"Test Organization",type:"company",description:"Testing and development"}];localStorage.setItem("signaldesk_organizations",JSON.stringify(e)),s(e)}else s(t);const n=localStorage.getItem("signaldesk_organization");n&&l(JSON.parse(n))},m=e=>{localStorage.setItem("signaldesk_organization",JSON.stringify(e)),localStorage.setItem("signaldesk_onboarding",JSON.stringify({organizationName:e.name,organizationType:e.type,organizationDescription:e.description})),l(e),n&&n(e),setTimeout(()=>{t&&t()},500)};return(0,Ni.jsx)("div",{className:"org-settings-overlay",children:(0,Ni.jsxs)("div",{className:"org-settings-modal",children:[(0,Ni.jsxs)("div",{className:"org-settings-header",children:[(0,Ni.jsx)("h2",{children:"Organization Settings"}),(0,Ni.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),(0,Ni.jsxs)("div",{className:"org-settings-content",children:[o&&(0,Ni.jsxs)("div",{className:"current-org-section",children:[(0,Ni.jsx)("h3",{children:"Current Organization"}),(0,Ni.jsxs)("div",{className:"current-org-card",children:[(0,Ni.jsx)("div",{className:"org-icon",children:"\ud83c\udfe2"}),(0,Ni.jsxs)("div",{className:"org-info",children:[(0,Ni.jsx)("h4",{children:o.name}),(0,Ni.jsx)("p",{children:o.description||"No description"}),(0,Ni.jsx)("span",{className:"org-type",children:o.type})]})]})]}),(0,Ni.jsxs)("div",{className:"switch-org-section",children:[(0,Ni.jsx)("h3",{children:"Switch Organization"}),(0,Ni.jsx)("div",{className:"org-list",children:a.filter(e=>e.id!==(null===o||void 0===o?void 0:o.id)).map(e=>(0,Ni.jsxs)("div",{className:"org-option",onClick:()=>m(e),children:[(0,Ni.jsx)("div",{className:"org-icon",children:"\ud83c\udfe2"}),(0,Ni.jsxs)("div",{className:"org-info",children:[(0,Ni.jsx)("h4",{children:e.name}),(0,Ni.jsx)("p",{children:e.description})]}),(0,Ni.jsxs)("div",{className:"org-actions",children:[(0,Ni.jsx)("button",{className:"switch-btn",children:"Switch"}),(0,Ni.jsx)("button",{className:"delete-btn",onClick:t=>{t.stopPropagation(),(e=>{if(window.confirm("Are you sure you want to delete this organization? This cannot be undone.")){const t=a.filter(t=>t.id!==e);localStorage.setItem("signaldesk_organizations",JSON.stringify(t)),s(t),(null===o||void 0===o?void 0:o.id)===e&&(localStorage.removeItem("signaldesk_organization"),localStorage.removeItem("signaldesk_onboarding"),l(null),t.length>0?m(t[0]):r("/initialize"))}})(e.id)},title:"Delete organization",children:"\ud83d\uddd1"})]})]},e.id))})]}),(0,Ni.jsxs)("div",{className:"new-org-section",children:[(0,Ni.jsx)("h3",{children:"Create New Organization"}),(0,Ni.jsx)("p",{className:"section-note",children:"Start the onboarding process to configure a new organization with intelligence gathering."}),(0,Ni.jsx)("button",{className:"create-org-btn",onClick:()=>{localStorage.removeItem("signaldesk_organization"),localStorage.removeItem("signaldesk_onboarding"),r("/initialize")},children:"+ Add New Organization"})]})]})]})})},Zl=e=>{let{onClose:t,onSave:n}=e;const[r,a]=(0,i.useState)({competitors:[],topics:[],keywords:[],goals:{},alertFrequency:"realtime",monitoringDepth:"comprehensive"}),[s,o]=(0,i.useState)("competitors");(0,i.useEffect)(()=>{const e=localStorage.getItem("signaldesk_onboarding");if(e){var t,n,r,i,s,o,l;const c=JSON.parse(e);a({competitors:(null===(t=c.targets)||void 0===t?void 0:t.competitors)||[],topics:(null===(n=c.intelligence)||void 0===n?void 0:n.topics)||(null===(r=c.monitoring)||void 0===r?void 0:r.topics)||[],keywords:(null===(i=c.intelligence)||void 0===i?void 0:i.keywords)||(null===(s=c.monitoring)||void 0===s?void 0:s.keywords)||[],goals:c.goals||{},alertFrequency:(null===(o=c.intelligence)||void 0===o?void 0:o.alertFrequency)||"realtime",monitoringDepth:(null===(l=c.intelligence)||void 0===l?void 0:l.monitoringDepth)||"comprehensive"})}},[]);const l=[{id:"thought_leadership",name:"Thought Leadership",desc:"Position as industry expert"},{id:"crisis_prevention",name:"Crisis Prevention",desc:"Early warning system"},{id:"media_coverage",name:"Media Coverage",desc:"Maximize press mentions"},{id:"investor_relations",name:"Investor Relations",desc:"Manage investor sentiment"},{id:"product_launches",name:"Product Launches",desc:"Amplify announcements"},{id:"competitive_positioning",name:"Competitive Edge",desc:"Win the narrative"},{id:"reputation_management",name:"Reputation",desc:"Protect brand image"},{id:"partnerships",name:"Partnerships",desc:"Collaboration opportunities"}],c=()=>(0,Ni.jsxs)("div",{className:"settings-tab-content",children:[(0,Ni.jsxs)("div",{className:"settings-section",children:[(0,Ni.jsx)("label",{children:"Competitors to Monitor"}),(0,Ni.jsx)("p",{className:"field-hint",children:"We automatically discover competitors based on your organization, but you can add more here."}),(0,Ni.jsx)("textarea",{placeholder:"Enter competitor names (one per line)\nExample:\nOpenAI\nAnthropic\nGoogle DeepMind\nCohere",value:r.competitors.join("\n"),onChange:e=>a(t=>h(h({},t),{},{competitors:e.target.value.split("\n").filter(e=>e.trim())})),className:"settings-textarea",rows:"8"})]}),(0,Ni.jsxs)("div",{className:"settings-info",children:[(0,Ni.jsx)("span",{className:"info-icon",children:"\ud83d\udca1"}),(0,Ni.jsx)("p",{children:"The system automatically tracks major competitors in your industry. Add specific competitors here that might not be automatically detected."})]})]}),u=()=>(0,Ni.jsx)("div",{className:"settings-tab-content",children:(0,Ni.jsxs)("div",{className:"settings-section",children:[(0,Ni.jsx)("label",{children:"Active PR Goals"}),(0,Ni.jsx)("p",{className:"field-hint",children:"Select goals to focus intelligence analysis"}),(0,Ni.jsx)("div",{className:"goals-grid",children:l.map(e=>(0,Ni.jsxs)("div",{className:"goal-item ".concat(r.goals[e.id]?"active":""),onClick:()=>{return t=e.id,void a(e=>h(h({},e),{},{goals:h(h({},e.goals),{},{[t]:!e.goals[t]})}));var t},children:[(0,Ni.jsxs)("div",{className:"goal-header",children:[(0,Ni.jsx)("h4",{children:e.name}),(0,Ni.jsx)("div",{className:"goal-toggle ".concat(r.goals[e.id]?"on":""),children:r.goals[e.id]?"\u2713":""})]}),(0,Ni.jsx)("p",{children:e.desc})]},e.id))})]})});return(0,Ni.jsx)("div",{className:"intel-settings-overlay",children:(0,Ni.jsxs)("div",{className:"intel-settings-modal",children:[(0,Ni.jsxs)("div",{className:"intel-settings-header",children:[(0,Ni.jsx)("h2",{children:"Intelligence Configuration"}),(0,Ni.jsx)("button",{className:"close-btn",onClick:t,children:"\xd7"})]}),(0,Ni.jsx)("div",{className:"intel-settings-tabs",children:[{id:"competitors",label:"Competitors",icon:"\u2694\ufe0f"},{id:"topics",label:"Topics",icon:"\ud83d\udccd"},{id:"goals",label:"PR Goals",icon:"\ud83c\udfaf"},{id:"alerts",label:"Alerts",icon:"\ud83d\udd14"}].map(e=>(0,Ni.jsxs)("button",{className:"settings-tab ".concat(s===e.id?"active":""),onClick:()=>o(e.id),children:[(0,Ni.jsx)("span",{className:"tab-icon",children:e.icon}),(0,Ni.jsx)("span",{className:"tab-label",children:e.label})]},e.id))}),(0,Ni.jsx)("div",{className:"intel-settings-content",children:(()=>{switch(s){case"competitors":default:return c();case"topics":return(0,Ni.jsxs)("div",{className:"settings-tab-content",children:[(0,Ni.jsxs)("div",{className:"settings-section",children:[(0,Ni.jsx)("label",{children:"Topics to Monitor"}),(0,Ni.jsx)("p",{className:"field-hint",children:"What events and topics should we track for PR opportunities?"}),(0,Ni.jsx)("textarea",{placeholder:"Enter topics to monitor (one per line)\nExample:\nAI regulation changes\nData privacy laws\nIndustry consolidation\nFunding announcements\nExecutive changes",value:r.topics.join("\n"),onChange:e=>a(t=>h(h({},t),{},{topics:e.target.value.split("\n").filter(e=>e.trim())})),className:"settings-textarea",rows:"6"})]}),(0,Ni.jsxs)("div",{className:"settings-section",children:[(0,Ni.jsx)("label",{children:"Keywords"}),(0,Ni.jsx)("p",{className:"field-hint",children:"Specific terms to always track"}),(0,Ni.jsx)("input",{type:"text",placeholder:"e.g., your product names, campaign hashtags, technology terms",value:r.keywords.join(", "),onChange:e=>a(t=>h(h({},t),{},{keywords:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),className:"settings-input"})]})]});case"goals":return u();case"alerts":return(0,Ni.jsxs)("div",{className:"settings-tab-content",children:[(0,Ni.jsxs)("div",{className:"settings-section",children:[(0,Ni.jsx)("label",{children:"Alert Frequency"}),(0,Ni.jsxs)("select",{value:r.alertFrequency,onChange:e=>a(t=>h(h({},t),{},{alertFrequency:e.target.value})),className:"settings-select",children:[(0,Ni.jsx)("option",{value:"realtime",children:"Real-time (As it happens)"}),(0,Ni.jsx)("option",{value:"hourly",children:"Hourly Digest"}),(0,Ni.jsx)("option",{value:"daily",children:"Daily Summary"}),(0,Ni.jsx)("option",{value:"weekly",children:"Weekly Report"})]})]}),(0,Ni.jsxs)("div",{className:"settings-section",children:[(0,Ni.jsx)("label",{children:"Monitoring Depth"}),(0,Ni.jsx)("div",{className:"radio-options",children:[{value:"basic",label:"Basic",desc:"Key metrics only"},{value:"standard",label:"Standard",desc:"Regular monitoring"},{value:"comprehensive",label:"Comprehensive",desc:"Deep analysis"},{value:"enterprise",label:"Enterprise",desc:"Full spectrum"}].map(e=>(0,Ni.jsxs)("label",{className:"radio-option",children:[(0,Ni.jsx)("input",{type:"radio",name:"monitoringDepth",value:e.value,checked:r.monitoringDepth===e.value,onChange:e=>a(t=>h(h({},t),{},{monitoringDepth:e.target.value}))}),(0,Ni.jsxs)("div",{className:"radio-content",children:[(0,Ni.jsx)("span",{className:"radio-label",children:e.label}),(0,Ni.jsx)("span",{className:"radio-desc",children:e.desc})]})]},e.value))})]})]})}})()}),(0,Ni.jsxs)("div",{className:"intel-settings-footer",children:[(0,Ni.jsx)("button",{className:"btn-cancel",onClick:t,children:"Cancel"}),(0,Ni.jsx)("button",{className:"btn-save",onClick:()=>{const e=localStorage.getItem("signaldesk_onboarding"),t=e?JSON.parse(e):{},i=h(h({},t),{},{targets:h(h({},t.targets),{},{competitors:r.competitors}),intelligence:h(h({},t.intelligence),{},{topics:r.topics,keywords:r.keywords,alertFrequency:r.alertFrequency,monitoringDepth:r.monitoringDepth}),monitoring:h(h({},t.monitoring),{},{topics:r.topics,keywords:r.keywords}),goals:r.goals});localStorage.setItem("signaldesk_onboarding",JSON.stringify(i)),n&&n(i),window.location.reload()},children:"Save Changes"})]})]})})},ec=()=>{const[e,t]=(0,i.useState)({environment:{},supabase:{},localStorage:{},orchestrator:{},apiTests:{},lastOrchestrationCall:null}),[n,r]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e="true"===localStorage.getItem("signaldesk_debug")||window.location.search.includes("debug=true");r(e),e&&a()},[]);const a=async()=>{var e;const n={environment:{NODE_ENV:"production",SUPABASE_URL:"https://zskaxjtyuaqazydouifp.supabase.co",SUPABASE_KEY_LENGTH:null==="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0"?void 0:208,SUPABASE_KEY_PREFIX:null===(e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0")?void 0:e.substring(0,30),BUILD_TIME:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://zskaxjtyuaqazydouifp.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",REACT_APP_API_URL:"",REACT_APP_BACKEND_URL:"https://backend-orchestrator.vercel.app",REACT_APP_MCP_BRIDGE_ENABLED:"true",REACT_APP_ENV:"production",REACT_APP_DEBUG:"false"}.REACT_APP_BUILD_TIME||"unknown",VERCEL_ENV:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://zskaxjtyuaqazydouifp.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",REACT_APP_API_URL:"",REACT_APP_BACKEND_URL:"https://backend-orchestrator.vercel.app",REACT_APP_MCP_BRIDGE_ENABLED:"true",REACT_APP_ENV:"production",REACT_APP_DEBUG:"false"}.VERCEL_ENV||"not-vercel"},supabase:{configured:!!Si,url:null===Si||void 0===Si?void 0:Si.supabaseUrl,hasAuth:!(null===Si||void 0===Si||!Si.auth),hasRealtime:!(null===Si||void 0===Si||!Si.realtime)},localStorage:{use_orchestrator:localStorage.getItem("signaldesk_use_orchestrator"),minimal_mode:localStorage.getItem("signaldesk_minimal"),cached_keys:Object.keys(localStorage).filter(e=>e.startsWith("signaldesk_")).length},orchestrator:{mode:"false"!==localStorage.getItem("signaldesk_use_orchestrator")?"enabled":"disabled",expected_flow:"false"!==localStorage.getItem("signaldesk_use_orchestrator")?"4-phase orchestration":"multi-step with personas"},apiTests:{}};try{const e="".concat("https://zskaxjtyuaqazydouifp.supabase.co","/functions/v1/test-secrets"),t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0")},body:JSON.stringify({})});if(t.ok){var r,i;const e=await t.json();n.apiTests.secrets={status:"success",hasAnthropicKey:null===(r=e.anthropic_key)||void 0===r?void 0:r.exists,anthropicKeyLength:null===(i=e.anthropic_key)||void 0===i?void 0:i.length}}else n.apiTests.secrets={status:"failed",error:"HTTP ".concat(t.status),message:await t.text()}}catch(lc){n.apiTests.secrets={status:"error",error:lc.message}}try{const e="".concat("https://zskaxjtyuaqazydouifp.supabase.co","/functions/v1/intelligent-discovery"),t=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0")},body:JSON.stringify({organization:"Test",industry_hint:"technology"})});n.apiTests.discovery={status:t.ok?"success":"failed",httpStatus:t.status}}catch(lc){n.apiTests.discovery={status:"error",error:lc.message}}t(n)};return n?(0,Ni.jsxs)("div",{style:{position:"fixed",bottom:20,right:20,width:400,maxHeight:600,overflow:"auto",background:"rgba(0, 0, 0, 0.9)",color:"#0f0",padding:15,borderRadius:8,fontFamily:"monospace",fontSize:12,zIndex:99999,border:"1px solid #0f0"},children:[(0,Ni.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,Ni.jsx)("h3",{style:{margin:0,color:"#0f0"},children:"\ud83d\udd27 Diagnostics"}),(0,Ni.jsx)("button",{onClick:()=>r(!1),style:{background:"none",border:"none",color:"#0f0",cursor:"pointer"},children:"\u2715"})]}),(0,Ni.jsxs)("div",{style:{marginBottom:10},children:[(0,Ni.jsx)("button",{onClick:a,style:{background:"#0f0",color:"#000",border:"none",padding:"5px 10px",cursor:"pointer",marginRight:10},children:"Refresh"}),(0,Ni.jsx)("button",{onClick:()=>{localStorage.setItem("signaldesk_use_orchestrator","false"===localStorage.getItem("signaldesk_use_orchestrator")?"true":"false"),a()},style:{background:"#ff0",color:"#000",border:"none",padding:"5px 10px",cursor:"pointer"},children:"Toggle Orchestrator"})]}),(0,Ni.jsx)("pre",{style:{margin:0,color:"#0f0"},children:JSON.stringify(e,null,2)}),(0,Ni.jsx)("div",{style:{marginTop:10,paddingTop:10,borderTop:"1px solid #0f0"},children:(0,Ni.jsxs)("small",{children:["Mode: ",e.orchestrator.mode,(0,Ni.jsx)("br",{}),"Flow: ",e.orchestrator.expected_flow,(0,Ni.jsx)("br",{}),"To toggle: Click button above or set localStorage"]})})]}):null},tc=()=>{var e,t,n;const r=ve(),[a,s]=(0,i.useState)("intelligence"),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[f,g]=(0,i.useState)("24h"),[v,y]=(0,i.useState)(0),[b,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{const e=Rl();if(!e||!e.name)return console.log("\ud83d\udccb No organization data found, redirecting to onboarding..."),void r("/onboarding");var t;e.id||(e.id=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().replace(/\s+/g,"-"))||"default-org");console.log("\ud83c\udfe2 RailwayV2Enhanced loaded organization:",e),l(e)},[r]);const x=[{id:"intelligence",name:"Intelligence",Icon:zl,color:"#00ffcc"},{id:"opportunities",name:"Opportunities",Icon:Ml,color:"#ff00ff"},{id:"execution",name:"Execution",Icon:Ll,color:"#00ff88"},{id:"memory",name:"Memory",Icon:Dl,color:"#8800ff"}];return(0,Ni.jsxs)("div",{className:"railway-v2",children:[(0,Ni.jsx)("div",{className:"railway-bg-animation"}),(0,Ni.jsxs)("header",{className:"railway-header",children:[(0,Ni.jsx)("div",{className:"railway-logo",children:(0,Ni.jsx)("span",{className:"logo-text",children:"SIGNALDESK"})}),(0,Ni.jsx)("nav",{className:"railway-nav",children:x.map(e=>(0,Ni.jsxs)("button",{className:"nav-button ".concat(a===e.id?"active":""),onClick:()=>s(e.id),style:{"--neon-color":e.color,"--neon-rgb":"intelligence"===e.id?"0, 255, 204":"opportunities"===e.id?"255, 0, 255":"execution"===e.id?"0, 255, 136":"136, 0, 255"},children:[(0,Ni.jsx)("span",{className:"nav-icon",children:(0,Ni.jsx)(e.Icon,{size:20,color:a===e.id?e.color:"rgba(255,255,255,0.7)"})}),(0,Ni.jsx)("span",{className:"nav-text",children:e.name}),(0,Ni.jsx)("div",{className:"neon-glow"})]},e.id))}),(0,Ni.jsxs)("div",{className:"railway-status",children:[(0,Ni.jsxs)("button",{className:"org-settings-btn",onClick:()=>h(!0),title:"Organization Settings",children:[(0,Ni.jsx)("span",{className:"settings-icon",children:"\u2699"}),(0,Ni.jsx)("span",{className:"org-name",children:(null===o||void 0===o?void 0:o.name)||"Select Organization"})]}),(0,Ni.jsx)("div",{className:"status-indicator active"})]})]}),(0,Ni.jsxs)("div",{className:"railway-body",children:[(0,Ni.jsx)("div",{className:"railway-content ".concat(c?"niv-collapsed":""),children:(0,Ni.jsxs)("div",{className:"module-container",children:[(0,Ni.jsxs)("div",{className:"module-header",children:[(0,Ni.jsxs)("h2",{className:"module-title",children:[(0,Ni.jsx)("span",{className:"module-icon",children:(null===(e=x.find(e=>e.id===a))||void 0===e?void 0:e.Icon)&&i.createElement(x.find(e=>e.id===a).Icon,{size:24,color:null===(t=x.find(e=>e.id===a))||void 0===t?void 0:t.color})}),null===(n=x.find(e=>e.id===a))||void 0===n?void 0:n.name," Hub"]}),(0,Ni.jsxs)("div",{className:"module-actions",children:["intelligence"===a&&(0,Ni.jsxs)(Ni.Fragment,{children:[(0,Ni.jsxs)("select",{value:f,onChange:e=>g(e.target.value),className:"action-select timeframe",children:[(0,Ni.jsx)("option",{value:"24h",children:"24 Hours"}),(0,Ni.jsx)("option",{value:"7d",children:"7 Days"}),(0,Ni.jsx)("option",{value:"30d",children:"30 Days"})]}),(0,Ni.jsxs)("button",{className:"action-btn refresh",onClick:()=>y(e=>e+1),title:"Refresh Intelligence",children:[(0,Ni.jsx)(Fl,{size:16,color:"#00ff88"}),(0,Ni.jsx)("span",{children:"Refresh"})]})]}),(0,Ni.jsxs)("button",{className:"action-btn settings",onClick:()=>{"intelligence"===a?m(!0):h(!0)},children:[(0,Ni.jsx)(Ul,{size:16,color:"#00ffcc"}),(0,Ni.jsx)("span",{children:"Settings"})]})]})]}),(0,Ni.jsx)("div",{className:"module-content",children:(()=>{switch(a){case"intelligence":return(0,Ni.jsx)(Gl,{organization:o,refreshTrigger:v,onIntelligenceUpdate:w});case"opportunities":return(0,Ni.jsx)(Kl,{organizationId:null===o||void 0===o?void 0:o.id,sharedIntelligence:b,onIntelligenceUpdate:w});case"execution":return(0,Ni.jsx)(Yl,{organizationId:null===o||void 0===o?void 0:o.id});case"memory":return(0,Ni.jsx)($l,{organizationId:null===o||void 0===o?void 0:o.id});default:return(0,Ni.jsx)(Gl,{organization:o,refreshTrigger:v})}})()})]})}),(0,Ni.jsxs)("div",{className:"niv-panel ".concat(c?"minimized":""),children:[(0,Ni.jsxs)("div",{className:"niv-panel-header",children:[(0,Ni.jsxs)("div",{className:"niv-title",children:[(0,Ni.jsx)("span",{className:"niv-icon",children:"\ud83e\udd16"}),(0,Ni.jsx)("span",{className:"niv-name",children:"Niv Strategic Advisor"})]}),(0,Ni.jsx)("button",{className:"niv-minimize-btn",onClick:()=>u(!c),title:c?"Expand":"Minimize",children:c?"\u25c0":"\u25b6"})]}),!c&&(0,Ni.jsx)(Xl,{organizationId:null===o||void 0===o?void 0:o.id,activeModule:a,embedded:!0})]})]}),d&&(0,Ni.jsx)(Ql,{onClose:()=>h(!1),onOrganizationChange:e=>{l(e),window.location.reload()}}),p&&(0,Ni.jsx)(Zl,{onClose:()=>m(!1),onSave:e=>{m(!1)}}),(0,Ni.jsx)(ec,{})]})};const nc=new class{constructor(){this.supabaseUrl="https://zskaxjtyuaqazydouifp.supabase.co",this.supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",this.cache=new Map}async discoverCompanyIntelligence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("\ud83d\udd0d Starting intelligent discovery for ".concat(e));const r="".concat(e,"_").concat(t);if(this.cache.has(r))return console.log("\ud83d\udce6 Using cached discovery"),this.cache.get(r);try{const i=await this.analyzeCompanyWithClaude(e,t,n),a=await this.discoverRealCompetitors(e,i.industry),s=await this.mapRealStakeholders(e,i.industry),o=await this.identifyRelevantTopics(i),l=await this.generateSmartKeywords(e,i),c={company:h({name:e,website:t,description:n||i.description},i),competitors:a,stakeholders:s,topics:o,keywords:l,monitoring_strategy:this.createMonitoringStrategy(i),discovered_at:(new Date).toISOString()};return this.cache.set(r,c),c}catch(lc){return console.error("Discovery failed:",lc),this.getFallbackDiscovery(e)}}async analyzeCompanyWithClaude(e,t,n){const r="\n      Analyze this company and provide structured intelligence:\n      Company: ".concat(e,"\n      Website: ").concat(t||"not provided","\n      Description: ").concat(n||"not provided",'\n      \n      Provide a JSON response with:\n      1. industry: The PRIMARY industry (e.g., "automotive", "finance", "technology")\n      2. sub_industry: More specific category\n      3. business_model: How they make money\n      4. market_position: leader/challenger/emerging/niche\n      5. key_products: Main products/services\n      6. target_customers: Who they sell to\n      7. geographic_focus: Where they operate\n      8. company_stage: startup/growth/mature/enterprise\n      9. likely_pain_points: Current challenges they face\n      10. description: One sentence describing what they do\n      \n      Be specific and accurate. If this is a well-known company, use your knowledge.\n      For example:\n      - Toyota = automotive giant, not tech company\n      - Mitsui & Co = Japanese trading conglomerate (sogo shosha), not just "finance"\n      - Goldman Sachs = investment banking, not generic "finance"\n    ');try{console.log("\ud83d\udd0d Calling Claude API for company analysis..."),console.log("URL:","".concat(this.supabaseUrl,"/functions/v1/claude-intelligence-synthesizer-v2")),console.log("Has API Key:",!!this.supabaseKey);const t=await fetch("".concat(this.supabaseUrl,"/functions/v1/claude-intelligence-synthesizer-v2"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.supabaseKey)},body:JSON.stringify({intelligence_type:"company_analysis",prompt:r,organization:{name:e}})});if(console.log("Response status:",t.status),t.ok){const n=await t.json();return console.log("\u2705 Claude analysis successful:",n),n.analysis?(console.log("\ud83c\udfaf Discovered competitors:",n.analysis.competitors),n.analysis):this.getDefaultAnalysis(e)}{const e=await t.text();console.error("\u274c Claude API error:",t.status,e)}}catch(lc){console.error("\u274c Claude analysis failed:",lc)}return this.getDefaultAnalysis(e)}async discoverRealCompetitors(e,t){const n=(t||"").toLowerCase();console.log("\ud83d\udd0d Looking up competitors for:",e,"in industry:",n);const r=({automotive:{Toyota:["Tesla","Volkswagen","General Motors","Ford","Stellantis","BYD","Honda","Hyundai"],Tesla:["Toyota","Volkswagen","BYD","Rivian","Lucid","Polestar","NIO","Xpeng"],Ford:["General Motors","Stellantis","Toyota","Tesla","Rivian","Volkswagen"]},trading:{"Mitsui & Co":["Mitsubishi Corporation","Itochu","Sumitomo Corporation","Marubeni","Sojitz","Toyota Tsusho"],"Mitsubishi Corporation":["Mitsui & Co","Itochu","Sumitomo Corporation","Marubeni"]},"diversified conglomerate":{"Mitsui & Co":["Mitsubishi Corporation","Itochu Corporation","Sumitomo Corporation","Marubeni Corporation","Sojitz","Toyota Tsusho"],"Mitsui & Co.":["Mitsubishi Corporation","Itochu Corporation","Sumitomo Corporation","Marubeni Corporation","Sojitz","Toyota Tsusho"]},finance:{"Goldman Sachs":["Morgan Stanley","JPMorgan","Bank of America","Citigroup","Barclays","Deutsche Bank"],JPMorgan:["Bank of America","Citigroup","Wells Fargo","Goldman Sachs","Morgan Stanley"]},technology:{OpenAI:["Anthropic","Google DeepMind","Microsoft","Meta AI","Cohere","Stability AI","Midjourney"],Microsoft:["Google","Amazon","Apple","Meta","Oracle","Salesforce","IBM"],Palantir:["Snowflake","Databricks","C3.ai","SAS","IBM","Oracle","Splunk"]}}[n]||{})[e];return r?r.slice(0,8):await this.discoverCompetitorsWithClaude(e,t)}async mapRealStakeholders(e,t){const n={investors:[],customers:[],partners:[],regulators:[],analysts:[],media:[]};return"automotive"===t?(n.regulators=["NHTSA","EPA","CARB","EU Commission","METI (Japan)"],n.analysts=["Cox Automotive","JD Power","IHS Markit","Bloomberg Intelligence"],n.media=["Automotive News","Car and Driver","Motor Trend","Electrek"]):"finance"===t||"trading"===t?(n.regulators=["SEC","FINRA","Federal Reserve","FSA (Japan)","FCA (UK)"],n.analysts=["Moody's","S&P Global","Fitch Ratings","Bloomberg"],n.media=["Wall Street Journal","Financial Times","Bloomberg","Reuters"]):"technology"===t&&(n.regulators=["FTC","EU Commission","FCC","Data Protection Authorities"],n.analysts=["Gartner","Forrester","IDC","CB Insights"],n.media=["TechCrunch","The Verge","Wired","Ars Technica","The Information"]),n}async identifyRelevantTopics(e){const t=[],n={automotive:["Electric vehicle adoption","Autonomous driving regulations","Battery technology advances","Supply chain resilience","Charging infrastructure"],finance:["Interest rate changes","Regulatory compliance","Digital banking trends","Cryptocurrency regulation","ESG investing"],technology:["AI regulation","Data privacy laws","Antitrust scrutiny","Cybersecurity threats","Open source trends"]}[e.industry]||[];return t.push(...n),"startup"===e.company_stage?t.push("Funding rounds","Talent acquisition","Product-market fit"):"enterprise"===e.company_stage&&t.push("Market consolidation","Shareholder activism","Executive changes"),t}async generateSmartKeywords(e,t){const n=[e];return e.includes("&")&&n.push(e.replace("&","and")),t.ticker&&n.push("$".concat(t.ticker)),t.key_products&&n.push(...t.key_products.slice(0,3)),t.key_executives&&n.push(...t.key_executives.slice(0,2)),[...new Set(n)]}createMonitoringStrategy(e){return{focus_areas:this.determineFocusAreas(e),alert_triggers:this.defineAlertTriggers(e),opportunity_patterns:this.identifyOpportunityPatterns(e),risk_indicators:this.identifyRiskIndicators(e)}}determineFocusAreas(e){const t=[];return"leader"===e.market_position?t.push("Defend market position","Innovation leadership","Talent retention"):"challenger"===e.market_position?t.push("Competitive differentiation","Market share gains","Disruptive messaging"):"emerging"===e.market_position&&t.push("Brand awareness","Funding news","Partnership opportunities"),t}defineAlertTriggers(e){return["Competitor major announcement","Regulatory change in "+e.industry,"Market disruption event","Leadership changes at competitors","Industry consolidation moves"]}identifyOpportunityPatterns(e){return["Competitor crisis or scandal","Industry award deadlines","Speaking opportunity at conferences","Trending topic alignment","Partnership announcements"]}identifyRiskIndicators(e){return["Negative sentiment surge","Regulatory investigation news","Competitor aggressive moves","Economic downturn signals","Technology disruption threats"]}async discoverCompetitorsWithClaude(e,t){const n="\n      List the top 8 direct competitors of ".concat(e," in the ").concat(t," industry.\n      Return ONLY company names, no descriptions.\n      Focus on actual competitors they compete with for customers.\n      Format: Return as a JSON array of strings.\n    ");try{const r=await fetch("".concat(this.supabaseUrl,"/functions/v1/claude-intelligence-synthesizer-v2"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.supabaseKey)},body:JSON.stringify({intelligence_type:"competitor_discovery",prompt:n,organization:{name:e,industry:t}})});if(r.ok){return(await r.json()).competitors||[]}}catch(lc){console.error("Competitor discovery failed:",lc)}return[]}getFallbackDiscovery(e){return{company:{name:e,industry:"technology",description:"Company in the technology sector"},competitors:[],stakeholders:{regulators:["FTC","SEC"],media:["TechCrunch","WSJ"],analysts:["Gartner","Forrester"]},topics:["Industry trends","Market dynamics"],keywords:[e],monitoring_strategy:{focus_areas:["Brand awareness","Competitive position"],alert_triggers:["Major announcements","Market changes"]}}}getDefaultAnalysis(e){return{industry:"technology",sub_industry:"software",business_model:"B2B SaaS",market_position:"emerging",key_products:[],target_customers:["Enterprises"],geographic_focus:"Global",company_stage:"growth",likely_pain_points:["Market competition","Talent acquisition"],description:"".concat(e," is a company in the technology sector")}}},rc=e=>{let{onComplete:t}=e;const n=ve(),[r,a]=(0,i.useState)(1),[s,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(!1);(0,i.useEffect)(()=>{console.log("\ud83e\uddf9 Clearing all previous organization data for fresh onboarding...");["signaldesk_unified_profile","signaldesk_organization","opportunity_profile","signaldesk_onboarding"].forEach(e=>{localStorage.removeItem(e),console.log("  \u2705 Cleared ".concat(e))})},[]);const[u,d]=(0,i.useState)({organization:{id:"",name:"",industry:"",website:"",description:""},competitors:[],monitoring_topics:[],brand:{voice:"professional",risk_tolerance:"moderate",response_speed:"considered"},messaging:{core_value_props:[],proof_points:[],competitive_advantages:[],key_narratives:[]},media:{preferred_tiers:[],journalist_relationships:[],no_comment_topics:[],exclusive_partners:[]},spokespeople:[],opportunities:{types:{competitor_weakness:!0,narrative_vacuum:!0,cascade_effect:!0,crisis_prevention:!0,alliance_opening:!1},minimum_confidence:70,auto_execute_threshold:95}}),p=[{id:1,title:"Organization",icon:"\ud83c\udfe2",required:!0},{id:2,title:"Brand Voice",icon:"\ud83c\udfaf",required:!0},{id:3,title:"Key Messages",icon:"\ud83d\udcac",required:!1},{id:4,title:"Media Strategy",icon:"\ud83d\udcf0",required:!1},{id:5,title:"Opportunities",icon:"\ud83d\udc8e",required:!0}],m=()=>1!==r||u.organization.name,f=async()=>{if(u.organization.name.trim()){o(!0);try{console.log("\ud83d\udd0d Analyzing organization with Claude:",u.organization.name);const e=await nc.discoverCompanyIntelligence(u.organization.name,u.organization.website,u.organization.description);e&&e.company&&(console.log("\u2705 Claude analysis complete:",e.company),d(t=>h(h({},t),{},{organization:h(h({},t.organization),{},{industry:e.company.industry||t.organization.industry,description:e.company.description||t.organization.description,business_model:e.company.business_model,market_position:e.company.market_position,key_products:e.company.key_products,target_customers:e.company.target_customers}),competitors:e.competitors||[],monitoring_topics:e.topics||[]})),c(!0))}catch(lc){console.error("\u274c Claude analysis failed:",lc)}finally{o(!1)}}},g=async()=>{!u.organization.id&&u.organization.name&&(u.organization.id=u.organization.name.toLowerCase().replace(/\s+/g,"-"));const e=h(h({},u),{},{timestamp:(new Date).toISOString(),version:"2.0"});localStorage.setItem("signaldesk_unified_profile",JSON.stringify(e)),localStorage.setItem("signaldesk_organization",JSON.stringify(u.organization)),localStorage.setItem("opportunity_profile",JSON.stringify(h(h(h(h({},u.brand),u.messaging),u.media),{},{spokespeople:u.spokespeople,opportunity_types:u.opportunities.types,minimum_confidence:u.opportunities.minimum_confidence,auto_execute_threshold:u.opportunities.auto_execute_threshold,competitors:u.competitors}))),localStorage.setItem("signaldesk_onboarding",JSON.stringify({organization:u.organization,competitors:u.competitors,monitoring_topics:u.monitoring_topics})),t&&t(e),console.log("\u2705 Onboarding complete, navigating to main app..."),n("/")},v=()=>(0,Ni.jsxs)("div",{className:"onboarding-step",children:[(0,Ni.jsx)("h2",{children:"Tell us about your organization"}),(0,Ni.jsx)("p",{className:"step-description",children:"We'll discover your competitors and industry details through our intelligence engine."}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Organization Name *"}),(0,Ni.jsx)("input",{type:"text",placeholder:"Enter your organization name",value:u.organization.name,onChange:e=>d(h(h({},u),{},{organization:h(h({},u.organization),{},{name:e.target.value})})),className:"form-input"})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Website (optional)"}),(0,Ni.jsx)("input",{type:"url",placeholder:"https://www.example.com",value:u.organization.website,onChange:e=>d(h(h({},u),{},{organization:h(h({},u.organization),{},{website:e.target.value})})),className:"form-input"})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Brief Description"}),(0,Ni.jsx)("textarea",{placeholder:"What does your organization do?",value:u.organization.description,onChange:e=>d(h(h({},u),{},{organization:h(h({},u.organization),{},{description:e.target.value})})),className:"form-textarea",rows:3})]}),(0,Ni.jsxs)("div",{className:"analysis-section",children:[s&&(0,Ni.jsxs)("div",{className:"ai-discovery-status",children:[(0,Ni.jsx)("div",{className:"discovery-spinner"}),(0,Ni.jsx)("p",{className:"discovery-text",children:"\ud83e\udd16 AI is analyzing your organization..."}),(0,Ni.jsx)("p",{className:"discovery-detail",children:"Discovering competitors, industry trends, and strategic opportunities"})]}),l&&(0,Ni.jsxs)("div",{className:"discovered-info neon-card",children:[(0,Ni.jsxs)("h3",{className:"discovered-title",children:[(0,Ni.jsx)("span",{className:"neon-icon",children:"\u2728"}),"AI-Discovered Intelligence"]}),(0,Ni.jsxs)("div",{className:"discovered-grid",children:[u.organization.industry&&(0,Ni.jsxs)("div",{className:"discovered-item",children:[(0,Ni.jsx)("div",{className:"discovered-label",children:"Industry"}),(0,Ni.jsx)("div",{className:"discovered-value",children:u.organization.industry})]}),u.competitors.length>0&&(0,Ni.jsxs)("div",{className:"discovered-item",children:[(0,Ni.jsx)("div",{className:"discovered-label",children:"Key Competitors"}),(0,Ni.jsxs)("div",{className:"discovered-value",children:[u.competitors.slice(0,3).join(", "),u.competitors.length>3&&" +".concat(u.competitors.length-3," more")]})]}),u.monitoring_topics.length>0&&(0,Ni.jsxs)("div",{className:"discovered-item",children:[(0,Ni.jsx)("div",{className:"discovered-label",children:"Topics to Monitor"}),(0,Ni.jsxs)("div",{className:"discovered-value",children:[u.monitoring_topics.slice(0,3).join(", "),u.monitoring_topics.length>3&&" +".concat(u.monitoring_topics.length-3," more")]})]})]})]})]})]}),y=()=>(0,Ni.jsxs)("div",{className:"onboarding-step",children:[(0,Ni.jsxs)("h2",{children:["How does ",u.organization.name||"your organization"," communicate?"]}),(0,Ni.jsx)("p",{className:"step-description",children:"This helps us generate content and responses that match your brand."}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Brand Voice"}),(0,Ni.jsx)("div",{className:"option-grid",children:[{value:"professional",label:"Professional",desc:"Formal, authoritative"},{value:"conversational",label:"Conversational",desc:"Friendly, approachable"},{value:"bold",label:"Bold",desc:"Confident, assertive"},{value:"technical",label:"Technical",desc:"Detailed, precise"},{value:"inspirational",label:"Inspirational",desc:"Visionary, motivating"}].map(e=>(0,Ni.jsxs)("button",{className:"option-card ".concat(u.brand.voice===e.value?"selected":""),onClick:()=>d(h(h({},u),{},{brand:h(h({},u.brand),{},{voice:e.value})})),children:[(0,Ni.jsx)("strong",{children:e.label}),(0,Ni.jsx)("span",{children:e.desc})]},e.value))})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Risk Tolerance"}),(0,Ni.jsx)("div",{className:"option-grid",children:[{value:"conservative",label:"Conservative",desc:"Careful, measured responses"},{value:"moderate",label:"Moderate",desc:"Balanced approach"},{value:"aggressive",label:"Aggressive",desc:"First-mover, bold statements"}].map(e=>(0,Ni.jsxs)("button",{className:"option-card ".concat(u.brand.risk_tolerance===e.value?"selected":""),onClick:()=>d(h(h({},u),{},{brand:h(h({},u.brand),{},{risk_tolerance:e.value})})),children:[(0,Ni.jsx)("strong",{children:e.label}),(0,Ni.jsx)("span",{children:e.desc})]},e.value))})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Response Speed"}),(0,Ni.jsx)("div",{className:"option-grid",children:[{value:"immediate",label:"Immediate",desc:"First to respond"},{value:"considered",label:"Considered",desc:"Thoughtful responses"},{value:"strategic",label:"Strategic",desc:"Wait for right moment"}].map(e=>(0,Ni.jsxs)("button",{className:"option-card ".concat(u.brand.response_speed===e.value?"selected":""),onClick:()=>d(h(h({},u),{},{brand:h(h({},u.brand),{},{response_speed:e.value})})),children:[(0,Ni.jsx)("strong",{children:e.label}),(0,Ni.jsx)("span",{children:e.desc})]},e.value))})]})]}),b=()=>(0,Ni.jsxs)("div",{className:"onboarding-step",children:[(0,Ni.jsx)("h2",{children:"Key Messages & Proof Points"}),(0,Ni.jsx)("p",{className:"step-description",children:"Optional: Add your core messages and supporting evidence. You can skip this for now."}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Core Value Propositions"}),(0,Ni.jsxs)("div",{className:"input-list",children:[u.messaging.core_value_props.map((e,t)=>(0,Ni.jsxs)("div",{className:"input-item",children:[(0,Ni.jsx)("input",{type:"text",value:e,onChange:e=>{const n=[...u.messaging.core_value_props];n[t]=e.target.value,d(h(h({},u),{},{messaging:h(h({},u.messaging),{},{core_value_props:n})}))},placeholder:"e.g., 'Industry-leading reliability'",className:"form-input"}),(0,Ni.jsx)("button",{onClick:()=>{const e=u.messaging.core_value_props.filter((e,n)=>n!==t);d(h(h({},u),{},{messaging:h(h({},u.messaging),{},{core_value_props:e})}))},className:"remove-btn",children:"\xd7"})]},t)),(0,Ni.jsx)("button",{onClick:()=>d(h(h({},u),{},{messaging:h(h({},u.messaging),{},{core_value_props:[...u.messaging.core_value_props,""]})})),className:"add-btn-small",children:"+ Add Value Proposition"})]})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Proof Points"}),(0,Ni.jsxs)("div",{className:"input-list",children:[u.messaging.proof_points.map((e,t)=>(0,Ni.jsxs)("div",{className:"input-item",children:[(0,Ni.jsx)("input",{type:"text",value:e,onChange:e=>{const n=[...u.messaging.proof_points];n[t]=e.target.value,d(h(h({},u),{},{messaging:h(h({},u.messaging),{},{proof_points:n})}))},placeholder:"e.g., '#1 in customer satisfaction for 5 years'",className:"form-input"}),(0,Ni.jsx)("button",{onClick:()=>{const e=u.messaging.proof_points.filter((e,n)=>n!==t);d(h(h({},u),{},{messaging:h(h({},u.messaging),{},{proof_points:e})}))},className:"remove-btn",children:"\xd7"})]},t)),(0,Ni.jsx)("button",{onClick:()=>d(h(h({},u),{},{messaging:h(h({},u.messaging),{},{proof_points:[...u.messaging.proof_points,""]})})),className:"add-btn-small",children:"+ Add Proof Point"})]})]})]}),w=()=>(0,Ni.jsxs)("div",{className:"onboarding-step",children:[(0,Ni.jsx)("h2",{children:"Media Preferences"}),(0,Ni.jsx)("p",{className:"step-description",children:"Optional: Select your preferred media outlets. You can configure this later."}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Preferred Media Tiers"}),(0,Ni.jsx)("div",{className:"checkbox-grid",children:[{id:"tier1_business",label:"Business Media",desc:"WSJ, Bloomberg, FT"},{id:"tier1_tech",label:"Tech Media",desc:"TechCrunch, Verge"},{id:"tier1_general",label:"General News",desc:"NYT, CNN, BBC"},{id:"trade",label:"Trade Publications",desc:"Industry-specific"},{id:"regional",label:"Regional Media",desc:"Local coverage"}].map(e=>(0,Ni.jsxs)("label",{className:"checkbox-item",children:[(0,Ni.jsx)("input",{type:"checkbox",checked:u.media.preferred_tiers.includes(e.id),onChange:t=>{t.target.checked?d(h(h({},u),{},{media:h(h({},u.media),{},{preferred_tiers:[...u.media.preferred_tiers,e.id]})})):d(h(h({},u),{},{media:h(h({},u.media),{},{preferred_tiers:u.media.preferred_tiers.filter(t=>t!==e.id)})}))}}),(0,Ni.jsxs)("div",{className:"checkbox-content",children:[(0,Ni.jsx)("strong",{children:e.label}),(0,Ni.jsx)("span",{children:e.desc})]})]},e.id))})]})]}),x=()=>(0,Ni.jsxs)("div",{className:"onboarding-step",children:[(0,Ni.jsx)("h2",{children:"What opportunities should we pursue?"}),(0,Ni.jsx)("p",{className:"step-description",children:"Choose which types of opportunities to detect and act on."}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Opportunity Types"}),(0,Ni.jsx)("div",{className:"checkbox-grid",children:[{id:"competitor_weakness",label:"Competitor Weakness",desc:"Capitalize when competitors stumble",icon:"\ud83c\udfaf"},{id:"narrative_vacuum",label:"Narrative Vacuum",desc:"Own unclaimed stories",icon:"\ud83d\udce2"},{id:"cascade_effect",label:"Cascade Prediction",desc:"Get ahead of spreading trends",icon:"\ud83c\udf0a"},{id:"crisis_prevention",label:"Crisis Prevention",desc:"Proactive risk mitigation",icon:"\ud83d\udee1\ufe0f"},{id:"alliance_opening",label:"Partnerships",desc:"Strategic collaborations",icon:"\ud83e\udd1d"}].map(e=>(0,Ni.jsxs)("label",{className:"checkbox-item opportunity-type",children:[(0,Ni.jsx)("input",{type:"checkbox",checked:u.opportunities.types[e.id],onChange:t=>{d(h(h({},u),{},{opportunities:h(h({},u.opportunities),{},{types:h(h({},u.opportunities.types),{},{[e.id]:t.target.checked})})}))}}),(0,Ni.jsxs)("div",{className:"checkbox-content",children:[(0,Ni.jsx)("span",{className:"type-icon",children:e.icon}),(0,Ni.jsxs)("div",{children:[(0,Ni.jsx)("strong",{children:e.label}),(0,Ni.jsx)("span",{children:e.desc})]})]})]},e.id))})]}),(0,Ni.jsxs)("div",{className:"form-group",children:[(0,Ni.jsx)("label",{children:"Confidence Thresholds"}),(0,Ni.jsx)("div",{className:"threshold-settings",children:(0,Ni.jsxs)("div",{className:"threshold-item",children:[(0,Ni.jsx)("label",{children:"Minimum confidence to show opportunity"}),(0,Ni.jsxs)("div",{className:"slider-container",children:[(0,Ni.jsx)("input",{type:"range",min:"50",max:"100",value:u.opportunities.minimum_confidence,onChange:e=>d(h(h({},u),{},{opportunities:h(h({},u.opportunities),{},{minimum_confidence:parseInt(e.target.value)})})),className:"slider"}),(0,Ni.jsxs)("span",{className:"slider-value",children:[u.opportunities.minimum_confidence,"%"]})]})]})})]})]});return(0,i.useEffect)(()=>{const e=localStorage.getItem("signaldesk_unified_profile");if(e){const t=JSON.parse(e);d(t)}else{const e=localStorage.getItem("signaldesk_onboarding");if(e){const t=JSON.parse(e);d(e=>h(h({},e),{},{organization:t.organization||e.organization,competitors:t.competitors||e.competitors}))}}},[]),(0,Ni.jsx)("div",{className:"unified-onboarding",children:(0,Ni.jsxs)("div",{className:"onboarding-container",children:[(0,Ni.jsxs)("div",{className:"onboarding-header",children:[(0,Ni.jsx)("h1",{children:"Welcome to SignalDesk"}),(0,Ni.jsx)("p",{children:"Let's configure your intelligent opportunity engine"})]}),(0,Ni.jsx)("div",{className:"onboarding-content",children:(()=>{switch(r){case 1:return v();case 2:return y();case 3:return b();case 4:return w();case 5:return x();default:return null}})()}),(0,Ni.jsxs)("div",{className:"onboarding-footer",children:[(0,Ni.jsx)("button",{className:"btn-secondary",onClick:()=>{r>1&&a(r-1)},disabled:1===r,children:"Back"}),(0,Ni.jsxs)("div",{className:"footer-right",children:[!p[r-1].required&&(0,Ni.jsx)("button",{className:"btn-ghost",onClick:()=>{p[r-1].required||(r<p.length?a(r+1):g())},children:"Skip for now"}),(0,Ni.jsx)("button",{className:"btn-primary",onClick:async()=>{m()&&(1===r&&!l&&u.organization.name&&(await f(),await new Promise(e=>setTimeout(e,500))),r<p.length?a(r+1):g())},disabled:!m(),children:r===p.length?"Complete Setup":"Next"})]})]})]})})},ic=e=>{let{onComplete:t}=e;return(0,Ni.jsx)(rc,{onComplete:t})};function ac(e){let{children:t}=e;const{token:n,user:r,loading:i}=Ci();return i?(0,Ni.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}):n||r?t:(0,Ni.jsx)(Re,{to:"/login"})}console.log("\ud83d\ude80 SignalDesk initialized with Supabase:",Si?"Connected":"Not connected"),"undefined"!==typeof window&&(window.__SIGNALDESK_SUPABASE__=Si,window.__SIGNALDESK_CONFIG__={supabaseConnected:!!Si,buildTime:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://zskaxjtyuaqazydouifp.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",REACT_APP_API_URL:"",REACT_APP_BACKEND_URL:"https://backend-orchestrator.vercel.app",REACT_APP_MCP_BRIDGE_ENABLED:"true",REACT_APP_ENV:"production",REACT_APP_DEBUG:"false"}.REACT_APP_BUILD_TIME,buildId:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_URL:"https://zskaxjtyuaqazydouifp.supabase.co",REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpza2F4anR5dWFxYXp5ZG91aWZwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzU3Nzk5MjgsImV4cCI6MjA1MTM1NTkyOH0.MJgH4j8wXJhZgfvMOpViiCyxT-BlLCIIqVMJsE_lXG0",REACT_APP_API_URL:"",REACT_APP_BACKEND_URL:"https://backend-orchestrator.vercel.app",REACT_APP_MCP_BRIDGE_ENABLED:"true",REACT_APP_ENV:"production",REACT_APP_DEBUG:"false"}.REACT_APP_BUILD_ID});const sc=function(){return console.log("\u26a1\u26a1\u26a1 RAILWAY V2 NEON INTERFACE - DEPLOYED:",(new Date).toISOString()),console.log("\ud83c\udfaf Modern Railway design with neon buttons"),console.log("\ud83d\udc8e Intelligence Hub with practical insights"),console.log("\ud83d\ude80 VERSION 0.2.0 - Firecrawl Integration Active"),console.log("\ud83d\udcc5 Build Date: August 23, 2025"),(0,Ni.jsx)(vt,{children:(0,Ni.jsx)(Pi,{children:(0,Ni.jsx)(Li,{children:(0,Ni.jsx)(Fi,{children:(0,Ni.jsxs)(Le,{children:[(0,Ni.jsx)(ze,{path:"/login",element:(0,Ni.jsx)(Ol,{})}),(0,Ni.jsx)(ze,{path:"/initialize",element:(0,Ni.jsx)(ic,{})}),(0,Ni.jsx)(ze,{path:"/onboarding",element:(0,Ni.jsx)(ic,{})}),(0,Ni.jsx)(ze,{path:"/*",element:(0,Ni.jsx)(ac,{children:(0,Ni.jsx)(tc,{})})})]})})})})})};s.createRoot(document.getElementById("root")).render((0,Ni.jsx)(i.StrictMode,{children:(0,Ni.jsx)(sc,{})})),console.log("\ud83d\ude80\ud83d\ude80\ud83d\ude80 SignalDesk Version 0.2.0 - FINAL BUILD:",(new Date).toISOString()),console.log("\u2705 Auth Fixed, \ud83d\udd25 Firecrawl Active, \ud83d\udcca Latest Features Deployed")})();